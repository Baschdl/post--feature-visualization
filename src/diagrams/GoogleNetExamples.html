<div class="googlenet-examples">
  {{#each range(5) as x}}
    <div class="example">
      <!--<span class="description">Edges</span>-->
      <div class="images">
        {{#each range(6) as y}}
          <Sprite src_class='sprite_hero' x={{x}} y={{y}} bind:size bind:sprite_scale hover=true/>
        {{/each}}
      </div>
      <span class="description"><strong>{{descriptions[x]}}</strong> (layer {{names[x]}})</span>
    </div>
  {{/each}}
</div>

<style>

  .sprite_hero {
    background-image: url("images/sprite_hero.png");
  }

  .googlenet-examples {
    display: flex;
    flex-flow: column;
  }
  
  .googlenet-examples .example {
    display: flex;
    flex-flow: column;
  }
  
  .googlenet-examples .example .images {
    display: flex;
    flex-flow: row wrap;
    justify-content: flex-start;
  }
  
  .googlenet-examples .example .images > * {
    margin-bottom: 5px;
    margin-right: 5px;
  }
  
  .googlenet-examples .inner {
    image-rendering: auto;
  }
  
  .googlenet-examples .example .images span:last-of-type {
    margin-bottom: 0;
  }
  .googlenet-examples .example:last-of-type {
    /*margin-right: 0;*/
  }
  .googlenet-examples > div:last-child {
  }
  
  .description {
    width: 100%;
    margin-top: 0;
    margin-bottom: 15px;
    color: rgba(0, 0, 0, 0.6);
    font-size: 0.8em;
  }
  
  @media (min-width: 1105px) {
    .googlenet-examples {
      flex-flow: row;
      justify-content: center;
    }
    
    .googlenet-examples .example {
      margin-right: 10px;
    }
    
    .googlenet-examples .example:last-of-type {
      margin-right: 0;
    }
    
    .googlenet-examples .example .images {
      max-width:  calc((100px * 2) + 10px);
      min-height: calc((100px * 3) + 10px*2);
    }
  }
  
  @media (min-width: 1400px) {
    .googlenet-examples .example {
      margin-right: 15px;
    }
    
    .googlenet-examples .example .images {
      max-width:  calc((125px * 2) + 10px);
      min-height: calc((125px * 3) + 10px*2);
    }
  }
  

</style>


<script>
  import Sprite from "./Sprite.html";
  
  function range(n){
    return Array(n).fill().map((_, i) => i);
  }
  
  export default {
    data() {
      return {
        ns: [0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29],
        size: 100,
        sprite_scale: 1.0,
        names: [
          "conv2d0",
          "mixed3a",
          "mixed4a",
          "mixed4b,c",
          "mixed4d,e",
        ],
        descriptions: [
          "Edges",
          "Textures",
          "Patterns",
          "Parts",
          "Objects",
        ]
      }
    },
    oncreate: function() {
      const mq = matchMedia("(min-width: 1400px)");
      mq.onchange = (event) => this.set({size: event.matches ? 125 : 100});
      this.set({
        size: mq.matches ? 125 : 100,
        // sprite_scale: mq.matches ? .625 : .5,
      });
    },
    components: { Sprite },
    helpers: { range },
  }
</script>
