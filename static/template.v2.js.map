{"version":3,"file":"template.v2.js","sources":["../src/components/d-byline.js","../src/styles/styles.js","../src/mixins/template.js","../src/helpers/layout.js","../src/components/d-abstract.js","../src/components/d-appendix.js","../src/front-matter.js","../src/mixins/mutating.js","../src/helpers/katex-auto-render.js","../src/components/d-math.js","../src/helpers/citation.js","../src/helpers/hover-box.js","../src/components/d-cite.js","../src/components/d-front-matter.js","../src/transforms/html.js","../src/transforms/optional-components.js","../src/controller.js","../src/components/d-article.js","../node_modules/bibtex-parse-js/bibtexParse.js","../src/helpers/bibtex.js","../src/components/d-bibliography.js","../src/components/d-citation-list.js","../node_modules/prismjs/prism.js","../node_modules/prismjs/components/prism-python.js","../node_modules/prismjs/components/prism-clike.js","../src/components/d-code.js","../src/components/d-footnote.js","../src/components/d-footnote-list.js","../src/components/d-references.js","../src/components/d-toc.js","../src/components/d-figure.js","../src/components/d-interstitial.js","../src/distill-components/distill-header.js","../src/distill-components/distill-appendix.js","../src/distill-components/distill-footer.js","../src/components.js"],"sourcesContent":["export const style = `\nd-byline {\n  contain: content;\n}\n\nd-byline .byline {\n  grid-column: left / page;\n  font-size: 13px;\n  line-height: 1.8em;\n  color: rgba(0, 0, 0, 0.6);\n}\nd-byline .byline::before {\n  content: \"\";\n  display: block;\n  border-bottom: solid 1px #999;\n  width: 36px;\n  margin-bottom: 36px;\n}\nd-byline .byline::after {\n  content: \"\";\n  display: block;\n  border-bottom: solid 1px #999;\n  width: 36px;\n  margin-top: 36px;\n  margin-bottom: 36px;\n}\n\nd-byline a,\nd-article d-byline a {\n  color: rgba(0, 0, 0, 0.8);\n  text-decoration: none;\n  border-bottom: none;\n}\n\nd-article d-byline a:hover {\n  text-decoration: underline;\n  border-bottom: none;\n}\n\nd-byline .authors {\n  text-align: left;\n}\n\nd-byline .author {\n  margin-right: 12px;\n}\n\nd-byline .author .name {\n  font-weight: 600;\n  display: inline;\n  text-transform: uppercase;\n  margin-right: 10px;\n}\n\nd-byline .author .affiliation {\n  display: inline;\n}\n\nd-byline .date {\n  display: inline;\n  text-align: left;\n  margin-right: 12px;\n}\n\nd-byline .date .year,\nd-byline .date .month {\n  display: inline;\n}\n\nd-byline .citation {\n  display: inline;\n  text-align: left;\n}\n\nd-byline .citation div {\n  display: inline;\n}\n`;\n\n\nexport function bylineTemplate(frontMatter) {\n  return `\n<div class='byline'>\n  <div class=\"authors\">\n    ${frontMatter.authors.map( author => `<div class=\"author\">\n      ${author.personalURL ?\n    `<a class=\"name\" href=\"${author.personalURL}\">${author.name}</a>`\n    :\n    `<div class=\"name\">${author.name}</div>`\n}\n      ${author.affiliationURL ?\n    `<a class=\"affiliation\" href=\"${author.affiliationURL}\">${author.affiliation}</a>`\n    :\n    `<div class=\"affiliation\">${author.affiliation}</div>`\n}\n    </div>`).join('\\n')}\n  </div>\n  <div class=\"date\">\n    <div class=\"month\">${frontMatter.publishedMonth}. ${frontMatter.publishedDay}</div>\n    <div class=\"year\">${frontMatter.publishedYear}</div>\n  </div>\n  <a class=\"citation\" href=\"#citation\">\n    <div>${frontMatter.concatenatedAuthors}, ${frontMatter.publishedYear}</div>\n  </a>\n</div>\n`;\n}\n\nexport class Byline extends HTMLElement {\n\n  static get is() { return 'd-byline'; }\n\n  set frontMatter(frontMatter) {\n    this.innerHTML = bylineTemplate(frontMatter);\n  }\n\n}\n","import base from './styles-base.css';\nimport layout from './styles-layout.css';\nimport article from './styles-article.css';\nimport print from './styles-print.css';\nimport { style as byline } from '../components/d-byline';\nimport math from './d-math.css';\n\nexport const styles = base + layout + byline + math + article + print;\n\nexport function makeStyleTag(dom) {\n\n  const styleTagId = 'distill-prerendered-styles';\n  const prerenderedTag = dom.getElementById(styleTagId);\n  if (!prerenderedTag) {\n    const styleTag = dom.createElement('style');\n    styleTag.id = styleTagId;\n    styleTag.type = 'text/css';\n    const cssTextTag = dom.createTextNode(styles);\n    styleTag.appendChild(cssTextTag);\n    dom.head.insertBefore(styleTag, dom.head.firstChild);\n  }\n\n}\n","/*global ShadyCSS*/\n\nexport const Template = (name, templateString, useShadow = true) => {\n\n  return (superclass) => {\n\n    const template = document.createElement('template');\n    template.innerHTML = templateString;\n\n    if (useShadow && 'ShadyCSS' in window) {\n      ShadyCSS.prepareTemplate(template, name);\n    }\n\n    return class extends superclass {\n\n      static get is() { return name; }\n\n      constructor() {\n        super();\n\n        this.clone = document.importNode(template.content, true);\n        if (useShadow) {\n          this.attachShadow({mode: 'open'});\n          this.shadowRoot.appendChild(this.clone);\n        }\n      }\n\n      connectedCallback() {\n        if (useShadow) {\n          if ('ShadyCSS' in window) {\n            ShadyCSS.styleElement(this);\n          }\n        } else {\n          this.insertBefore(this.clone, this.firstChild);\n        }\n      }\n\n      get root() {\n        if (useShadow) {\n          return this.shadowRoot;\n        } else {\n          return this;\n        }\n      }\n\n      /* TODO: Are we using these? Should we even? */\n      $(query) {\n        return this.root.querySelector(query);\n      }\n\n      $$(query) {\n        return this.root.querySelectorAll(query);\n      }\n    };\n  };\n};\n","// const marginSmall = 16;\n// const marginLarge = 3 * marginSmall;\n// const margin = marginSmall + marginLarge;\n// const gutter = marginSmall;\n// const outsetAmount = margin / 2;\n// const numCols = 4;\n// const numGutters = numCols - 1;\n// const columnWidth = (768 - 2 * marginLarge - numGutters * gutter) / numCols;\n//\n// const screenwidth = 768;\n// const pageWidth = screenwidth - 2 * marginLarge;\n// const bodyWidth = pageWidth - columnWidth - gutter;\n\nexport function body(selector) {\n  return `${selector} {\n      grid-column: left / text;\n    }\n  `;\n}\n\nexport function page(selector) {\n  return `${selector} {\n      grid-column: left / page;\n    }\n  `;\n}\n\nexport function screen(selector) {\n  return `${selector} {\n    grid-column: start / end;\n  }\n  `;\n}\n","import { Template } from '../mixins/template';\nimport { body } from '../helpers/layout';\n\nconst T = Template('d-abstract', `\n<style>\n  :host {\n    display: block;\n    font-size: 23px;\n    line-height: 1.7em;\n    margin-top: 64px;\n    margin-bottom: 64px;\n  }\n  ${body('d-abstract')}\n</style>\n\n<slot></slot>\n`);\n\nexport class Abstract extends T(HTMLElement) {\n\n}\n","import { Template } from '../mixins/template';\nimport { body } from '../helpers/layout';\n\nconst T = Template('d-appendix', `\n<style>\n\nd-appendix {\n  contain: content;\n\n  font-size: 13px;\n  line-height: 1.7em;\n  margin-bottom: 0;\n  border-top: 1px solid rgba(0,0,0,0.1);\n  color: rgba(0,0,0,0.5);\n  padding-top: 36px;\n  padding-bottom: 48px;\n}\n\nd-appendix h3 {\n  font-size: 15px;\n  font-weight: 500;\n  margin-top: 20px;\n  margin-bottom: 0;\n  color: rgba(0,0,0,0.65);\n  line-height: 1em;\n}\n\nd-appendix a {\n  color: rgba(0, 0, 0, 0.6);\n}\n\nd-appendix > * {\n  grid-column: left / text;\n}\n\n</style>\n\n`, false);\n\nexport class Appendix extends T(HTMLElement) {\n\n}\n","const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\nconst months = ['Jan', 'Feb', 'March', 'April', 'May', 'June', 'July', 'Aug', 'Sept', 'Oct', 'Nov', 'Dec'];\nconst zeroPad = n => n < 10 ? '0' + n : n;\n\nconst RFC = function(date) {\n  const day = days[date.getDay()].substring(0, 3);\n  const paddedDate = zeroPad(date.getDate());\n  const month = months[date.getMonth()].substring(0,3);\n  const year = date.getFullYear().toString();\n  const hours = date.getUTCHours().toString();\n  const minutes = date.getUTCMinutes().toString();\n  const seconds = date.getUTCSeconds().toString();\n  return `${day}, ${paddedDate} ${month} ${year} ${hours}:${minutes}:${seconds} Z`;\n};\n\nclass Author {\n\n  // constructor(name='', personalURL='', affiliation='', affiliationURL='') {\n  //   this.name = name; // 'Chris Olah'\n  //   this.personalURL = personalURL; // 'https://colah.github.io'\n  //   this.affiliation = affiliation; // 'Google Brain'\n  //   this.affiliationURL = affiliationURL; // 'https://g.co/brain'\n  // }\n\n  constructor(object) {\n    this.name = object.author; // 'Chris Olah'\n    this.personalURL = object.authorURL; // 'https://colah.github.io'\n    this.affiliation = object.affiliation; // 'Google Brain'\n    this.affiliationURL = object.affiliationURL; // 'https://g.co/brain'\n  }\n\n  // 'Chris'\n  get firstName() {\n    const names = this.name.split(' ');\n    return names.slice(0, names.length - 1).join(' ');\n  }\n\n  // 'Olah'\n  get lastName() {\n    const names = this.name.split(' ');\n    return names[names.length -1];\n  }\n}\n\nexport class FrontMatter {\n  constructor() {\n    this.title = ''; // 'Attention and Augmented Recurrent Neural Networks'\n    this.description = ''; // 'A visual overview of neural attention...'\n    this.authors = []; // Array of Author(s)\n\n    this.bibliography = new Map();\n    this.bibliographyParsed = false;\n    //  {\n    //    'gregor2015draw': {\n    //      'title': 'DRAW: A recurrent neural network for image generation',\n    //      'author': 'Gregor, Karol and Danihelka, Ivo and Graves, Alex and Rezende, Danilo Jimenez and Wierstra, Daan',\n    //      'journal': 'arXiv preprint arXiv:1502.04623',\n    //      'year': '2015',\n    //      'url': 'https://arxiv.org/pdf/1502.04623.pdf',\n    //      'type': 'article'\n    //    },\n    //  }\n\n    // Citation keys should be listed in the order that they are appear in the document.\n    // Each key refers to a key in the bibliography dictionary.\n    this.citations = []; // [ 'gregor2015draw', 'mercier2011humans' ]\n    this.citationsCollected = false;\n\n    //\n    // Assigned from posts.csv\n    //\n\n    //  publishedDate: 2016-09-08T07:00:00.000Z,\n    //  tags: [ 'rnn' ],\n    //  distillPath: '2016/augmented-rnns',\n    //  githubPath: 'distillpub/post--augmented-rnns',\n    //  doiSuffix: 1,\n\n    //\n    // Assigned from journal\n    //\n    this.journal = {};\n    //  journal: {\n    //    'title': 'Distill',\n    //    'full_title': 'Distill',\n    //    'abbrev_title': 'Distill',\n    //    'url': 'http://distill.pub',\n    //    'doi': '10.23915/distill',\n    //    'publisherName': 'Distill Working Group',\n    //    'publisherEmail': 'admin@distill.pub',\n    //    'issn': '2476-0757',\n    //    'editors': [...],\n    //    'committee': [...]\n    //  }\n    //  volume: 1,\n    //  issue: 9,\n    this.publishedDate = new Date();\n\n    this.katex = {};\n\n    //\n    // Assigned from publishing process\n    //\n\n    //  githubCompareUpdatesUrl: 'https://github.com/distillpub/post--augmented-rnns/compare/1596e094d8943d2dc0ea445d92071129c6419c59...3bd9209e0c24d020f87cf6152dcecc6017cbc193',\n    //  updatedDate: 2017-03-21T07:13:16.000Z,\n    //  doi: '10.23915/distill.00001',\n\n  }\n\n  // Example:\n  // title: Demo Title Attention and Augmented Recurrent Neural Networks\n  // published: Jan 10, 2017\n  // authors:\n  // - Chris Olah:\n  // - Shan Carter: http://shancarter.com\n  // affiliations:\n  // - Google Brain:\n  // - Google Brain: http://g.co/brain\n\n  mergeFromYMLFrontmatter(data) {\n    this.title = data.title;\n    this.publishedDate = new Date(data.published);\n    this.description = data.description;\n    this.authors = data.authors.map( (authorObject) => new Author(authorObject));\n    this.katex = data.katex;\n    this.password = data.password;\n  }\n\n  //\n  // Computed Properties\n  //\n\n  // 'http://distill.pub/2016/augmented-rnns',\n  set url(value) {\n    this._url = value;\n  }\n  get url() {\n    if (this._url) {\n      return this._url;\n    } else if (this.distillPath && this.journal.url) {\n      return this.journal.url + '/' + this.distillPath;\n    } else if (this.journal.url) {\n      return this.journal.url;\n    }\n  }\n\n  // 'https://github.com/distillpub/post--augmented-rnns',\n  get githubUrl() {\n    return 'https://github.com/' + this.githubPath;\n  }\n\n  // TODO resolve differences in naming of URL/Url/url.\n  // 'http://distill.pub/2016/augmented-rnns/thumbnail.jpg',\n  set previewURL(value) {\n    this._previewURL = value;\n  }\n  get previewURL() {\n    return this._previewURL ? this._previewURL : this.url + '/thumbnail.jpg';\n  }\n\n  // 'Thu, 08 Sep 2016 00:00:00 -0700',\n  get publishedDateRFC() {\n    return RFC(this.publishedDate);\n  }\n\n  // 'Thu, 08 Sep 2016 00:00:00 -0700',\n  get updatedDateRFC() {\n    return RFC(this.updatedDate);\n  }\n\n  // 2016,\n  get publishedYear() {\n    return this.publishedDate.getFullYear();\n  }\n\n  // 'Sept',\n  get publishedMonth() {\n    return months[this.publishedDate.getMonth()];\n  }\n\n  // 8,\n  get publishedDay() {\n    return this.publishedDate.getDate();\n  }\n\n  // '09',\n  get publishedMonthPadded() {\n    return zeroPad(this.publishedDate.getMonth() + 1);\n  }\n\n  // '08',\n  get publishedDayPadded() {\n    return zeroPad(this.publishedDate.getDate());\n  }\n\n  // 'Olah & Carter',\n  get concatenatedAuthors() {\n    if (this.authors.length > 2) {\n      return this.authors[0].lastName + ', et al.';\n    } else if (this.authors.length === 2) {\n      return this.authors[0].lastName + ' & ' + this.authors[1].lastName;\n    } else if (this.authors.length === 1) {\n      return this.authors[0].lastName;\n    }\n  }\n\n  // 'Olah, Chris and Carter, Shan',\n  get bibtexAuthors() {\n    return this.authors.map(author => {\n      return author.lastName + ', ' + author.firstName;\n    }).join(' and ');\n  }\n\n  // 'olah2016attention'\n  get slug() {\n    let slug = '';\n    if (this.authors.length) {\n      slug += this.authors[0].lastName.toLowerCase();\n      slug += this.publishedYear;\n      slug += this.title.split(' ')[0].toLowerCase();\n    }\n    return slug || 'Untitled';\n  }\n\n  get bibliographyEntries() {\n    return new Map(this.citations.map( citationKey => {\n      const entry = this.bibliography.get(citationKey);\n      return [citationKey, entry];\n    }));\n  }\n\n}\n","export const Mutating = (superclass) => {\n  return class extends superclass {\n\n    constructor() {\n      super();\n\n      // set up mutation observer\n      const options = {childList: true, characterData: true, subtree: true};\n      const observer = new MutationObserver( () => {\n        observer.disconnect();\n        this.renderIfPossible();\n        observer.observe(this, options);\n      });\n\n      // ...and listen for changes\n      observer.observe(this, options);\n    }\n\n    connectedCallback() {\n      super.connectedCallback();\n\n      this.renderIfPossible();\n    }\n\n    // potential TODO: check if this is enough for all our usecases\n    // maybe provide a custom function to tell if we have enough information to render\n    renderIfPossible() {\n      if (this.textContent && this.root) {\n        this.renderContent();\n      }\n    }\n\n    renderContent() {\n      console.error(`Your class ${this.constructor.name} must provide a custom renderContent() method!` );\n    }\n\n  }; // end class\n}; // end mixin function\n","// This is a straight concatenation of code from KaTeX's contrib folder,\n// but we aren't using some of their helpers that don't work well outside a browser environment.\n\n/*global katex */\n\nconst findEndOfMath = function(delimiter, text, startIndex) {\n  // Adapted from\n  // https://github.com/Khan/perseus/blob/master/src/perseus-markdown.jsx\n  let index = startIndex;\n  let braceLevel = 0;\n\n  const delimLength = delimiter.length;\n\n  while (index < text.length) {\n    const character = text[index];\n\n    if (braceLevel <= 0 &&\n      text.slice(index, index + delimLength) === delimiter) {\n      return index;\n    } else if (character === '\\\\') {\n      index++;\n    } else if (character === '{') {\n      braceLevel++;\n    } else if (character === '}') {\n      braceLevel--;\n    }\n\n    index++;\n  }\n\n  return -1;\n};\n\nconst splitAtDelimiters = function(startData, leftDelim, rightDelim, display) {\n  const finalData = [];\n\n  for (let i = 0; i < startData.length; i++) {\n    if (startData[i].type === 'text') {\n      const text = startData[i].data;\n\n      let lookingForLeft = true;\n      let currIndex = 0;\n      let nextIndex;\n\n      nextIndex = text.indexOf(leftDelim);\n      if (nextIndex !== -1) {\n        currIndex = nextIndex;\n        finalData.push({\n          type: 'text',\n          data: text.slice(0, currIndex),\n        });\n        lookingForLeft = false;\n      }\n\n      while (true) { // eslint-disable-line no-constant-condition\n        if (lookingForLeft) {\n          nextIndex = text.indexOf(leftDelim, currIndex);\n          if (nextIndex === -1) {\n            break;\n          }\n\n          finalData.push({\n            type: 'text',\n            data: text.slice(currIndex, nextIndex),\n          });\n\n          currIndex = nextIndex;\n        } else {\n          nextIndex = findEndOfMath(\n            rightDelim,\n            text,\n            currIndex + leftDelim.length);\n          if (nextIndex === -1) {\n            break;\n          }\n\n          finalData.push({\n            type: 'math',\n            data: text.slice(\n              currIndex + leftDelim.length,\n              nextIndex),\n            rawData: text.slice(\n              currIndex,\n              nextIndex + rightDelim.length),\n            display: display,\n          });\n\n          currIndex = nextIndex + rightDelim.length;\n        }\n\n        lookingForLeft = !lookingForLeft;\n      }\n\n      finalData.push({\n        type: 'text',\n        data: text.slice(currIndex),\n      });\n    } else {\n      finalData.push(startData[i]);\n    }\n  }\n\n  return finalData;\n};\n\n\nconst splitWithDelimiters = function(text, delimiters) {\n  let data = [{type: 'text', data: text}];\n  for (let i = 0; i < delimiters.length; i++) {\n    const delimiter = delimiters[i];\n    data = splitAtDelimiters(\n      data, delimiter.left, delimiter.right,\n      delimiter.display || false);\n  }\n  return data;\n};\n\n/* Note: optionsCopy is mutated by this method. If it is ever exposed in the\n * API, we should copy it before mutating.\n */\nconst renderMathInText = function(text, optionsCopy) {\n  const data = splitWithDelimiters(text, optionsCopy.delimiters);\n  const fragment = document.createDocumentFragment();\n\n  for (let i = 0; i < data.length; i++) {\n    if (data[i].type === 'text') {\n      fragment.appendChild(document.createTextNode(data[i].data));\n    } else {\n      const tag = document.createElement('d-math');\n      const math = data[i].data;\n      // Override any display mode defined in the settings with that\n      // defined by the text itself\n      optionsCopy.displayMode = data[i].display;\n      try {\n        tag.textContent = math;\n        if (optionsCopy.displayMode) {\n          tag.setAttribute('block', '');\n        }\n      } catch (e) {\n        if (!(e instanceof katex.ParseError)) {\n          throw e;\n        }\n        optionsCopy.errorCallback(\n          'KaTeX auto-render: Failed to parse `' + data[i].data +\n          '` with ',\n          e\n        );\n        fragment.appendChild(document.createTextNode(data[i].rawData));\n        continue;\n      }\n      fragment.appendChild(tag);\n    }\n  }\n\n  return fragment;\n};\n\nconst renderElem = function(elem, optionsCopy) {\n  for (let i = 0; i < elem.childNodes.length; i++) {\n    const childNode = elem.childNodes[i];\n    if (childNode.nodeType === 3) {\n      // Text node\n      const frag = renderMathInText(childNode.textContent, optionsCopy);\n      i += frag.childNodes.length - 1;\n      elem.replaceChild(frag, childNode);\n    } else if (childNode.nodeType === 1) {\n      // Element node\n      const shouldRender = optionsCopy.ignoredTags.indexOf(\n        childNode.nodeName.toLowerCase()) === -1;\n\n      if (shouldRender) {\n        renderElem(childNode, optionsCopy);\n      }\n    }\n    // Otherwise, it's something else, and ignore it.\n  }\n};\n\nconst defaultAutoRenderOptions = {\n  delimiters: [\n    {left: '$$', right: '$$', display: true},\n    {left: '\\\\[', right: '\\\\]', display: true},\n    {left: '\\\\(', right: '\\\\)', display: false},\n    // LaTeX uses this, but it ruins the display of normal `$` in text:\n    // {left: '$', right: '$', display: false},\n  ],\n\n  ignoredTags: [\n    'script', 'noscript', 'style', 'textarea', 'pre', 'code', 'svg',\n  ],\n\n  errorCallback: function(msg, err) {\n    console.error(msg, err);\n  },\n};\n\nexport const renderMathInElement = function(elem, options) {\n  if (!elem) {\n    throw new Error('No element provided to render');\n  }\n\n  const optionsCopy = Object.assign({}, defaultAutoRenderOptions, options);\n  renderElem(elem, optionsCopy);\n};\n","/*global katex */\nimport { Mutating } from '../mixins/mutating.js';\nimport { Template } from '../mixins/template.js';\n\nimport style from '../styles/d-math.css';\n\n// attaches renderMathInElement to window\nimport { renderMathInElement } from '../helpers/katex-auto-render';\n\nexport const katexJSURL = 'https://distill.pub/third-party/katex/katex.min.js';\nexport const katexCSSTag = '<link rel=\"stylesheet\" href=\"https://distill.pub/third-party/katex/katex.min.css\" crossorigin=\"anonymous\">';\n\nconst T = Template('d-math', `\n${katexCSSTag}\n<style>\n\n:host {\n  display: inline-block;\n  contain: content;\n}\n\n:host([block]) {\n  display: block;\n}\n\n${style}\n</style>\n<span id='katex-container'></span>\n`);\n\n// DMath, not Math, because that would conflict with the JS built-in\nexport class DMath extends Mutating(T(HTMLElement)) {\n\n  static set katexOptions(options) {\n    DMath._katexOptions = options;\n    if (DMath.katexOptions.delimiters && !DMath.katexAdded) {\n      DMath.addKatex();\n    }\n  }\n\n  static get katexOptions() {\n    if (!DMath._katexOptions) {\n      DMath._katexOptions = {\n        delimiters: [ { 'left':'$', 'right':'$', 'display':true } ]\n      };\n    }\n    return DMath._katexOptions;\n  }\n\n  static katexLoadedCallback() {\n    // render all d-math tags\n    const mathTags = document.querySelectorAll('d-math');\n    for (const mathTag of mathTags) {\n      mathTag.renderContent();\n    }\n    // transform inline delimited math to d-math tags\n    if (DMath.katexOptions.delimiters) {\n      const article = document.querySelector('d-article');\n      renderMathInElement(article, DMath.katexOptions);\n    }\n  }\n\n  static addKatex() {\n    // css tag can use this convenience function\n    document.head.insertAdjacentHTML('beforeend', katexCSSTag);\n    // script tag has to be created to work properly\n    const scriptTag = document.createElement('script');\n    scriptTag.src = katexJSURL;\n    scriptTag.async = true;\n    scriptTag.onload = DMath.katexLoadedCallback;\n    scriptTag.crossorigin = 'anonymous';\n    document.head.appendChild(scriptTag);\n\n    DMath.katexAdded = true;\n  }\n\n  get options() {\n    const localOptions = { displayMode: this.hasAttribute('block') };\n    return Object.assign(localOptions, DMath.katexOptions);\n  }\n\n  connectedCallback() {\n    super.connectedCallback();\n    if (!DMath.katexAdded) {\n      DMath.addKatex();\n    }\n  }\n\n  renderContent() {\n    if (typeof katex !== 'undefined') {\n      const container = this.root.querySelector('#katex-container');\n      katex.render(this.textContent, container, this.options);\n    }\n  }\n\n}\n\nDMath.katexAdded = false;\nDMath.inlineMathRendered = false;\nwindow.DMath = DMath; // TODO: check if this can be removed, or if we should expose a distill global\n","export function inline_cite_short(keys){\n  function cite_string(key){\n    if (key in data.bibliography){\n      var n = data.citations.indexOf(key)+1;\n      return ''+n;\n    } else {\n      return '?';\n    }\n  }\n  return '['+keys.map(cite_string).join(', ')+']';\n}\n\nexport function inline_cite_long(keys){\n  function cite_string(key){\n    if (key in data.bibliography){\n      var ent = data.bibliography[key];\n      var names = ent.author.split(' and ');\n      names = names.map(name => name.split(',')[0].trim());\n      var year = ent.year;\n      if (names.length == 1) return names[0] + ', ' + year;\n      if (names.length == 2) return names[0] + ' & ' + names[1] + ', ' + year;\n      if (names.length  > 2) return names[0] + ', et al., ' + year;\n    } else {\n      return '?';\n    }\n  }\n  return keys.map(cite_string).join(', ');\n}\n\nfunction author_string(ent, template, sep, finalSep){\n  var names = ent.author.split(' and ');\n  let name_strings = names.map(name => {\n    name = name.trim();\n    if (name.indexOf(',') != -1){\n      var last = name.split(',')[0].trim();\n      var firsts = name.split(',')[1];\n    } else {\n      var last = name.split(' ').slice(-1)[0].trim();\n      var firsts = name.split(' ').slice(0,-1).join(' ');\n    }\n    var initials = '';\n    if (firsts != undefined) {\n      initials = firsts.trim().split(' ').map(s => s.trim()[0]);\n      initials = initials.join('.')+'.';\n    }\n    return template.replace('${F}', firsts)\n      .replace('${L}', last)\n      .replace('${I}', initials);\n  });\n  if (names.length > 1) {\n    var str = name_strings.slice(0, names.length-1).join(sep);\n    str += (finalSep || sep) + name_strings[names.length-1];\n    return str;\n  } else {\n    return name_strings[0];\n  }\n}\n\nfunction venue_string(ent) {\n  var cite = (ent.journal || ent.booktitle || '');\n  if ('volume' in ent){\n    var issue = ent.issue || ent.number;\n    issue = (issue != undefined)? '('+issue+')' : '';\n    cite += ', Vol ' + ent.volume + issue;\n  }\n  if ('pages' in ent){\n    cite += ', pp. ' + ent.pages;\n  }\n  if (cite != '') cite += '. ';\n  if ('publisher' in ent){\n    cite += ent.publisher;\n    if (cite[cite.length-1] != '.') cite += '.';\n  }\n  return cite;\n}\n\nfunction link_string(ent){\n  if ('url' in ent){\n    var url = ent.url;\n    var arxiv_match = (/arxiv\\.org\\/abs\\/([0-9\\.]*)/).exec(url);\n    if (arxiv_match != null){\n      url = `http://arxiv.org/pdf/${arxiv_match[1]}.pdf`;\n    }\n\n    if (url.slice(-4) == '.pdf'){\n      var label = 'PDF';\n    } else if (url.slice(-5) == '.html') {\n      var label = 'HTML';\n    }\n    return ` &ensp;<a href=\"${url}\">[${label||'link'}]</a>`;\n  }/* else if (\"doi\" in ent){\n    return ` &ensp;<a href=\"https://doi.org/${ent.doi}\" >[DOI]</a>`;\n  }*/ else {\n    return '';\n  }\n}\nfunction doi_string(ent, new_line){\n  if ('doi' in ent) {\n    return `${new_line?'<br>':''} <a href=\"https://doi.org/${ent.doi}\" style=\"text-decoration:inherit;\">DOI: ${ent.doi}</a>`;\n  } else {\n    return '';\n  }\n}\n\nexport function bibliography_cite(ent, fancy){\n  if (ent){\n    var cite =  '<b>' + ent.title + '</b> ';\n    cite += link_string(ent) + '<br>';\n    cite += author_string(ent, '${L}, ${I}', ', ', ' and ');\n    if (ent.year || ent.date){\n      cite += ', ' + (ent.year || ent.date) + '. ';\n    } else {\n      cite += '. ';\n    }\n    cite += venue_string(ent);\n    cite += doi_string(ent);\n    return cite;\n    /*var cite =  author_string(ent, \"${L}, ${I}\", \", \", \" and \");\n    if (ent.year || ent.date){\n      cite += \", \" + (ent.year || ent.date) + \". \"\n    } else {\n      cite += \". \"\n    }\n    cite += \"<b>\" + ent.title + \"</b>. \";\n    cite += venue_string(ent);\n    cite += doi_string(ent);\n    cite += link_string(ent);\n    return cite*/\n  } else {\n    return '?';\n  }\n}\n\nexport function hover_cite(ent){\n  if (ent){\n    var cite = '';\n    cite += '<b>' + ent.title + '</b>';\n    cite += link_string(ent);\n    cite += '<br>';\n\n    var a_str = author_string(ent, '${I} ${L}', ', ') + '.';\n    var v_str = venue_string(ent).trim() + ' ' + ent.year + '. ' + doi_string(ent, true);\n\n    if ((a_str+v_str).length < Math.min(40, ent.title.length)) {\n      cite += a_str + ' ' + v_str;\n    } else {\n      cite += a_str + '<br>' + v_str;\n    }\n    return cite;\n  } else {\n    return '?';\n  }\n}\n\n\n//https://scholar.google.com/scholar?q=allintitle%3ADocument+author%3Aolah\nfunction get_GS_URL(ent){\n  if (ent){\n    var names = ent.author.split(' and ');\n    names = names.map(name => name.split(',')[0].trim());\n    var title = ent.title.split(' ');//.replace(/[,:]/, \"\")\n    var url = 'http://search.labs.crossref.org/dois?';//\"\"https://scholar.google.com/scholar?\"\n    url += uris({q: names.join(' ') + ' ' + title.join(' ')});\n  }\n}\n","function make_hover_css(pos, tag) {\n  const pretty = window.innerWidth > 600;\n  const padding = pretty? 18 : 12;\n  const outer_padding = pretty ? 18 : 0;\n  // const bbox = document.querySelector('body').getBoundingClientRect();\n  const bbox = tag.offsetParent.getBoundingClientRect();\n  let left = pos[0] - bbox.left, top = pos[1] - bbox.top;\n  let width = Math.min(window.innerWidth-2*outer_padding, 648);\n  left = Math.min(left, window.innerWidth-width-outer_padding);\n  width = width - 2 * padding;\n  return (`position: absolute;\n     background-color: #FFF;\n     opacity: 0.95;\n     max-width: ${width}px;\n     top: ${top}px;\n     left: ${left}px;\n     border: 1px solid rgba(0, 0, 0, 0.25);\n     padding: ${padding}px;\n     border-radius: ${pretty? 3 : 0}px;\n     box-shadow: 0px 2px 10px 2px rgba(0, 0, 0, 0.2);\n     z-index: ${1e6};`);\n}\n\nconst timeoutDuration = 50000;\n\nexport class HoverBox {\n\n  constructor(contentHTML, triggerElement) {\n    this.visible = false;\n    // div hold teh contents of the box that will become visible\n    this.div = contentHTML;\n    this.bindDivEvents(this.div);\n    // triggerElement holds the element that needs to be hovered etc to show contents\n    this.triggerElement = triggerElement;\n    this.bindTriggerEvents(this.triggerElement);\n    this.hide();\n  }\n\n  bindDivEvents(node) {\n    // For mice, same behavior as hovering on links\n    this.div.addEventListener('mouseover', () => {\n      if (!this.visible) this.showAtNode(node);\n      this.stopTimeout();\n    });\n    this.div.addEventListener('mouseout', () => {\n      this.extendTimeout(timeoutDuration);\n    });\n    // Don't trigger body touchstart event when touching within box\n    this.div.addEventListener('touchstart', (event) => {\n      event.stopPropagation();\n    }, {passive: true});\n    // Close box when touching outside box\n    document.body.addEventListener('touchstart', () => {\n      this.hide();\n    }, {passive: true});\n  }\n\n  bindTriggerEvents(node) {\n    node.addEventListener('mouseover', () => {\n      if (!this.visible) {\n        this.showAtNode(node);\n      }\n      this.stopTimeout();\n    });\n\n    node.addEventListener('mouseout', () => {\n      this.extendTimeout(timeoutDuration);\n    });\n\n    node.addEventListener('touchstart', (event) => {\n      if (this.visible) {\n        this.hide();\n      } else {\n        this.showAtNode(node);\n      }\n      // Don't trigger body touchstart event when touching link\n      event.stopPropagation();\n    }, {passive: true});\n  }\n\n  show(position) {\n    this.visible = true;\n    const css = make_hover_css(position, this.triggerElement);\n    this.div.setAttribute('style', css );\n  }\n\n  showAtNode(node) {\n    const bbox = node.getBoundingClientRect();\n    this.show([bbox.right, bbox.bottom]);\n  }\n\n  hide() {\n    this.visible = false;\n    this.div.setAttribute('style', 'display:none');\n    this.stopTimeout();\n  }\n\n  stopTimeout() {\n    if (this.timeout) {\n      clearTimeout(this.timeout);\n    }\n  }\n\n  extendTimeout(time) {\n    this.stopTimeout();\n    this.timeout = setTimeout(() => {\n      this.hide();\n    }, time);\n  }\n\n}\n","import { Template } from '../mixins/template';\nimport { hover_cite, bibliography_cite } from '../helpers/citation';\nimport { HoverBox } from '../helpers/hover-box';\n\nconst T = Template('d-cite', `\n<style>\n  .citation {\n    color: hsla(206, 90%, 20%, 0.7);\n  }\n  .citation-number {\n    cursor: default;\n    white-space: nowrap;\n    font-family: -apple-system, BlinkMacSystemFont, \"Roboto\", Helvetica, sans-serif;\n    font-size: 75%;\n    color: hsla(206, 90%, 20%, 0.7);\n    display: inline-block;\n    line-height: 1.1em;\n    text-align: center;\n    position: relative;\n    top: -2px;\n    margin: 0 2px;\n  }\n  figcaption .citation-number {\n    font-size: 11px;\n    font-weight: normal;\n    top: -2px;\n    line-height: 1em;\n  }\n</style>\n\n<div id=\"hover-box\" class=\"dt-hover-box\">\n</div>\n\n<span id=\"citation-\" class=\"citation\">\n  <slot></slot>\n  <span class=\"citation-number\"></span>\n</span>\n`);\n\nexport function collectCitations(dom=document) {\n  const citations = new Set();\n  const citeTags = dom.querySelectorAll('d-cite');\n  for (const tag of citeTags) {\n    const keys = tag.getAttribute('key').split(',');\n    for (const key of keys) {\n      citations.add(key);\n    }\n  }\n  return [...citations];\n}\n\nexport class Cite extends T(HTMLElement) {\n\n  /* Lifecycle */\n\n  // constructor() {\n  //   super();\n  //   // Cite.currentId += 1;\n  //   // this.citeId = Cite.currentId;\n  // }\n\n  connectedCallback() {\n    // this.notify();\n\n    this.hoverDiv = this.root.querySelector('.dt-hover-box');\n    this.outerSpan = this.root.querySelector('#citation-');\n    this.innerSpan = this.root.querySelector('.citation-number');\n    // this.outerSpan.id = `citation-${this.citeId}`;\n    // this.hoverDiv.id = `dt-cite-hover-box-${this.citeId}`;\n    // console.log(this, this.hoverDiv, this.outerSpan, this.innerSpan);\n    this.hoverbox = new HoverBox(this.hoverDiv, this.outerSpan);\n  }\n\n  disconnectedCallback() {\n    const options = { detail: [this, this.keys], bubbles: true };\n    const event = new CustomEvent('onCiteKeyRemoved', options);\n    document.dispatchEvent(event);\n  }\n\n  /* Observed Attributes */\n\n  // renderCitationNumbers(citations) {\n  //   const numbers = this._keys.map( (key) => {\n  //     const index = citations.indexOf(key);\n  //     return index == -1 ? '?' : index + 1 + '';\n  //   });\n  //   const text = \"[\" + numbers.join(\", \") + \"]\";\n  //   this.innerSpan.textContent = text;\n  // }\n\n\n\n  /* observe 'key' attribute */\n\n  static get observedAttributes() {\n    return ['key'];\n  }\n\n  attributeChangedCallback(name, oldValue, newValue) {\n    const eventName = oldValue ? 'onCiteKeyChanged' : 'onCiteKeyCreated';\n    const keys = newValue.split(',');\n    const options = { detail: [this, keys], bubbles: true };\n    const event = new CustomEvent(eventName, options);\n    document.dispatchEvent(event);\n  }\n\n  set key(value) {\n    this.setAttribute('key', value);\n  }\n\n  get key() {\n    return this.getAttribute('key');\n  }\n\n  get keys() {\n    return this.getAttribute('key').split(',');\n  }\n\n  /* Setters & Rendering */\n\n  set numbers(numbers) {\n    const numberStrings = numbers.map( index => {\n      return index == -1 ? '?' : index + 1 + '';\n    });\n    const textContent = '[' + numberStrings.join(', ') + ']';\n    const innerSpan = this.root.querySelector('.citation-number');\n    innerSpan.textContent = textContent;\n  }\n\n  set entries(entries) {\n    const div = this.root.querySelector('#hover-box');\n    div.innerHTML = entries.map(hover_cite).join('<br><br>');\n  }\n\n  // renderContent() {\n  //   const bibliography = document.querySelector('d-bibliography');\n  //   if (bibliography && bibliography.finishedLoading) {\n  //     customElements.whenDefined('d-bibliography').then( () => {\n  //       const keys = this.key.split(\",\");\n  //\n  //       // set up hidden hover box\n  //       const div = this.root.querySelector('.dt-hover-box');\n  //       div.innerHTML = keys.map( (key) => {\n  //         return bibliography.getEntry(key);\n  //       }).map(hover_cite).join('<br><br>');\n  //       div.id ='dt-cite-hover-box-' + this.citeId;\n  //\n  //       // set up visible citation marker\n  //       const outerSpan = this.root.querySelector('#citation-');\n  //       outerSpan.id = `citation-${this.citeId}`;\n  //       // outerSpan.setAttribute('data-hover', dataHoverString); // directly tell HoverBox instead?\n  //       const innerSpan = this.root.querySelector('.citation-number');\n  //       innerSpan.textContent = inline_cite_short(keys, bibliography);\n  //\n  //       HoverBox.get_box(div).bind(outerSpan);\n  //     });\n  //   } else {\n  //     console.error(`You used a d-cite tag (${key}) without including a d-bibliography tag in your article. We can't lookup your citation this way.`)\n  //   }\n  // }\n\n}\n","export function parseFrontmatter(element) {\n  const scriptTag = element.querySelector('script');\n  if (scriptTag) {\n    const type = scriptTag.getAttribute('type');\n    if (type.split('/')[1] == 'json') {\n      const content = scriptTag.textContent;\n      return JSON.parse(content);\n    } else {\n      console.error('Distill only supoprts JSON frontmatter tags anymore; no more YAML.');\n    }\n  } else {\n    console.error('You added a frontmatter tag but did not provide a script tag with front matter data in it. Please take a look at our templates.');\n  }\n  return {};\n}\n\nexport class FrontMatter extends HTMLElement {\n\n  static get is() { return 'd-front-matter'; }\n\n  constructor() {\n    super();\n\n    const options = {childList: true, characterData: true, subtree: true};\n    const observer = new MutationObserver( (entries) => {\n      for (const entry of entries) {\n        if (entry.target.nodeName === 'SCRIPT' || entry.type === 'characterData') {\n          const data = parseFrontmatter(this);\n          this.notify(data);\n        }\n      }\n    });\n    observer.observe(this, options);\n  }\n\n  notify(data) {\n    const options = { detail: data, bubbles: true };\n    const event = new CustomEvent('onFrontMatterChanged', options);\n    document.dispatchEvent(event);\n  }\n\n}\n","export default function(dom) {\n\n  const head = dom.querySelector('head');\n\n  // set language to 'en'\n  if (!dom.querySelector('html').getAttribute('lang')) {\n    dom.querySelector('html').setAttribute('lang', 'en');\n  }\n\n  // set charset to 'utf-8'\n  if (!dom.querySelector('meta[charset]')) {\n    const meta = dom.createElement('meta');\n    meta.setAttribute('charset', 'utf-8');\n    head.appendChild(meta);\n  }\n\n  // set viewport\n  if (!dom.querySelector('meta[name=viewport]')) {\n    const meta = dom.createElement('meta');\n    meta.setAttribute('name', 'viewport');\n    meta.setAttribute('content', 'width=device-width, initial-scale=1');\n    head.appendChild(meta);\n  }\n}\n","// no appendix -> add appendix\n// title in front, no h1 -> add it\n// no title in front, h1 -> read and put into frontMatter\n// footnote -> footnote list\n// break up bib\n// if citation, no bib-list -> add citation-list\n\n// if authors, no byline -> add byline\n\nexport default function(dom, data) {\n  const article = dom.querySelector('d-article');\n\n  let interstitial = dom.querySelector('d-interstitial');\n  if (!interstitial && data.password) {\n    interstitial = dom.createElement('d-interstitial');\n    interstitial.password = data.password;\n    dom.body.insertBefore(interstitial, article);\n  }\n\n  let h1 = dom.querySelector('h1');\n  if (h1) {\n    if (!data.title) {\n      data.title = h1.textContent;\n    }\n  } else {\n    if (data.title) {\n      h1 = dom.createElement('h1');\n      h1.textContent = data.title;\n      article.insertBefore(h1, article.firstChild);\n    }\n    if (data.description) {\n      const h2 = dom.createElement('h2');\n      h2.textContent = data.description;\n      article.insertBefore(h2, h1.nextSibling);\n    }\n  }\n\n  let byline = dom.querySelector('d-byline');\n  if (!byline && data.authors) {\n    byline = dom.createElement('d-byline');\n    const skipTags = ['H1', 'H2', 'FIGURE'];\n    let candidate = h1;\n    while (skipTags.indexOf(candidate.tagName) !== -1) {\n      candidate = candidate.nextSibling;\n    }\n    article.insertBefore(byline, candidate);\n  }\n\n  let appendix = dom.querySelector('d-appendix');\n  if (!appendix) {\n    appendix = dom.createElement('d-appendix');\n    dom.body.appendChild(appendix);\n  }\n\n  let footnoteList = dom.querySelector('d-footnote-list');\n  if (!footnoteList) {\n    footnoteList = dom.createElement('d-footnote-list');\n    appendix.appendChild(footnoteList);\n  }\n\n  let citationList = dom.querySelector('d-citation-list');\n  if (!citationList) {\n    citationList = dom.createElement('d-citation-list');\n    appendix.appendChild(citationList);\n  }\n\n}\n","import { FrontMatter } from './front-matter';\nimport { DMath } from './components/d-math';\nimport { collectCitations } from './components/d-cite';\nimport { parseFrontmatter } from './components/d-front-matter';\nimport html from './transforms/html';\nimport optionalComponents from './transforms/optional-components';\n\nconst frontMatter = new FrontMatter();\n\nexport const Controller = {\n\n  frontMatter: frontMatter,\n  waitingOn: {\n    bibliography: [],\n    citations: [],\n  },\n  listeners: {\n\n    onCiteKeyCreated(event) {\n      const [citeTag, keys] = event.detail;\n\n      // ensure we have citations\n      if (!frontMatter.citationsCollected) {\n        // console.debug('onCiteKeyCreated, but unresolved dependency (\"citations\"). Enqueing.');\n        Controller.waitingOn.citations.push(() => Controller.listeners.onCiteKeyCreated(event));\n        return;\n      }\n\n      // ensure we have a loaded bibliography\n      if (!frontMatter.bibliographyParsed) {\n        // console.debug('onCiteKeyCreated, but unresolved dependency (\"bibliography\"). Enqueing.');\n        Controller.waitingOn.bibliography.push(() => Controller.listeners.onCiteKeyCreated(event));\n        return;\n      }\n\n      const numbers = keys.map( key => frontMatter.citations.indexOf(key) );\n      citeTag.numbers = numbers;\n      const entries = keys.map( key => frontMatter.bibliography.get(key) );\n      citeTag.entries = entries;\n    },\n\n    onCiteKeyChanged(event) {\n      // const [citeTag, keys] = event.detail;\n\n      // update citations\n      frontMatter.citations = collectCitations();\n      frontMatter.citationsCollected = true;\n      for (const waitingCallback of Controller.waitingOn.citations.slice()) {\n        waitingCallback();\n      }\n\n      // update bibliography\n      const citationListTag = document.querySelector('d-citation-list');\n      const bibliographyEntries = new Map(frontMatter.citations.map( citationKey => {\n        return [citationKey, frontMatter.bibliography.get(citationKey)];\n      }));\n      citationListTag.citations = bibliographyEntries;\n\n      const citeTags = document.querySelectorAll('d-cite');\n      for (const citeTag of citeTags) {\n        const keys = citeTag.keys;\n        const numbers = keys.map( key => frontMatter.citations.indexOf(key) );\n        citeTag.numbers = numbers;\n        const entries = keys.map( key => frontMatter.bibliography.get(key) );\n        citeTag.entries = entries;\n      }\n\n    },\n\n    onCiteKeyRemoved(event) {\n      Controller.listeners.onCiteKeyChanged(event);\n    },\n\n    onBibliographyChanged(event) {\n      const citationListTag = document.querySelector('d-citation-list');\n      const bibliography = event.detail;\n\n      frontMatter.bibliography = bibliography;\n      frontMatter.bibliographyParsed = true;\n      for (const waitingCallback of Controller.waitingOn.bibliography.slice()) {\n        waitingCallback();\n      }\n\n      // ensure we have citations\n      if (!frontMatter.citationsCollected) {\n        Controller.waitingOn.citations.push( function() {\n          Controller.listeners.onBibliographyChanged({target: event.target, detail: event.detail});\n        });\n        return;\n      }\n\n      const entries = new Map(frontMatter.citations.map( citationKey => {\n        return [citationKey, frontMatter.bibliography.get(citationKey)];\n      }));\n\n      citationListTag.citations = entries;\n    },\n\n    onFootnoteChanged() {\n      // const footnote = event.detail;\n      //TODO: optimize to only update current footnote\n      const footnotesList = document.querySelector('d-footnote-list');\n      if (footnotesList) {\n        const footnotes = document.querySelectorAll('d-footnote');\n        footnotesList.footnotes = footnotes;\n      }\n    },\n\n    onFrontMatterChanged(event) {\n      const data = event.detail;\n      frontMatter.mergeFromYMLFrontmatter(data);\n\n      const interstitial = document.querySelector('d-interstitial');\n      if (interstitial) {\n        interstitial.password = frontMatter.password;\n      }\n\n      const prerendered = document.body.hasAttribute('distill-prerendered');\n      if (!prerendered) {\n        optionalComponents(document, frontMatter);\n        html(document, frontMatter);\n\n        const appendix = document.querySelector('distill-appendix');\n        if (appendix) {\n          appendix.frontMatter = frontMatter;\n        }\n\n        const byline = document.querySelector('d-byline');\n        if (byline) {\n          byline.frontMatter = frontMatter;\n        }\n\n        if (data.katex) {\n          DMath.katexOptions = data.katex;\n        }\n      }\n\n    },\n\n    DOMContentLoaded() {\n      // console.debug('DOMContentLoaded.');\n\n      const frontMatterTag = document.querySelector('d-front-matter');\n      const data = parseFrontmatter(frontMatterTag);\n      Controller.listeners.onFrontMatterChanged({detail: data});\n\n      // console.debug('Resolving \"citations\" dependency due to initial DOM load.');\n      frontMatter.citations = collectCitations();\n      frontMatter.citationsCollected = true;\n      for (const waitingCallback of Controller.waitingOn.citations.slice()) {\n        waitingCallback();\n      }\n\n      const footnotesList = document.querySelector('d-footnote-list');\n      if (footnotesList) {\n        const footnotes = document.querySelectorAll('d-footnote');\n        footnotesList.footnotes = footnotes;\n      }\n    }\n\n  }, // listeners\n\n}; // Controller\n","import { Template } from '../mixins/template';\nimport { Controller } from '../controller';\n\nconst T = Template('d-article', `\n<style>\nd-article {\n  contain: content;\n}\n</style>\n`, false);\n\n// export function addInferableTags(dom, frontMatter) {\n//   const title = frontMatter.title;\n//   if (title) {\n//     const titleTag = document.querySelector()\n//\n//   }\n// }\n\nconst isOnlyWhitespace = /^\\s*$/;\n\nexport class Article extends T(HTMLElement) {\n\n  constructor() {\n    super();\n\n    new MutationObserver( (mutations) => {\n      for (const mutation of mutations) {\n        for (const addedNode of mutation.addedNodes) {\n          switch (addedNode.nodeName) {\n          case 'HR':\n            console.warn('Use of <hr> tags in distill articles is discouraged as they interfere with layout! To separate sections, please just use h2 or h3 tags.');\n            break;\n          case '#text': { // usually text nodes are only linebreaks.\n            const text = addedNode.nodeValue;\n            if (!isOnlyWhitespace.test(text)) {\n              console.warn('Use of unwrapped text in distill articles is discouraged as it breaks layout! Please wrap any text in a <span> or <p> tag. We found the following text: ' + text);\n              const wrapper = document.createElement('span');\n              wrapper.innerHTML = addedNode.nodeValue;\n              addedNode.parentNode.insertBefore(wrapper, addedNode);\n              addedNode.parentNode.removeChild(addedNode);\n            }\n          } break;\n          }\n        }\n      }\n    }).observe(this, {childList: true});\n  }\n\n  connectedCallback() {\n    for (const [functionName, callback] of Object.entries(Controller.listeners)) {\n      if (typeof callback === 'function') {\n        document.addEventListener(functionName, callback);\n      } else {\n        console.error('Controller listeners need to be functions!');\n      }\n    }\n  }\n\n}\n","/* start bibtexParse 0.0.22 */\n\n//Original work by Henrik Muehe (c) 2010\n//\n//CommonJS port by Mikola Lysenko 2013\n//\n//Port to Browser lib by ORCID / RCPETERS\n//\n//Issues:\n//no comment handling within strings\n//no string concatenation\n//no variable values yet\n//Grammar implemented here:\n//bibtex -> (string | preamble | comment | entry)*;\n//string -> '@STRING' '{' key_equals_value '}';\n//preamble -> '@PREAMBLE' '{' value '}';\n//comment -> '@COMMENT' '{' value '}';\n//entry -> '@' key '{' key ',' key_value_list '}';\n//key_value_list -> key_equals_value (',' key_equals_value)*;\n//key_equals_value -> key '=' value;\n//value -> value_quotes | value_braces | key;\n//value_quotes -> '\"' .*? '\"'; // not quite\n//value_braces -> '{' .*? '\"'; // not quite\n(function(exports) {\n\n    function BibtexParser() {\n        \n        this.months = [\"jan\", \"feb\", \"mar\", \"apr\", \"may\", \"jun\", \"jul\", \"aug\", \"sep\", \"oct\", \"nov\", \"dec\"];\n        this.notKey = [',','{','}',' ','='];\n        this.pos = 0;\n        this.input = \"\";\n        this.entries = new Array();\n\n        this.currentEntry = \"\";\n\n        this.setInput = function(t) {\n            this.input = t;\n        };\n\n        this.getEntries = function() {\n            return this.entries;\n        };\n\n        this.isWhitespace = function(s) {\n            return (s == ' ' || s == '\\r' || s == '\\t' || s == '\\n');\n        };\n\n        this.match = function(s, canCommentOut) {\n            if (canCommentOut == undefined || canCommentOut == null)\n                canCommentOut = true;\n            this.skipWhitespace(canCommentOut);\n            if (this.input.substring(this.pos, this.pos + s.length) == s) {\n                this.pos += s.length;\n            } else {\n                throw \"Token mismatch, expected \" + s + \", found \"\n                        + this.input.substring(this.pos);\n            };\n            this.skipWhitespace(canCommentOut);\n        };\n\n        this.tryMatch = function(s, canCommentOut) {\n            if (canCommentOut == undefined || canCommentOut == null)\n                canCommentOut = true;\n            this.skipWhitespace(canCommentOut);\n            if (this.input.substring(this.pos, this.pos + s.length) == s) {\n                return true;\n            } else {\n                return false;\n            };\n            this.skipWhitespace(canCommentOut);\n        };\n\n        /* when search for a match all text can be ignored, not just white space */\n        this.matchAt = function() {\n            while (this.input.length > this.pos && this.input[this.pos] != '@') {\n                this.pos++;\n            };\n\n            if (this.input[this.pos] == '@') {\n                return true;\n            };\n            return false;\n        };\n\n        this.skipWhitespace = function(canCommentOut) {\n            while (this.isWhitespace(this.input[this.pos])) {\n                this.pos++;\n            };\n            if (this.input[this.pos] == \"%\" && canCommentOut == true) {\n                while (this.input[this.pos] != \"\\n\") {\n                    this.pos++;\n                };\n                this.skipWhitespace(canCommentOut);\n            };\n        };\n\n        this.value_braces = function() {\n            var bracecount = 0;\n            this.match(\"{\", false);\n            var start = this.pos;\n            var escaped = false;\n            while (true) {\n                if (!escaped) {\n                    if (this.input[this.pos] == '}') {\n                        if (bracecount > 0) {\n                            bracecount--;\n                        } else {\n                            var end = this.pos;\n                            this.match(\"}\", false);\n                            return this.input.substring(start, end);\n                        };\n                    } else if (this.input[this.pos] == '{') {\n                        bracecount++;\n                    } else if (this.pos >= this.input.length - 1) {\n                        throw \"Unterminated value\";\n                    };\n                };\n                if (this.input[this.pos] == '\\\\' && escaped == false)\n                    escaped = true;\n                else\n                    escaped = false;\n                this.pos++;\n            };\n        };\n\n        this.value_comment = function() {\n            var str = '';\n            var brcktCnt = 0;\n            while (!(this.tryMatch(\"}\", false) && brcktCnt == 0)) {\n                str = str + this.input[this.pos];\n                if (this.input[this.pos] == '{')\n                    brcktCnt++;\n                if (this.input[this.pos] == '}')\n                    brcktCnt--;\n                if (this.pos >= this.input.length - 1) {\n                    throw \"Unterminated value:\" + this.input.substring(start);\n                };\n                this.pos++;\n            };\n            return str;\n        };\n\n        this.value_quotes = function() {\n            this.match('\"', false);\n            var start = this.pos;\n            var escaped = false;\n            while (true) {\n                if (!escaped) {\n                    if (this.input[this.pos] == '\"') {\n                        var end = this.pos;\n                        this.match('\"', false);\n                        return this.input.substring(start, end);\n                    } else if (this.pos >= this.input.length - 1) {\n                        throw \"Unterminated value:\" + this.input.substring(start);\n                    };\n                }\n                if (this.input[this.pos] == '\\\\' && escaped == false)\n                    escaped = true;\n                else\n                    escaped = false;\n                this.pos++;\n            };\n        };\n\n        this.single_value = function() {\n            var start = this.pos;\n            if (this.tryMatch(\"{\")) {\n                return this.value_braces();\n            } else if (this.tryMatch('\"')) {\n                return this.value_quotes();\n            } else {\n                var k = this.key();\n                if (k.match(\"^[0-9]+$\"))\n                    return k;\n                else if (this.months.indexOf(k.toLowerCase()) >= 0)\n                    return k.toLowerCase();\n                else\n                    throw \"Value expected:\" + this.input.substring(start) + ' for key: ' + k;\n            \n            };\n        };\n\n        this.value = function() {\n            var values = [];\n            values.push(this.single_value());\n            while (this.tryMatch(\"#\")) {\n                this.match(\"#\");\n                values.push(this.single_value());\n            };\n            return values.join(\"\");\n        };\n\n        this.key = function() {\n            var start = this.pos;\n            while (true) {\n                if (this.pos >= this.input.length) {\n                    throw \"Runaway key\";\n                };\n                                // а-яА-Я is Cyrillic\n                //console.log(this.input[this.pos]);\n                if (this.notKey.indexOf(this.input[this.pos]) >= 0) {\n                    return this.input.substring(start, this.pos);\n                } else {\n                    this.pos++;\n                    \n                };\n            };\n        };\n\n        this.key_equals_value = function() {\n            var key = this.key();\n            if (this.tryMatch(\"=\")) {\n                this.match(\"=\");\n                var val = this.value();\n                return [ key, val ];\n            } else {\n                throw \"... = value expected, equals sign missing:\"\n                        + this.input.substring(this.pos);\n            };\n        };\n\n        this.key_value_list = function() {\n            var kv = this.key_equals_value();\n            this.currentEntry['entryTags'] = {};\n            this.currentEntry['entryTags'][kv[0]] = kv[1];\n            while (this.tryMatch(\",\")) {\n                this.match(\",\");\n                // fixes problems with commas at the end of a list\n                if (this.tryMatch(\"}\")) {\n                    break;\n                }\n                ;\n                kv = this.key_equals_value();\n                this.currentEntry['entryTags'][kv[0]] = kv[1];\n            };\n        };\n\n        this.entry_body = function(d) {\n            this.currentEntry = {};\n            this.currentEntry['citationKey'] = this.key();\n            this.currentEntry['entryType'] = d.substring(1);\n            this.match(\",\");\n            this.key_value_list();\n            this.entries.push(this.currentEntry);\n        };\n\n        this.directive = function() {\n            this.match(\"@\");\n            return \"@\" + this.key();\n        };\n\n        this.preamble = function() {\n            this.currentEntry = {};\n            this.currentEntry['entryType'] = 'PREAMBLE';\n            this.currentEntry['entry'] = this.value_comment();\n            this.entries.push(this.currentEntry);\n        };\n\n        this.comment = function() {\n            this.currentEntry = {};\n            this.currentEntry['entryType'] = 'COMMENT';\n            this.currentEntry['entry'] = this.value_comment();\n            this.entries.push(this.currentEntry);\n        };\n\n        this.entry = function(d) {\n            this.entry_body(d);\n        };\n\n        this.bibtex = function() {\n            while (this.matchAt()) {\n                var d = this.directive();\n                this.match(\"{\");\n                if (d == \"@STRING\") {\n                    this.string();\n                } else if (d == \"@PREAMBLE\") {\n                    this.preamble();\n                } else if (d == \"@COMMENT\") {\n                    this.comment();\n                } else {\n                    this.entry(d);\n                }\n                this.match(\"}\");\n            };\n        };\n    };\n    \n    exports.toJSON = function(bibtex) {\n        var b = new BibtexParser();\n        b.setInput(bibtex);\n        b.bibtex();\n        return b.entries;\n    };\n\n    /* added during hackathon don't hate on me */\n    exports.toBibtex = function(json) {\n        var out = '';\n        for ( var i in json) {\n            out += \"@\" + json[i].entryType;\n            out += '{';\n            if (json[i].citationKey)\n                out += json[i].citationKey + ', ';\n            if (json[i].entry)\n                out += json[i].entry ;\n            if (json[i].entryTags) {\n                var tags = '';\n                for (var jdx in json[i].entryTags) {\n                    if (tags.length != 0)\n                        tags += ', ';\n                    tags += jdx + '= {' + json[i].entryTags[jdx] + '}';\n                }\n                out += tags;\n            }\n            out += '}\\n\\n';\n        }\n        return out;\n        \n    };\n\n})(typeof exports === 'undefined' ? this['bibtexParse'] = {} : exports);\n\n/* end bibtexParse */\n","import bibtexParse from 'bibtex-parse-js';\n\nfunction normalizeTag(string) {\n  return string\n    .replace(/[\\t\\n ]+/g, ' ')\n    .replace(/{\\\\[\"^`.'acu~Hvs]( )?([a-zA-Z])}/g, (full, x, char) => char)\n    .replace(/{\\\\([a-zA-Z])}/g, (full, char) => char);\n}\n\nexport function parseBibtex(bibtex) {\n  const bibliography = new Map();\n  const parsedEntries = bibtexParse.toJSON(bibtex);\n  for (const entry of parsedEntries) {\n    // normalize tags; note entryTags is an object, not Map\n    for (const [key, value] of Object.entries(entry.entryTags)) {\n      entry.entryTags[key] = normalizeTag(value);\n    }\n    entry.entryTags.type = entry.entryType;\n    // add to bibliography\n    bibliography.set(entry.citationKey, entry.entryTags);\n  }\n  return bibliography;\n}\n\nexport function serializeFrontmatterToBibtex(frontMatter) {\n  return `@article{${frontMatter.slug},\n  author = {${frontMatter.bibtexAuthors}},\n  title = {${frontMatter.title}},\n  journal = {${frontMatter.journal.title}},\n  year = {${frontMatter.publishedYear}},\n  note = {${frontMatter.url}}\n}`;\n}\n","import { parseBibtex } from '../helpers/bibtex';\n\nexport function parseBibliography(element) {\n  if (element.firstElementChild && element.firstElementChild.tagName === 'SCRIPT') {\n    const bibtex = element.firstElementChild.textContent;\n    return parseBibtex(bibtex);\n  }\n}\n\nexport class Bibliography extends HTMLElement {\n\n  static get is() { return 'd-bibliography'; }\n\n  constructor() {\n    super();\n\n    // set up mutation observer\n    const options = {childList: true, characterData: true, subtree: true};\n    const observer = new MutationObserver( (entries) => {\n      for (const entry of entries) {\n        if (entry.target.nodeName === 'SCRIPT' || entry.type === 'characterData') {\n          this.parseIfPossible();\n        }\n      }\n    });\n    observer.observe(this, options);\n  }\n\n  parseIfPossible() {\n    const scriptTag = this.querySelector('script');\n    if (!scriptTag) return;\n    if (scriptTag.type == 'text/bibtex') {\n      const newBibtex = scriptTag.textContent;\n      if (this.bibtex !== newBibtex) {\n        this.bibtex = newBibtex;\n        const bibliography = parseBibtex(this.bibtex);\n        this.notify(bibliography);\n      }\n    } else if (scriptTag.type == 'text/json') {\n      const bibliography = new Map(JSON.parse(scriptTag.textContent));\n      this.notify(bibliography);\n    } else {\n      console.warn('Unsupported bibliography script tag type: ' + scriptTag.type);\n    }\n  }\n\n  notify(bibliography) {\n    const options = { detail: bibliography, bubbles: true };\n    const event = new CustomEvent('onBibliographyChanged', options);\n    this.dispatchEvent(event);\n  }\n\n  /* observe 'src' attribute */\n\n  static get observedAttributes() {\n    return ['src'];\n  }\n\n  receivedBibtex(event) {\n    const bibliography = parseBibtex(event.target.response);\n    this.notify(bibliography);\n  }\n\n  attributeChangedCallback(name, oldValue, newValue) {\n    var oReq = new XMLHttpRequest();\n    oReq.onload = (e) => this.receivedBibtex(e);\n    oReq.onerror = () => console.warn(`Could not load Bibtex! (tried ${newValue})`);\n    oReq.responseType = 'text';\n    oReq.open('GET', newValue, true);\n    oReq.send();\n  }\n\n\n}\n","import { Template } from '../mixins/template';\nimport { bibliography_cite } from '../helpers/citation';\n\nconst T = Template('d-citation-list', `\n<style>\n\n:host {\n  contain: content;\n}\n.references {\n  font-size: 12px;\n  line-height: 20px;\n}\n.title {\n  font-weight: 600;\n}\nol {\n  padding: 0 0 0 18px;\n}\nli {\n  margin-bottom: 12px;\n}\nh3 {\n  font-size: 15px;\n  font-weight: 500;\n  margin-top: 20px;\n  margin-bottom: 0;\n  color: rgba(0,0,0,0.65);\n  line-height: 1em;\n}\na {\n  color: rgba(0, 0, 0, 0.6);\n}\n\n</style>\n\n<h3>References</h3>\n<ol class='references' id='references-list' ></ol>\n`);\n\nexport function renderCitationList(element, entries) {\n  if (entries.size > 0) {\n    element.host.style.display = 'initial';\n    const list = element.querySelector('#references-list');\n    list.innerHTML = '';\n\n    for (const [key, entry] of entries) {\n      const listItem = document.createElement('li');\n      listItem.id = key;\n      listItem.innerHTML = bibliography_cite(entry);\n      list.appendChild(listItem);\n    }\n  } else {\n    element.host.style.display = 'none';\n  }\n}\n\nexport class CitationList extends T(HTMLElement) {\n\n  connectedCallback() {\n    this.root.host.style.display = 'none';\n  }\n\n  set citations(citations) {\n    renderCitationList(this.root, citations);\n  }\n\n}\n","\n/* **********************************************\n     Begin prism-core.js\n********************************************** */\n\nvar _self = (typeof window !== 'undefined')\n\t? window   // if in browser\n\t: (\n\t\t(typeof WorkerGlobalScope !== 'undefined' && self instanceof WorkerGlobalScope)\n\t\t? self // if in worker\n\t\t: {}   // if in node js\n\t);\n\n/**\n * Prism: Lightweight, robust, elegant syntax highlighting\n * MIT license http://www.opensource.org/licenses/mit-license.php/\n * @author Lea Verou http://lea.verou.me\n */\n\nvar Prism = (function(){\n\n// Private helper vars\nvar lang = /\\blang(?:uage)?-(\\w+)\\b/i;\nvar uniqueId = 0;\n\nvar _ = _self.Prism = {\n\tutil: {\n\t\tencode: function (tokens) {\n\t\t\tif (tokens instanceof Token) {\n\t\t\t\treturn new Token(tokens.type, _.util.encode(tokens.content), tokens.alias);\n\t\t\t} else if (_.util.type(tokens) === 'Array') {\n\t\t\t\treturn tokens.map(_.util.encode);\n\t\t\t} else {\n\t\t\t\treturn tokens.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/\\u00a0/g, ' ');\n\t\t\t}\n\t\t},\n\n\t\ttype: function (o) {\n\t\t\treturn Object.prototype.toString.call(o).match(/\\[object (\\w+)\\]/)[1];\n\t\t},\n\n\t\tobjId: function (obj) {\n\t\t\tif (!obj['__id']) {\n\t\t\t\tObject.defineProperty(obj, '__id', { value: ++uniqueId });\n\t\t\t}\n\t\t\treturn obj['__id'];\n\t\t},\n\n\t\t// Deep clone a language definition (e.g. to extend it)\n\t\tclone: function (o) {\n\t\t\tvar type = _.util.type(o);\n\n\t\t\tswitch (type) {\n\t\t\t\tcase 'Object':\n\t\t\t\t\tvar clone = {};\n\n\t\t\t\t\tfor (var key in o) {\n\t\t\t\t\t\tif (o.hasOwnProperty(key)) {\n\t\t\t\t\t\t\tclone[key] = _.util.clone(o[key]);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\treturn clone;\n\n\t\t\t\tcase 'Array':\n\t\t\t\t\t// Check for existence for IE8\n\t\t\t\t\treturn o.map && o.map(function(v) { return _.util.clone(v); });\n\t\t\t}\n\n\t\t\treturn o;\n\t\t}\n\t},\n\n\tlanguages: {\n\t\textend: function (id, redef) {\n\t\t\tvar lang = _.util.clone(_.languages[id]);\n\n\t\t\tfor (var key in redef) {\n\t\t\t\tlang[key] = redef[key];\n\t\t\t}\n\n\t\t\treturn lang;\n\t\t},\n\n\t\t/**\n\t\t * Insert a token before another token in a language literal\n\t\t * As this needs to recreate the object (we cannot actually insert before keys in object literals),\n\t\t * we cannot just provide an object, we need anobject and a key.\n\t\t * @param inside The key (or language id) of the parent\n\t\t * @param before The key to insert before. If not provided, the function appends instead.\n\t\t * @param insert Object with the key/value pairs to insert\n\t\t * @param root The object that contains `inside`. If equal to Prism.languages, it can be omitted.\n\t\t */\n\t\tinsertBefore: function (inside, before, insert, root) {\n\t\t\troot = root || _.languages;\n\t\t\tvar grammar = root[inside];\n\n\t\t\tif (arguments.length == 2) {\n\t\t\t\tinsert = arguments[1];\n\n\t\t\t\tfor (var newToken in insert) {\n\t\t\t\t\tif (insert.hasOwnProperty(newToken)) {\n\t\t\t\t\t\tgrammar[newToken] = insert[newToken];\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\treturn grammar;\n\t\t\t}\n\n\t\t\tvar ret = {};\n\n\t\t\tfor (var token in grammar) {\n\n\t\t\t\tif (grammar.hasOwnProperty(token)) {\n\n\t\t\t\t\tif (token == before) {\n\n\t\t\t\t\t\tfor (var newToken in insert) {\n\n\t\t\t\t\t\t\tif (insert.hasOwnProperty(newToken)) {\n\t\t\t\t\t\t\t\tret[newToken] = insert[newToken];\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\n\t\t\t\t\tret[token] = grammar[token];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Update references in other language definitions\n\t\t\t_.languages.DFS(_.languages, function(key, value) {\n\t\t\t\tif (value === root[inside] && key != inside) {\n\t\t\t\t\tthis[key] = ret;\n\t\t\t\t}\n\t\t\t});\n\n\t\t\treturn root[inside] = ret;\n\t\t},\n\n\t\t// Traverse a language definition with Depth First Search\n\t\tDFS: function(o, callback, type, visited) {\n\t\t\tvisited = visited || {};\n\t\t\tfor (var i in o) {\n\t\t\t\tif (o.hasOwnProperty(i)) {\n\t\t\t\t\tcallback.call(o, i, o[i], type || i);\n\n\t\t\t\t\tif (_.util.type(o[i]) === 'Object' && !visited[_.util.objId(o[i])]) {\n\t\t\t\t\t\tvisited[_.util.objId(o[i])] = true;\n\t\t\t\t\t\t_.languages.DFS(o[i], callback, null, visited);\n\t\t\t\t\t}\n\t\t\t\t\telse if (_.util.type(o[i]) === 'Array' && !visited[_.util.objId(o[i])]) {\n\t\t\t\t\t\tvisited[_.util.objId(o[i])] = true;\n\t\t\t\t\t\t_.languages.DFS(o[i], callback, i, visited);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t},\n\tplugins: {},\n\n\thighlightAll: function(async, callback) {\n\t\tvar env = {\n\t\t\tcallback: callback,\n\t\t\tselector: 'code[class*=\"language-\"], [class*=\"language-\"] code, code[class*=\"lang-\"], [class*=\"lang-\"] code'\n\t\t};\n\n\t\t_.hooks.run(\"before-highlightall\", env);\n\n\t\tvar elements = env.elements || document.querySelectorAll(env.selector);\n\n\t\tfor (var i=0, element; element = elements[i++];) {\n\t\t\t_.highlightElement(element, async === true, env.callback);\n\t\t}\n\t},\n\n\thighlightElement: function(element, async, callback) {\n\t\t// Find language\n\t\tvar language, grammar, parent = element;\n\n\t\twhile (parent && !lang.test(parent.className)) {\n\t\t\tparent = parent.parentNode;\n\t\t}\n\n\t\tif (parent) {\n\t\t\tlanguage = (parent.className.match(lang) || [,''])[1].toLowerCase();\n\t\t\tgrammar = _.languages[language];\n\t\t}\n\n\t\t// Set language on the element, if not present\n\t\telement.className = element.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language;\n\n\t\t// Set language on the parent, for styling\n\t\tparent = element.parentNode;\n\n\t\tif (/pre/i.test(parent.nodeName)) {\n\t\t\tparent.className = parent.className.replace(lang, '').replace(/\\s+/g, ' ') + ' language-' + language;\n\t\t}\n\n\t\tvar code = element.textContent;\n\n\t\tvar env = {\n\t\t\telement: element,\n\t\t\tlanguage: language,\n\t\t\tgrammar: grammar,\n\t\t\tcode: code\n\t\t};\n\n\t\t_.hooks.run('before-sanity-check', env);\n\n\t\tif (!env.code || !env.grammar) {\n\t\t\tif (env.code) {\n\t\t\t\tenv.element.textContent = env.code;\n\t\t\t}\n\t\t\t_.hooks.run('complete', env);\n\t\t\treturn;\n\t\t}\n\n\t\t_.hooks.run('before-highlight', env);\n\n\t\tif (async && _self.Worker) {\n\t\t\tvar worker = new Worker(_.filename);\n\n\t\t\tworker.onmessage = function(evt) {\n\t\t\t\tenv.highlightedCode = evt.data;\n\n\t\t\t\t_.hooks.run('before-insert', env);\n\n\t\t\t\tenv.element.innerHTML = env.highlightedCode;\n\n\t\t\t\tcallback && callback.call(env.element);\n\t\t\t\t_.hooks.run('after-highlight', env);\n\t\t\t\t_.hooks.run('complete', env);\n\t\t\t};\n\n\t\t\tworker.postMessage(JSON.stringify({\n\t\t\t\tlanguage: env.language,\n\t\t\t\tcode: env.code,\n\t\t\t\timmediateClose: true\n\t\t\t}));\n\t\t}\n\t\telse {\n\t\t\tenv.highlightedCode = _.highlight(env.code, env.grammar, env.language);\n\n\t\t\t_.hooks.run('before-insert', env);\n\n\t\t\tenv.element.innerHTML = env.highlightedCode;\n\n\t\t\tcallback && callback.call(element);\n\n\t\t\t_.hooks.run('after-highlight', env);\n\t\t\t_.hooks.run('complete', env);\n\t\t}\n\t},\n\n\thighlight: function (text, grammar, language) {\n\t\tvar tokens = _.tokenize(text, grammar);\n\t\treturn Token.stringify(_.util.encode(tokens), language);\n\t},\n\n\ttokenize: function(text, grammar, language) {\n\t\tvar Token = _.Token;\n\n\t\tvar strarr = [text];\n\n\t\tvar rest = grammar.rest;\n\n\t\tif (rest) {\n\t\t\tfor (var token in rest) {\n\t\t\t\tgrammar[token] = rest[token];\n\t\t\t}\n\n\t\t\tdelete grammar.rest;\n\t\t}\n\n\t\ttokenloop: for (var token in grammar) {\n\t\t\tif(!grammar.hasOwnProperty(token) || !grammar[token]) {\n\t\t\t\tcontinue;\n\t\t\t}\n\n\t\t\tvar patterns = grammar[token];\n\t\t\tpatterns = (_.util.type(patterns) === \"Array\") ? patterns : [patterns];\n\n\t\t\tfor (var j = 0; j < patterns.length; ++j) {\n\t\t\t\tvar pattern = patterns[j],\n\t\t\t\t\tinside = pattern.inside,\n\t\t\t\t\tlookbehind = !!pattern.lookbehind,\n\t\t\t\t\tgreedy = !!pattern.greedy,\n\t\t\t\t\tlookbehindLength = 0,\n\t\t\t\t\talias = pattern.alias;\n\n\t\t\t\tif (greedy && !pattern.pattern.global) {\n\t\t\t\t\t// Without the global flag, lastIndex won't work\n\t\t\t\t\tvar flags = pattern.pattern.toString().match(/[imuy]*$/)[0];\n\t\t\t\t\tpattern.pattern = RegExp(pattern.pattern.source, flags + \"g\");\n\t\t\t\t}\n\n\t\t\t\tpattern = pattern.pattern || pattern;\n\n\t\t\t\t// Don’t cache length as it changes during the loop\n\t\t\t\tfor (var i=0, pos = 0; i<strarr.length; pos += strarr[i].length, ++i) {\n\n\t\t\t\t\tvar str = strarr[i];\n\n\t\t\t\t\tif (strarr.length > text.length) {\n\t\t\t\t\t\t// Something went terribly wrong, ABORT, ABORT!\n\t\t\t\t\t\tbreak tokenloop;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (str instanceof Token) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tpattern.lastIndex = 0;\n\n\t\t\t\t\tvar match = pattern.exec(str),\n\t\t\t\t\t    delNum = 1;\n\n\t\t\t\t\t// Greedy patterns can override/remove up to two previously matched tokens\n\t\t\t\t\tif (!match && greedy && i != strarr.length - 1) {\n\t\t\t\t\t\tpattern.lastIndex = pos;\n\t\t\t\t\t\tmatch = pattern.exec(text);\n\t\t\t\t\t\tif (!match) {\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar from = match.index + (lookbehind ? match[1].length : 0),\n\t\t\t\t\t\t    to = match.index + match[0].length,\n\t\t\t\t\t\t    k = i,\n\t\t\t\t\t\t    p = pos;\n\n\t\t\t\t\t\tfor (var len = strarr.length; k < len && p < to; ++k) {\n\t\t\t\t\t\t\tp += strarr[k].length;\n\t\t\t\t\t\t\t// Move the index i to the element in strarr that is closest to from\n\t\t\t\t\t\t\tif (from >= p) {\n\t\t\t\t\t\t\t\t++i;\n\t\t\t\t\t\t\t\tpos = p;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t/*\n\t\t\t\t\t\t * If strarr[i] is a Token, then the match starts inside another Token, which is invalid\n\t\t\t\t\t\t * If strarr[k - 1] is greedy we are in conflict with another greedy pattern\n\t\t\t\t\t\t */\n\t\t\t\t\t\tif (strarr[i] instanceof Token || strarr[k - 1].greedy) {\n\t\t\t\t\t\t\tcontinue;\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// Number of tokens to delete and replace with the new match\n\t\t\t\t\t\tdelNum = k - i;\n\t\t\t\t\t\tstr = text.slice(pos, p);\n\t\t\t\t\t\tmatch.index -= pos;\n\t\t\t\t\t}\n\n\t\t\t\t\tif (!match) {\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t}\n\n\t\t\t\t\tif(lookbehind) {\n\t\t\t\t\t\tlookbehindLength = match[1].length;\n\t\t\t\t\t}\n\n\t\t\t\t\tvar from = match.index + lookbehindLength,\n\t\t\t\t\t    match = match[0].slice(lookbehindLength),\n\t\t\t\t\t    to = from + match.length,\n\t\t\t\t\t    before = str.slice(0, from),\n\t\t\t\t\t    after = str.slice(to);\n\n\t\t\t\t\tvar args = [i, delNum];\n\n\t\t\t\t\tif (before) {\n\t\t\t\t\t\targs.push(before);\n\t\t\t\t\t}\n\n\t\t\t\t\tvar wrapped = new Token(token, inside? _.tokenize(match, inside) : match, alias, match, greedy);\n\n\t\t\t\t\targs.push(wrapped);\n\n\t\t\t\t\tif (after) {\n\t\t\t\t\t\targs.push(after);\n\t\t\t\t\t}\n\n\t\t\t\t\tArray.prototype.splice.apply(strarr, args);\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn strarr;\n\t},\n\n\thooks: {\n\t\tall: {},\n\n\t\tadd: function (name, callback) {\n\t\t\tvar hooks = _.hooks.all;\n\n\t\t\thooks[name] = hooks[name] || [];\n\n\t\t\thooks[name].push(callback);\n\t\t},\n\n\t\trun: function (name, env) {\n\t\t\tvar callbacks = _.hooks.all[name];\n\n\t\t\tif (!callbacks || !callbacks.length) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tfor (var i=0, callback; callback = callbacks[i++];) {\n\t\t\t\tcallback(env);\n\t\t\t}\n\t\t}\n\t}\n};\n\nvar Token = _.Token = function(type, content, alias, matchedStr, greedy) {\n\tthis.type = type;\n\tthis.content = content;\n\tthis.alias = alias;\n\t// Copy of the full string this token was created from\n\tthis.length = (matchedStr || \"\").length|0;\n\tthis.greedy = !!greedy;\n};\n\nToken.stringify = function(o, language, parent) {\n\tif (typeof o == 'string') {\n\t\treturn o;\n\t}\n\n\tif (_.util.type(o) === 'Array') {\n\t\treturn o.map(function(element) {\n\t\t\treturn Token.stringify(element, language, o);\n\t\t}).join('');\n\t}\n\n\tvar env = {\n\t\ttype: o.type,\n\t\tcontent: Token.stringify(o.content, language, parent),\n\t\ttag: 'span',\n\t\tclasses: ['token', o.type],\n\t\tattributes: {},\n\t\tlanguage: language,\n\t\tparent: parent\n\t};\n\n\tif (env.type == 'comment') {\n\t\tenv.attributes['spellcheck'] = 'true';\n\t}\n\n\tif (o.alias) {\n\t\tvar aliases = _.util.type(o.alias) === 'Array' ? o.alias : [o.alias];\n\t\tArray.prototype.push.apply(env.classes, aliases);\n\t}\n\n\t_.hooks.run('wrap', env);\n\n\tvar attributes = Object.keys(env.attributes).map(function(name) {\n\t\treturn name + '=\"' + (env.attributes[name] || '').replace(/\"/g, '&quot;') + '\"';\n\t}).join(' ');\n\n\treturn '<' + env.tag + ' class=\"' + env.classes.join(' ') + '\"' + (attributes ? ' ' + attributes : '') + '>' + env.content + '</' + env.tag + '>';\n\n};\n\nif (!_self.document) {\n\tif (!_self.addEventListener) {\n\t\t// in Node.js\n\t\treturn _self.Prism;\n\t}\n \t// In worker\n\t_self.addEventListener('message', function(evt) {\n\t\tvar message = JSON.parse(evt.data),\n\t\t    lang = message.language,\n\t\t    code = message.code,\n\t\t    immediateClose = message.immediateClose;\n\n\t\t_self.postMessage(_.highlight(code, _.languages[lang], lang));\n\t\tif (immediateClose) {\n\t\t\t_self.close();\n\t\t}\n\t}, false);\n\n\treturn _self.Prism;\n}\n\n//Get current script and highlight\nvar script = document.currentScript || [].slice.call(document.getElementsByTagName(\"script\")).pop();\n\nif (script) {\n\t_.filename = script.src;\n\n\tif (document.addEventListener && !script.hasAttribute('data-manual')) {\n\t\tif(document.readyState !== \"loading\") {\n\t\t\tif (window.requestAnimationFrame) {\n\t\t\t\twindow.requestAnimationFrame(_.highlightAll);\n\t\t\t} else {\n\t\t\t\twindow.setTimeout(_.highlightAll, 16);\n\t\t\t}\n\t\t}\n\t\telse {\n\t\t\tdocument.addEventListener('DOMContentLoaded', _.highlightAll);\n\t\t}\n\t}\n}\n\nreturn _self.Prism;\n\n})();\n\nif (typeof module !== 'undefined' && module.exports) {\n\tmodule.exports = Prism;\n}\n\n// hack for components to work correctly in node.js\nif (typeof global !== 'undefined') {\n\tglobal.Prism = Prism;\n}\n\n\n/* **********************************************\n     Begin prism-markup.js\n********************************************** */\n\nPrism.languages.markup = {\n\t'comment': /<!--[\\w\\W]*?-->/,\n\t'prolog': /<\\?[\\w\\W]+?\\?>/,\n\t'doctype': /<!DOCTYPE[\\w\\W]+?>/i,\n\t'cdata': /<!\\[CDATA\\[[\\w\\W]*?]]>/i,\n\t'tag': {\n\t\tpattern: /<\\/?(?!\\d)[^\\s>\\/=$<]+(?:\\s+[^\\s>\\/=]+(?:=(?:(\"|')(?:\\\\\\1|\\\\?(?!\\1)[\\w\\W])*\\1|[^\\s'\">=]+))?)*\\s*\\/?>/i,\n\t\tinside: {\n\t\t\t'tag': {\n\t\t\t\tpattern: /^<\\/?[^\\s>\\/]+/i,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /^<\\/?/,\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t},\n\t\t\t'attr-value': {\n\t\t\t\tpattern: /=(?:('|\")[\\w\\W]*?(\\1)|[^\\s>]+)/i,\n\t\t\t\tinside: {\n\t\t\t\t\t'punctuation': /[=>\"']/\n\t\t\t\t}\n\t\t\t},\n\t\t\t'punctuation': /\\/?>/,\n\t\t\t'attr-name': {\n\t\t\t\tpattern: /[^\\s>\\/]+/,\n\t\t\t\tinside: {\n\t\t\t\t\t'namespace': /^[^\\s>\\/:]+:/\n\t\t\t\t}\n\t\t\t}\n\n\t\t}\n\t},\n\t'entity': /&#?[\\da-z]{1,8};/i\n};\n\n// Plugin to make entity title show the real entity, idea by Roman Komarov\nPrism.hooks.add('wrap', function(env) {\n\n\tif (env.type === 'entity') {\n\t\tenv.attributes['title'] = env.content.replace(/&amp;/, '&');\n\t}\n});\n\nPrism.languages.xml = Prism.languages.markup;\nPrism.languages.html = Prism.languages.markup;\nPrism.languages.mathml = Prism.languages.markup;\nPrism.languages.svg = Prism.languages.markup;\n\n\n/* **********************************************\n     Begin prism-css.js\n********************************************** */\n\nPrism.languages.css = {\n\t'comment': /\\/\\*[\\w\\W]*?\\*\\//,\n\t'atrule': {\n\t\tpattern: /@[\\w-]+?.*?(;|(?=\\s*\\{))/i,\n\t\tinside: {\n\t\t\t'rule': /@[\\w-]+/\n\t\t\t// See rest below\n\t\t}\n\t},\n\t'url': /url\\((?:([\"'])(\\\\(?:\\r\\n|[\\w\\W])|(?!\\1)[^\\\\\\r\\n])*\\1|.*?)\\)/i,\n\t'selector': /[^\\{\\}\\s][^\\{\\};]*?(?=\\s*\\{)/,\n\t'string': {\n\t\tpattern: /(\"|')(\\\\(?:\\r\\n|[\\w\\W])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n\t\tgreedy: true\n\t},\n\t'property': /(\\b|\\B)[\\w-]+(?=\\s*:)/i,\n\t'important': /\\B!important\\b/i,\n\t'function': /[-a-z0-9]+(?=\\()/i,\n\t'punctuation': /[(){};:]/\n};\n\nPrism.languages.css['atrule'].inside.rest = Prism.util.clone(Prism.languages.css);\n\nif (Prism.languages.markup) {\n\tPrism.languages.insertBefore('markup', 'tag', {\n\t\t'style': {\n\t\t\tpattern: /(<style[\\w\\W]*?>)[\\w\\W]*?(?=<\\/style>)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.css,\n\t\t\talias: 'language-css'\n\t\t}\n\t});\n\t\n\tPrism.languages.insertBefore('inside', 'attr-value', {\n\t\t'style-attr': {\n\t\t\tpattern: /\\s*style=(\"|').*?\\1/i,\n\t\t\tinside: {\n\t\t\t\t'attr-name': {\n\t\t\t\t\tpattern: /^\\s*style/i,\n\t\t\t\t\tinside: Prism.languages.markup.tag.inside\n\t\t\t\t},\n\t\t\t\t'punctuation': /^\\s*=\\s*['\"]|['\"]\\s*$/,\n\t\t\t\t'attr-value': {\n\t\t\t\t\tpattern: /.+/i,\n\t\t\t\t\tinside: Prism.languages.css\n\t\t\t\t}\n\t\t\t},\n\t\t\talias: 'language-css'\n\t\t}\n\t}, Prism.languages.markup.tag);\n}\n\n/* **********************************************\n     Begin prism-clike.js\n********************************************** */\n\nPrism.languages.clike = {\n\t'comment': [\n\t\t{\n\t\t\tpattern: /(^|[^\\\\])\\/\\*[\\w\\W]*?\\*\\//,\n\t\t\tlookbehind: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^\\\\:])\\/\\/.*/,\n\t\t\tlookbehind: true\n\t\t}\n\t],\n\t'string': {\n\t\tpattern: /([\"'])(\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n\t\tgreedy: true\n\t},\n\t'class-name': {\n\t\tpattern: /((?:\\b(?:class|interface|extends|implements|trait|instanceof|new)\\s+)|(?:catch\\s+\\())[a-z0-9_\\.\\\\]+/i,\n\t\tlookbehind: true,\n\t\tinside: {\n\t\t\tpunctuation: /(\\.|\\\\)/\n\t\t}\n\t},\n\t'keyword': /\\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\\b/,\n\t'boolean': /\\b(true|false)\\b/,\n\t'function': /[a-z0-9_]+(?=\\()/i,\n\t'number': /\\b-?(?:0x[\\da-f]+|\\d*\\.?\\d+(?:e[+-]?\\d+)?)\\b/i,\n\t'operator': /--?|\\+\\+?|!=?=?|<=?|>=?|==?=?|&&?|\\|\\|?|\\?|\\*|\\/|~|\\^|%/,\n\t'punctuation': /[{}[\\];(),.:]/\n};\n\n\n/* **********************************************\n     Begin prism-javascript.js\n********************************************** */\n\nPrism.languages.javascript = Prism.languages.extend('clike', {\n\t'keyword': /\\b(as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|var|void|while|with|yield)\\b/,\n\t'number': /\\b-?(0x[\\dA-Fa-f]+|0b[01]+|0o[0-7]+|\\d*\\.?\\d+([Ee][+-]?\\d+)?|NaN|Infinity)\\b/,\n\t// Allow for all non-ASCII characters (See http://stackoverflow.com/a/2008444)\n\t'function': /[_$a-zA-Z\\xA0-\\uFFFF][_$a-zA-Z0-9\\xA0-\\uFFFF]*(?=\\()/i,\n\t'operator': /--?|\\+\\+?|!=?=?|<=?|>=?|==?=?|&&?|\\|\\|?|\\?|\\*\\*?|\\/|~|\\^|%|\\.{3}/\n});\n\nPrism.languages.insertBefore('javascript', 'keyword', {\n\t'regex': {\n\t\tpattern: /(^|[^/])\\/(?!\\/)(\\[.+?]|\\\\.|[^/\\\\\\r\\n])+\\/[gimyu]{0,5}(?=\\s*($|[\\r\\n,.;})]))/,\n\t\tlookbehind: true,\n\t\tgreedy: true\n\t}\n});\n\nPrism.languages.insertBefore('javascript', 'string', {\n\t'template-string': {\n\t\tpattern: /`(?:\\\\\\\\|\\\\?[^\\\\])*?`/,\n\t\tgreedy: true,\n\t\tinside: {\n\t\t\t'interpolation': {\n\t\t\t\tpattern: /\\$\\{[^}]+\\}/,\n\t\t\t\tinside: {\n\t\t\t\t\t'interpolation-punctuation': {\n\t\t\t\t\t\tpattern: /^\\$\\{|\\}$/,\n\t\t\t\t\t\talias: 'punctuation'\n\t\t\t\t\t},\n\t\t\t\t\trest: Prism.languages.javascript\n\t\t\t\t}\n\t\t\t},\n\t\t\t'string': /[\\s\\S]+/\n\t\t}\n\t}\n});\n\nif (Prism.languages.markup) {\n\tPrism.languages.insertBefore('markup', 'tag', {\n\t\t'script': {\n\t\t\tpattern: /(<script[\\w\\W]*?>)[\\w\\W]*?(?=<\\/script>)/i,\n\t\t\tlookbehind: true,\n\t\t\tinside: Prism.languages.javascript,\n\t\t\talias: 'language-javascript'\n\t\t}\n\t});\n}\n\nPrism.languages.js = Prism.languages.javascript;\n\n/* **********************************************\n     Begin prism-file-highlight.js\n********************************************** */\n\n(function () {\n\tif (typeof self === 'undefined' || !self.Prism || !self.document || !document.querySelector) {\n\t\treturn;\n\t}\n\n\tself.Prism.fileHighlight = function() {\n\n\t\tvar Extensions = {\n\t\t\t'js': 'javascript',\n\t\t\t'py': 'python',\n\t\t\t'rb': 'ruby',\n\t\t\t'ps1': 'powershell',\n\t\t\t'psm1': 'powershell',\n\t\t\t'sh': 'bash',\n\t\t\t'bat': 'batch',\n\t\t\t'h': 'c',\n\t\t\t'tex': 'latex'\n\t\t};\n\n\t\tif(Array.prototype.forEach) { // Check to prevent error in IE8\n\t\t\tArray.prototype.slice.call(document.querySelectorAll('pre[data-src]')).forEach(function (pre) {\n\t\t\t\tvar src = pre.getAttribute('data-src');\n\n\t\t\t\tvar language, parent = pre;\n\t\t\t\tvar lang = /\\blang(?:uage)?-(?!\\*)(\\w+)\\b/i;\n\t\t\t\twhile (parent && !lang.test(parent.className)) {\n\t\t\t\t\tparent = parent.parentNode;\n\t\t\t\t}\n\n\t\t\t\tif (parent) {\n\t\t\t\t\tlanguage = (pre.className.match(lang) || [, ''])[1];\n\t\t\t\t}\n\n\t\t\t\tif (!language) {\n\t\t\t\t\tvar extension = (src.match(/\\.(\\w+)$/) || [, ''])[1];\n\t\t\t\t\tlanguage = Extensions[extension] || extension;\n\t\t\t\t}\n\n\t\t\t\tvar code = document.createElement('code');\n\t\t\t\tcode.className = 'language-' + language;\n\n\t\t\t\tpre.textContent = '';\n\n\t\t\t\tcode.textContent = 'Loading…';\n\n\t\t\t\tpre.appendChild(code);\n\n\t\t\t\tvar xhr = new XMLHttpRequest();\n\n\t\t\t\txhr.open('GET', src, true);\n\n\t\t\t\txhr.onreadystatechange = function () {\n\t\t\t\t\tif (xhr.readyState == 4) {\n\n\t\t\t\t\t\tif (xhr.status < 400 && xhr.responseText) {\n\t\t\t\t\t\t\tcode.textContent = xhr.responseText;\n\n\t\t\t\t\t\t\tPrism.highlightElement(code);\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse if (xhr.status >= 400) {\n\t\t\t\t\t\t\tcode.textContent = '✖ Error ' + xhr.status + ' while fetching file: ' + xhr.statusText;\n\t\t\t\t\t\t}\n\t\t\t\t\t\telse {\n\t\t\t\t\t\t\tcode.textContent = '✖ Error: File does not exist or is empty';\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t};\n\n\t\t\t\txhr.send(null);\n\t\t\t});\n\t\t}\n\n\t};\n\n\tdocument.addEventListener('DOMContentLoaded', self.Prism.fileHighlight);\n\n})();\n","Prism.languages.python= {\n\t'triple-quoted-string': {\n\t\tpattern: /\"\"\"[\\s\\S]+?\"\"\"|'''[\\s\\S]+?'''/,\n\t\talias: 'string'\n\t},\n\t'comment': {\n\t\tpattern: /(^|[^\\\\])#.*/,\n\t\tlookbehind: true\n\t},\n\t'string': {\n\t\tpattern: /(\"|')(?:\\\\\\\\|\\\\?[^\\\\\\r\\n])*?\\1/,\n\t\tgreedy: true\n\t},\n\t'function' : {\n\t\tpattern: /((?:^|\\s)def[ \\t]+)[a-zA-Z_][a-zA-Z0-9_]*(?=\\()/g,\n\t\tlookbehind: true\n\t},\n\t'class-name': {\n\t\tpattern: /(\\bclass\\s+)[a-z0-9_]+/i,\n\t\tlookbehind: true\n\t},\n\t'keyword' : /\\b(?:as|assert|async|await|break|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|pass|print|raise|return|try|while|with|yield)\\b/,\n\t'boolean' : /\\b(?:True|False)\\b/,\n\t'number' : /\\b-?(?:0[bo])?(?:(?:\\d|0x[\\da-f])[\\da-f]*\\.?\\d*|\\.\\d+)(?:e[+-]?\\d+)?j?\\b/i,\n\t'operator' : /[-+%=]=?|!=|\\*\\*?=?|\\/\\/?=?|<[<=>]?|>[=>]?|[&|^~]|\\b(?:or|and|not)\\b/,\n\t'punctuation' : /[{}[\\];(),.:]/\n};\n","Prism.languages.clike = {\n\t'comment': [\n\t\t{\n\t\t\tpattern: /(^|[^\\\\])\\/\\*[\\w\\W]*?\\*\\//,\n\t\t\tlookbehind: true\n\t\t},\n\t\t{\n\t\t\tpattern: /(^|[^\\\\:])\\/\\/.*/,\n\t\t\tlookbehind: true\n\t\t}\n\t],\n\t'string': {\n\t\tpattern: /([\"'])(\\\\(?:\\r\\n|[\\s\\S])|(?!\\1)[^\\\\\\r\\n])*\\1/,\n\t\tgreedy: true\n\t},\n\t'class-name': {\n\t\tpattern: /((?:\\b(?:class|interface|extends|implements|trait|instanceof|new)\\s+)|(?:catch\\s+\\())[a-z0-9_\\.\\\\]+/i,\n\t\tlookbehind: true,\n\t\tinside: {\n\t\t\tpunctuation: /(\\.|\\\\)/\n\t\t}\n\t},\n\t'keyword': /\\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\\b/,\n\t'boolean': /\\b(true|false)\\b/,\n\t'function': /[a-z0-9_]+(?=\\()/i,\n\t'number': /\\b-?(?:0x[\\da-f]+|\\d*\\.?\\d+(?:e[+-]?\\d+)?)\\b/i,\n\t'operator': /--?|\\+\\+?|!=?=?|<=?|>=?|==?=?|&&?|\\|\\|?|\\?|\\*|\\/|~|\\^|%/,\n\t'punctuation': /[{}[\\];(),.:]/\n};\n","import Prism from 'prismjs';\nimport 'prismjs/components/prism-python';\nimport 'prismjs/components/prism-clike';\nimport css from 'prismjs/themes/prism.css';\n\nimport { Template } from '../mixins/template.js';\nimport { Mutating } from '../mixins/mutating.js';\n\nconst T = Template('d-code', `\n<style>\n\ncode {\n  white-space: nowrap;\n  background: rgba(0, 0, 0, 0.04);\n  border-radius: 2px;\n  padding: 4px 7px;\n  font-size: 15px;\n  color: rgba(0, 0, 0, 0.6);\n}\n\npre code {\n  display: block;\n  border-left: 2px solid rgba(0, 0, 0, .1);\n  padding: 0 0 0 36px;\n}\n\n${css}\n</style>\n\n<code id=\"code-container\"></code>\n\n`);\n\nexport class Code extends Mutating(T(HTMLElement)) {\n\n  renderContent() {\n\n    // check if language can be highlighted\n    this.languageName = this.getAttribute('language');\n    if (!this.languageName) {\n      console.warn('You need to provide a language attribute to your <d-code> block to let us know how to highlight your code; e.g.:\\n <d-code language=\"python\">zeros = np.zeros(shape)</d-code>.');\n      return;\n    }\n    const language = Prism.languages[this.languageName];\n    if (language == undefined) {\n      console.warn(`Distill does not yet support highlighting your code block in \"${this.languageName}\".`);\n      return;\n    }\n\n    let content = this.textContent;\n    const codeTag = this.shadowRoot.querySelector('#code-container');\n\n    if (this.hasAttribute('block')) {\n      // normalize the tab indents\n      content = content.replace(/\\n/, '');\n      const tabs = content.match(/\\s*/);\n      content = content.replace(new RegExp('\\n' + tabs, 'g'), '\\n');\n      content = content.trim();\n      // wrap code block in pre tag if needed\n      if (codeTag.parentNode instanceof ShadowRoot) {\n        const preTag = document.createElement('pre');\n        this.shadowRoot.removeChild(codeTag);\n        preTag.appendChild(codeTag);\n        this.shadowRoot.appendChild(preTag);\n      }\n\n    }\n\n    codeTag.className = `language-${this.languageName}`;\n    codeTag.innerHTML = Prism.highlight(content, language);\n  }\n\n}\n","import { Template } from '../mixins/template.js';\nimport { HoverBox } from '../helpers/hover-box';\n\nconst T = Template('d-footnote', `\n<style>\n\nd-math[block] {\n  display: block;\n}\n\nsup {\n  line-height: 1em;\n  font-size: 0.75em;\n  position: relative;\n  top: 0;\n  vertical-align: baseline;\n  position: relative;\n  top: -6px;\n}\n\nspan {\n  color: hsla(206, 90%, 20%, 0.7);\n  cursor: default;\n}\n\n</style>\n\n<div id=\"hover-box\" class=\"dt-hover-box\">\n  <slot id=\"slot\"></slot>\n</div>\n\n<sup><span id=\"fn-\" data-hover-ref=\"\"></span></sup>\n\n`);\n\nexport class Footnote extends T(HTMLElement) {\n\n  constructor() {\n    super();\n\n    const options = {childList: true, characterData: true, subtree: true};\n    const observer = new MutationObserver(this.notify);\n    observer.observe(this, options);\n  }\n\n  notify() {\n    const options = { detail: this, bubbles: true };\n    const event = new CustomEvent('onFootnoteChanged', options);\n    document.dispatchEvent(event);\n  }\n\n  connectedCallback() {\n    // listen and notify about changes to slotted content\n    // const slot = this.shadowRoot.querySelector('#slot');\n    // slot.addEventListener('slotchange', this.notify);\n\n    // create numeric ID\n    Footnote.currentFootnoteId += 1;\n    const IdString = Footnote.currentFootnoteId.toString();\n    this.root.host.id = 'd-footnote-' + IdString;\n\n    // set up hidden hover box\n    const div = this.root.querySelector('.dt-hover-box');\n    div.id = 'dt-fn-hover-box-' + IdString;\n\n    // set up visible footnote marker\n    const span = this.root.querySelector('#fn-');\n    span.setAttribute('id', 'fn-' + IdString);\n    span.setAttribute('data-hover-ref', div.id);\n    span.textContent = IdString;\n\n    this.hoverbox = new HoverBox(div, span);\n  }\n\n}\n\nFootnote.currentFootnoteId = 0;\n","import { Template } from '../mixins/template';\n\nconst T = Template('d-footnote-list', `\n<style>\n:host {\n  contain: content;\n}\n\nol {\n  padding: 0 0 0 18px;\n}\nli {\n  margin-bottom: 12px;\n}\nh3 {\n  font-size: 15px;\n  font-weight: 500;\n  margin-top: 20px;\n  margin-bottom: 0;\n  color: rgba(0,0,0,0.65);\n  line-height: 1em;\n}\na {\n  color: rgba(0, 0, 0, 0.6);\n}\n\na.footnote-backlink {\n  color: rgba(0,0,0,0.3);\n  padding-left: 0.5em;\n}\n\n\n</style>\n\n<h3>Footnotes</h3>\n<ol></ol>\n`);\n\nexport class FootnoteList extends T(HTMLElement) {\n\n  connectedCallback() {\n    this.list = this.root.querySelector('ol');\n    // footnotes list is initially hidden\n    this.root.host.style.display = 'none';\n    // look through document and register existing footnotes\n    // Store.subscribeTo('footnotes', (footnote) => {\n    //   this.renderFootnote(footnote);\n    // });\n  }\n\n  // TODO: could optimize this to accept individual footnotes?\n  set footnotes(footnotes) {\n    this.list.innerHTML = '';\n    if (footnotes.length) {\n      // ensure footnote list is visible\n      this.root.host.style.display = 'initial';\n\n      for (const footnote of footnotes) {\n        // construct and append list item to show footnote\n        const listItem = document.createElement('li');\n        listItem.id = footnote.id + '-listing';\n        listItem.innerHTML = footnote.innerHTML;\n\n        const backlink = document.createElement('a');\n        backlink.setAttribute('class', 'footnote-backlink');\n        backlink.textContent = '[↩]';\n        backlink.href = '#' + footnote.id;\n\n        listItem.appendChild(backlink);\n        this.list.appendChild(listItem);\n      }\n    } else {\n      // ensure footnote list is invisible\n      this.shadowRoot.host.style.display = 'none';\n    }\n  }\n\n}\n","import { Template } from '../mixins/template';\n\nconst T = Template('d-references', `\n<style>\nd-references {\n  display: block;\n}\n</style>\n`, false);\n\nexport  class References extends T(HTMLElement) {\n\n}\n","export class TOC extends HTMLElement {\n\n  static get is() { return 'd-toc'; }\n\n  connectedCallback() {\n    if (!this.getAttribute('prerendered')) {\n      window.onload = () => {\n        const article = document.querySelector('d-article');\n        const headings = article.querySelectorAll('h2, h3');\n        renderTOC(this, headings);\n      };\n    }\n  }\n\n}\n\nexport function renderTOC(element, headings) {\n\n  let ToC =`\n  <style>\n\n  d-toc {\n    contain: content;\n    display: block;\n  }\n\n  d-toc ul {\n    padding-left: 0;\n  }\n\n  d-toc ul > ul {\n    padding-left: 24px;\n  }\n\n  d-toc a {\n    border-bottom: none;\n    text-decoration: none;\n  }\n\n  </style>\n  <nav role=\"navigation\" class=\"table-of-contents\"></nav>\n  <h2>Table of contents</h2>\n  <ul>`;\n\n  for (const el of headings) {\n    // should element be included in TOC?\n    const isInTitle = el.parentElement.tagName == 'D-TITLE';\n    const isException = el.getAttribute('no-toc');\n    if (isInTitle || isException) continue;\n    // create TOC entry\n    const title = el.textContent;\n    const link = '#' + el.getAttribute('id');\n\n    let newLine = '<li>' + '<a href=\"' + link + '\">' + title + '</a>' + '</li>';\n    if (el.tagName == 'H3') {\n      newLine = '<ul>' + newLine + '</ul>';\n    } else {\n      newLine += '<br>';\n    }\n    ToC += newLine;\n\n  }\n\n  ToC += '</ul></nav>';\n  element.innerHTML = ToC;\n}\n","// Figure\n//\n// d-figure provides a state-machine of visibility events:\n//\n//                         scroll out of view\n//                         +----------------+\n//   *do work here*        |                |\n// +----------------+    +-+---------+    +-v---------+\n// | ready          +----> onscreen  |    | offscreen |\n// +----------------+    +---------^-+    +---------+-+\n//                                 |                |\n//                                 +----------------+\n//                                  scroll into view\n//\n\nexport class Figure extends HTMLElement {\n\n  static get is() { return 'd-figure'; }\n\n  static get readyQueue() {\n    if (!Figure._readyQueue) {\n      Figure._readyQueue = [];\n    }\n    return Figure._readyQueue;\n  }\n\n  static addToReadyQueue(figure) {\n    if (Figure.readyQueue.indexOf(figure) === -1) {\n      Figure.readyQueue.push(figure);\n      Figure.runReadyQueue();\n    }\n  }\n\n  static runReadyQueue() {\n    // console.log(\"Checking to run readyQueue, length: \" + Figure.readyQueue.length + \", scrolling: \" + Figure.isScrolling);\n    // if (Figure.isScrolling) return;\n\n    // console.log(\"Running ready Queue\");\n    const figure = Figure.readyQueue\n      .sort((a,b) => a._seenOnScreen - b._seenOnScreen )\n      .filter((figure) => !figure._ready)\n      .pop();\n    if (figure) {\n      figure.ready();\n      requestAnimationFrame(Figure.runReadyQueue);\n    }\n\n  }\n\n  constructor() {\n    super();\n    // debugger\n    this._ready = false;\n    this._onscreen = false;\n    this._offscreen = true;\n  }\n\n  connectedCallback() {\n    Figure.marginObserver.observe(this);\n    Figure.directObserver.observe(this);\n  }\n\n  disconnectedCallback() {\n    Figure.marginObserver.unobserve(this);\n    Figure.directObserver.unobserve(this);\n  }\n\n  // We use two separate observers:\n  // One with an extra 1000px margin to warn if the viewpoint gets close,\n  // And one for the actual on/off screen events\n\n  static get marginObserver() {\n    if (!Figure._marginObserver) {\n      const viewportHeight = window.innerHeight;\n      const margin = Math.floor(2 * viewportHeight);\n      Figure._marginObserver = new IntersectionObserver(\n        Figure.didObserveMarginIntersection, {\n          rootMargin: margin + 'px 0px ' + margin + 'px 0px', threshold: 0.01,\n        });\n    }\n    return Figure._marginObserver;\n  }\n\n  static didObserveMarginIntersection(entries) {\n    for (const entry of entries) {\n      const figure = entry.target;\n      if (entry.isIntersecting && !figure._ready) {\n        Figure.addToReadyQueue(figure);\n      }\n    }\n  }\n\n  static get directObserver() {\n    if (!Figure._directObserver) {\n      Figure._directObserver = new IntersectionObserver(\n        Figure.didObserveDirectIntersection, {\n          rootMargin: '0px', threshold: [0, 1.0],\n        }\n      );\n    }\n    return Figure._directObserver;\n  }\n\n  static didObserveDirectIntersection(entries) {\n    for (const entry of entries) {\n      const figure = entry.target;\n      if (entry.isIntersecting) {\n        figure._seenOnScreen = new Date();\n        // if (!figure._ready) { figure.ready(); }\n        if (figure._offscreen) { figure.onscreen(); }\n      } else {\n        if (figure._onscreen) { figure.offscreen(); }\n      }\n    }\n  }\n\n  // Notify listeners that registered late, too:\n\n  addEventListener(eventName, callback) {\n    super.addEventListener(eventName, callback);\n    // if we had already dispatched something while presumingly no one was listening, we do so again\n    // debugger\n    if (eventName === 'ready') {\n      if (Figure.readyQueue.indexOf(this) !== -1) {\n        this._ready = false;\n        Figure.runReadyQueue();\n      }\n    }\n    if (eventName === 'onscreen') {\n      this.onscreen();\n    }\n  }\n\n  // Custom Events\n\n  ready() {\n    // debugger\n    this._ready = true;\n    Figure.marginObserver.unobserve(this);\n    const event = new CustomEvent('ready');\n    this.dispatchEvent(event);\n  }\n\n  onscreen() {\n    this._onscreen = true;\n    this._offscreen = false;\n    const event = new CustomEvent('onscreen');\n    this.dispatchEvent(event);\n  }\n\n  offscreen() {\n    this._onscreen = false;\n    this._offscreen = true;\n    const event = new CustomEvent('offscreen');\n    this.dispatchEvent(event);\n  }\n\n}\n\nif (typeof window !== 'undefined') {\n\n  Figure.isScrolling = false;\n  let timeout;\n  const resetTimer = () => {\n    Figure.isScrolling = true;\n    clearTimeout(timeout);\n    timeout = setTimeout(() => {\n      Figure.isScrolling = false;\n      Figure.runReadyQueue();\n    }, 500);\n  };\n  window.addEventListener('scroll', resetTimer, true);\n\n}\n","import { Template } from '../mixins/template';\n\n// This overlay is not secure.\n// It is only meant as a social deterrent.\n\nconst T = Template('d-interstitial', `\n<style>\n\n.overlay {\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  background: white;\n\n  opacity: 1;\n  visibility: visible;\n\n  display: flex;\n  flex-flow: column;\n  justify-content: center;\n  z-index: 2147483647 /* MaxInt32 */\n\n}\n\n.overlay.transparent {\n  background: hsla(0, 0%, 100%, 0.7);\n  transition: background 1s;\n}\n\n.container {\n  position: relative;\n  left: 25%;\n  width: 50%;\n}\n\nh1 {\n  text-decoration: underline;\n  text-decoration-color: hsl(0,100%,40%);\n  margin-bottom: 1em;\n}\n\ninput[type=\"password\"] {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  -webkit-box-shadow: none;\n  -moz-box-shadow: none;\n  box-shadow: none;\n  -webkit-border-radius: none;\n  -moz-border-radius: none;\n  -ms-border-radius: none;\n  -o-border-radius: none;\n  border-radius: none;\n  outline: none;\n\n  font-size: 18px;\n  background: none;\n  width: 25%;\n  padding: 10px;\n  border: none;\n  border-bottom: solid 2px #999;\n  transition: border .3s;\n}\n\ninput[type=\"password\"]:focus {\n  border-bottom: solid 2px #333;\n}\n\ninput[type=\"password\"].wrong {\n  border-bottom: solid 2px hsl(0,100%,40%);\n}\n\np small {\n  color: #888;\n}\n\n</style>\n\n<div class=\"overlay\">\n  <div class=\"container\">\n    <h1>This article is in review.</h1>\n    <p>Do not share this URL, or the contents of this article. Thank you!</p>\n    <input id=\"interstitial-password-input\" type=\"password\" name=\"password\" autofocus/>\n    <p><small>Enter the password we shared with you as part of the review process to view the article.</small></p>\n  </div>\n</div>\n`);\n\nexport class Interstitial extends T(HTMLElement) {\n\n  connectedCallback() {\n    const passwordInput = this.root.querySelector('#interstitial-password-input');\n    passwordInput.oninput = (event) => this.passwordChanged(event);\n    setTimeout(() => {\n      this.article = document.querySelector('d-article');\n      this.article.style = 'filter: blur(15px)';\n      const overlay = this.root.querySelector('.overlay');\n      overlay.classList.add('transparent');\n    }, 500);\n  }\n\n  passwordChanged(event) {\n    const entered = event.target.value;\n    if (entered === this.password) {\n      console.log('Correct password entered.');\n      event.target.classList.add('right');\n      this.article.style = '';\n      this.parentElement.removeChild(this);\n    }\n  }\n\n}\n","import { Template } from '../mixins/template';\n\nimport logo from '../assets/distill-logo.svg';\n\nconst T = Template('distill-header', `\n<style>\n:host {\n  box-sizing: border-box;\n  display: block;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 60px;\n  background-color: transparent;\n  z-index: ${1e6};\n  color: rgba(0, 0, 0, 0.8);\n  /*border-bottom: 1px solid rgba(0, 0, 0, 0.08);*/\n  /*box-shadow: 0 1px 6px rgba(0, 0, 0, 0.05);*/\n  contain: content;\n}\n.content {\n  height: 70px;\n}\na {\n  font-size: 16px;\n  height: 60px;\n  line-height: 60px;\n  text-decoration: none;\n  color: rgba(255, 255, 255, 0.8);\n  padding: 22px 0;\n}\na:hover {\n  color: rgba(255, 255, 255, 1);\n}\nsvg {\n  background-color: hsl(0, 0%, 15%);;\n  padding: 8px;\n  border-radius: 12px;\n  width: 24px;\n  position: relative;\n  top: 16px;\n  left: 16px;\n  margin-right: 2px;\n}\n@media(min-width: 768px) {\n  :host {\n    height: 120px;\n  }\n  svg {\n    top: 40px;\n    left: 40px;\n  }\n}\n\n@media(min-width: 1080px) {\n  :host {\n    height: 120px;\n  }\n  a {\n    height: 70px;\n    line-height: 70px;\n    padding: 28px 0;\n  }\n  .logo {\n  }\n}\nsvg path {\n  fill: white;\n  stroke: rgba(255, 255, 255, 1.0);\n  stroke-width: 3px;\n}\n.logo {\n  font-size: 17px;\n  font-weight: 200;\n}\n.nav {\n  float: right;\n  font-weight: 300;\n}\n.nav a {\n  font-size: 12px;\n  margin-left: 24px;\n  text-transform: uppercase;\n}\n\n.name {\n  opacity: 0.0;\n  transition: opacity 0.5s\n}\n\na:hover .name {\n  opacity: 1.0;\n}\n</style>\n\n<div class=\"content l-page\">\n  <a href=\"/\" class=\"logo\">\n    ${logo}\n  </a>\n  <span class='name'>\n    Distill\n  </span>\n</div>\n`);\n\n// <div class=\"nav\">\n//   <a href=\"/faq\">About</a>\n//   <a href=\"https://github.com/distillpub\">GitHub</a>\n//   <!-- https://twitter.com/distillpub -->\n// </div>\n\nexport class DistillHeader extends T(HTMLElement) {\n\n}\n","import { serializeFrontmatterToBibtex } from '../helpers/bibtex';\n\nconst styles = `\n<style>\n  distill-appendix {\n    contain: content;\n  }\n  distill-appendix h3 {\n    font-size: 15px;\n    font-weight: 500;\n    margin-top: 20px;\n    margin-bottom: 0;\n    color: rgba(0,0,0,0.65);\n    line-height: 1em;\n  }\n  distill-appendix a {\n    color: rgba(0, 0, 0, 0.6);\n  }\n  distill-appendix ol,\n  distill-appendix ul {\n    padding-left: 24px;\n  }\n  distill-appendix .citation {\n    font-size: 11px;\n    line-height: 15px;\n    border-left: 1px solid rgba(0, 0, 0, 0.1);\n    padding-left: 18px;\n    border: 1px solid rgba(0,0,0,0.1);\n    background: rgba(0, 0, 0, 0.02);\n    padding: 10px 18px;\n    border-radius: 3px;\n    color: rgba(150, 150, 150, 1);\n    overflow: hidden;\n    margin-top: -12px;\n    white-space: pre-wrap;\n    word-wrap: break-word;\n  }\n</style>\n`;\n\nexport function appendixTemplate(frontMatter) {\n  return `\n  ${styles}\n\n  <h3 id=\"updates-and-corrections\">Updates and Corrections</h3>\n  <p><a href=\"\">View all changes</a> to this article since it was first published. If you see mistakes or want to suggest changes, please <a href=\"${frontMatter.githubUrl + '/issues/new'}\">create an issue on GitHub</a>. </p>\n\n  <h3 id=\"reuse\">Reuse</h3>\n  <p>Diagrams and text are licensed under Creative Commons Attribution <a href=\"https://creativecommons.org/licenses/by/2.0/\">CC-BY 2.0</a> with the <a class=\"github\" href=\"${frontMatter.githubUrl}\">source available on GitHub</a>, unless noted otherwise. The figures that have been reused from other sources don’t fall under this license and can be recognized by a note in their caption: “Figure from …”.</p>\n\n  <h3 id=\"citation\">Citation</h3>\n  <p>For attribution in academic contexts, please cite this work as</p>\n  <pre class=\"citation short\">${frontMatter.concatenatedAuthors}, \"${frontMatter.title}\", Distill, ${frontMatter.publishedYear}.</pre>\n  <p>BibTeX citation</p>\n  <pre class=\"citation long\">${serializeFrontmatterToBibtex(frontMatter)}</pre>\n  `;\n}\n\nexport class DistillAppendix extends HTMLElement {\n\n  static get is() { return 'distill-appendix'; }\n\n  set frontMatter(frontMatter) {\n    this.innerHTML = appendixTemplate(frontMatter);\n  }\n\n}\n","import { Template } from '../mixins/template';\nimport logo from '../assets/distill-logo.svg';\n\nconst T = Template('distill-footer', `\n<style>\n\n:host {\n  display: block;\n  color: rgba(255, 255, 255, 0.4);\n  font-weight: 300;\n  padding: 40px 0;\n  border-top: 1px solid rgba(0, 0, 0, 0.1);\n  background-color: hsl(180, 5%, 15%); /*hsl(200, 60%, 15%);*/\n  text-align: left;\n\n  contain: content;\n}\n\n.logo svg {\n  width: 24px;\n  position: relative;\n  top: 4px;\n  margin-right: 2px;\n}\n\n.logo svg path {\n  fill: none;\n  stroke: rgba(255, 255, 255, 0.8);\n  stroke-width: 3px;\n}\n\n.logo {\n  font-size: 17px;\n  font-weight: 200;\n  color: rgba(255, 255, 255, 0.8);\n  text-decoration: none;\n  margin-right: 6px;\n}\n\n.container {\n  grid-column: left / text;\n}\n</style>\n\n<div class='container'>\n<a href=\"/\" class=\"logo\">\n  ${logo}\n  Distill\n</a> is dedicated to clear explanations of machine learning\n</div>\n`);\n\nexport class DistillFooter extends T(HTMLElement) {\n\n}\n","/* Static styles and other modules */\nimport { makeStyleTag } from './styles/styles';\nmakeStyleTag(document);\n\n/* Components */\nimport { Abstract }     from './components/d-abstract';\nimport { Appendix }     from './components/d-appendix';\nimport { Article }      from './components/d-article';\nimport { Bibliography } from './components/d-bibliography';\nimport { Byline }       from './components/d-byline';\nimport { Cite }         from './components/d-cite';\nimport { CitationList } from './components/d-citation-list';\nimport { Code }         from './components/d-code';\nimport { Footnote }     from './components/d-footnote';\nimport { FootnoteList } from './components/d-footnote-list';\nimport { FrontMatter }  from './components/d-front-matter';\nimport { DMath }        from './components/d-math';\nimport { References }   from './components/d-references';\nimport { TOC }          from './components/d-toc';\nimport { Figure }       from './components/d-figure';\nimport { Interstitial } from './components/d-interstitial';\n\nconst components = [\n  Abstract, Appendix, Article, Bibliography, Byline, Cite, CitationList, Code,\n  Footnote, FootnoteList, FrontMatter, DMath, References, TOC, Figure,\n  Interstitial,\n];\n\n/* Distill website specific components */\nimport { DistillHeader } from './distill-components/distill-header';\nimport { DistillAppendix } from './distill-components/distill-appendix';\nimport { DistillFooter } from './distill-components/distill-footer';\n\nconst distillComponents = [\n  DistillHeader, DistillAppendix, DistillFooter,\n];\n\nfunction defineComponents() {\n  const allComponents = components.concat(distillComponents);\n  for (const component of allComponents) {\n    customElements.define(component.is, component);\n  }\n}\n\ndefineComponents();\n"],"names":["byline","math","T","style","FrontMatter","global","Prism","styles"],"mappings":";;;;;;;;;;;;;;AAAO,MAAM,KAAK,GAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6EtB,CAAC,CAAC;;;AAGF,AAAO,SAAS,cAAc,CAAC,WAAW,EAAE;EAC1C,OAAO,CAAC;;;IAGN,EAAE,WAAW,CAAC,OAAO,CAAC,GAAG,EAAE,MAAM,IAAI,CAAC;MACpC,EAAE,MAAM,CAAC,WAAW;IACtB,CAAC,sBAAsB,EAAE,MAAM,CAAC,WAAW,CAAC,EAAE,EAAE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC;;IAEjE,CAAC,kBAAkB,EAAE,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC;CAC3C;MACK,EAAE,MAAM,CAAC,cAAc;IACzB,CAAC,6BAA6B,EAAE,MAAM,CAAC,cAAc,CAAC,EAAE,EAAE,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC;;IAElF,CAAC,yBAAyB,EAAE,MAAM,CAAC,WAAW,CAAC,MAAM,CAAC;CACzD;UACS,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;;;uBAGD,EAAE,WAAW,CAAC,cAAc,CAAC,EAAE,EAAE,WAAW,CAAC,YAAY,CAAC;sBAC3D,EAAE,WAAW,CAAC,aAAa,CAAC;;;SAGzC,EAAE,WAAW,CAAC,mBAAmB,CAAC,EAAE,EAAE,WAAW,CAAC,aAAa,CAAC;;;AAGzE,CAAC,CAAC;CACD;;AAED,AAAO,MAAM,MAAM,SAAS,WAAW,CAAC;;EAEtC,WAAW,EAAE,GAAG,EAAE,OAAO,UAAU,CAAC,EAAE;;EAEtC,IAAI,WAAW,CAAC,WAAW,EAAE;IAC3B,IAAI,CAAC,SAAS,GAAG,cAAc,CAAC,WAAW,CAAC,CAAC;GAC9C;;CAEF;;;;AC7GM,MAAM,MAAM,GAAG,IAAI,GAAG,MAAM,GAAGA,KAAM,GAAGC,OAAI,GAAG,OAAO,GAAG,KAAK,CAAC;;AAEtE,AAAO,SAAS,YAAY,CAAC,GAAG,EAAE;;EAEhC,MAAM,UAAU,GAAG,4BAA4B,CAAC;EAChD,MAAM,cAAc,GAAG,GAAG,CAAC,cAAc,CAAC,UAAU,CAAC,CAAC;EACtD,IAAI,CAAC,cAAc,EAAE;IACnB,MAAM,QAAQ,GAAG,GAAG,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC;IAC5C,QAAQ,CAAC,EAAE,GAAG,UAAU,CAAC;IACzB,QAAQ,CAAC,IAAI,GAAG,UAAU,CAAC;IAC3B,MAAM,UAAU,GAAG,GAAG,CAAC,cAAc,CAAC,MAAM,CAAC,CAAC;IAC9C,QAAQ,CAAC,WAAW,CAAC,UAAU,CAAC,CAAC;IACjC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,EAAE,GAAG,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;GACtD;;CAEF;;ACtBD;;AAEA,AAAO,MAAM,QAAQ,GAAG,CAAC,IAAI,EAAE,cAAc,EAAE,SAAS,GAAG,IAAI,KAAK;;EAElE,OAAO,CAAC,UAAU,KAAK;;IAErB,MAAM,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;IACpD,QAAQ,CAAC,SAAS,GAAG,cAAc,CAAC;;IAEpC,IAAI,SAAS,IAAI,UAAU,IAAI,MAAM,EAAE;MACrC,QAAQ,CAAC,eAAe,CAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;KAC1C;;IAED,OAAO,cAAc,UAAU,CAAC;;MAE9B,WAAW,EAAE,GAAG,EAAE,OAAO,IAAI,CAAC,EAAE;;MAEhC,WAAW,GAAG;QACZ,KAAK,EAAE,CAAC;;QAER,IAAI,CAAC,KAAK,GAAG,QAAQ,CAAC,UAAU,CAAC,QAAQ,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC;QACzD,IAAI,SAAS,EAAE;UACb,IAAI,CAAC,YAAY,CAAC,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,CAAC;UAClC,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;SACzC;OACF;;MAED,iBAAiB,GAAG;QAClB,IAAI,SAAS,EAAE;UACb,IAAI,UAAU,IAAI,MAAM,EAAE;YACxB,QAAQ,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;WAC7B;SACF,MAAM;UACL,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,UAAU,CAAC,CAAC;SAChD;OACF;;MAED,IAAI,IAAI,GAAG;QACT,IAAI,SAAS,EAAE;UACb,OAAO,IAAI,CAAC,UAAU,CAAC;SACxB,MAAM;UACL,OAAO,IAAI,CAAC;SACb;OACF;;;MAGD,CAAC,CAAC,KAAK,EAAE;QACP,OAAO,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;OACvC;;MAED,EAAE,CAAC,KAAK,EAAE;QACR,OAAO,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;OAC1C;KACF,CAAC;GACH,CAAC;CACH;;ACvDD;;;;;;;;;;;;;AAaA,AAAO,SAAS,IAAI,CAAC,QAAQ,EAAE;EAC7B,OAAO,CAAC,EAAE,QAAQ,CAAC;;;EAGnB,CAAC,CAAC;CACH;;ACfD,MAAM,CAAC,GAAG,QAAQ,CAAC,YAAY,EAAE,CAAC;;;;;;;;;EAShC,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC;;;;AAIvB,CAAC,CAAC,CAAC;;AAEH,AAAO,MAAM,QAAQ,SAAS,CAAC,CAAC,WAAW,CAAC,CAAC;;CAE5C;;ACjBD,MAAMC,GAAC,GAAG,QAAQ,CAAC,YAAY,EAAE,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkClC,CAAC,EAAE,KAAK,CAAC,CAAC;;AAEV,AAAO,MAAM,QAAQ,SAASA,GAAC,CAAC,WAAW,CAAC,CAAC;;CAE5C;;ACzCD,MAAM,IAAI,GAAG,CAAC,QAAQ,EAAE,QAAQ,EAAE,SAAS,EAAE,WAAW,EAAE,UAAU,EAAE,QAAQ,EAAE,UAAU,CAAC,CAAC;AAC5F,MAAM,MAAM,GAAG,CAAC,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE,OAAO,EAAE,KAAK,EAAE,MAAM,EAAE,MAAM,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;AAC3G,MAAM,OAAO,GAAG,CAAC,IAAI,CAAC,GAAG,EAAE,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC,CAAC;;AAE1C,MAAM,GAAG,GAAG,SAAS,IAAI,EAAE;EACzB,MAAM,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;EAChD,MAAM,UAAU,GAAG,OAAO,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC;EAC3C,MAAM,KAAK,GAAG,MAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EACrD,MAAM,IAAI,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC,QAAQ,EAAE,CAAC;EAC3C,MAAM,KAAK,GAAG,IAAI,CAAC,WAAW,EAAE,CAAC,QAAQ,EAAE,CAAC;EAC5C,MAAM,OAAO,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC,QAAQ,EAAE,CAAC;EAChD,MAAM,OAAO,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC,QAAQ,EAAE,CAAC;EAChD,OAAO,CAAC,EAAE,GAAG,CAAC,EAAE,EAAE,UAAU,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,KAAK,CAAC,CAAC,EAAE,OAAO,CAAC,CAAC,EAAE,OAAO,CAAC,EAAE,CAAC,CAAC;CAClF,CAAC;;AAEF,MAAM,MAAM,CAAC;;;;;;;;;EASX,WAAW,CAAC,MAAM,EAAE;IAClB,IAAI,CAAC,IAAI,GAAG,MAAM,CAAC,MAAM,CAAC;IAC1B,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,SAAS,CAAC;IACpC,IAAI,CAAC,WAAW,GAAG,MAAM,CAAC,WAAW,CAAC;IACtC,IAAI,CAAC,cAAc,GAAG,MAAM,CAAC,cAAc,CAAC;GAC7C;;;EAGD,IAAI,SAAS,GAAG;IACd,MAAM,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IACnC,OAAO,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,CAAC,MAAM,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;GACnD;;;EAGD,IAAI,QAAQ,GAAG;IACb,MAAM,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IACnC,OAAO,KAAK,CAAC,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC;GAC/B;CACF;;AAED,AAAO,MAAM,WAAW,CAAC;EACvB,WAAW,GAAG;IACZ,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;IAChB,IAAI,CAAC,WAAW,GAAG,EAAE,CAAC;IACtB,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;;IAElB,IAAI,CAAC,YAAY,GAAG,IAAI,GAAG,EAAE,CAAC;IAC9B,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;;;;;;;;;;;;;;IAchC,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;IACpB,IAAI,CAAC,kBAAkB,GAAG,KAAK,CAAC;;;;;;;;;;;;;;;IAehC,IAAI,CAAC,OAAO,GAAG,EAAE,CAAC;;;;;;;;;;;;;;;IAelB,IAAI,CAAC,aAAa,GAAG,IAAI,IAAI,EAAE,CAAC;;IAEhC,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;;;;;;;;;;GAUjB;;;;;;;;;;;;EAYD,uBAAuB,CAAC,IAAI,EAAE;IAC5B,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;IACxB,IAAI,CAAC,aAAa,GAAG,IAAI,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;IAC9C,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;IACpC,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE,CAAC,YAAY,KAAK,IAAI,MAAM,CAAC,YAAY,CAAC,CAAC,CAAC;IAC7E,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;IACxB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;GAC/B;;;;;;;EAOD,IAAI,GAAG,CAAC,KAAK,EAAE;IACb,IAAI,CAAC,IAAI,GAAG,KAAK,CAAC;GACnB;EACD,IAAI,GAAG,GAAG;IACR,IAAI,IAAI,CAAC,IAAI,EAAE;MACb,OAAO,IAAI,CAAC,IAAI,CAAC;KAClB,MAAM,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE;MAC/C,OAAO,IAAI,CAAC,OAAO,CAAC,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,WAAW,CAAC;KAClD,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC,GAAG,EAAE;MAC3B,OAAO,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC;KACzB;GACF;;;EAGD,IAAI,SAAS,GAAG;IACd,OAAO,qBAAqB,GAAG,IAAI,CAAC,UAAU,CAAC;GAChD;;;;EAID,IAAI,UAAU,CAAC,KAAK,EAAE;IACpB,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;GAC1B;EACD,IAAI,UAAU,GAAG;IACf,OAAO,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,GAAG,GAAG,gBAAgB,CAAC;GAC1E;;;EAGD,IAAI,gBAAgB,GAAG;IACrB,OAAO,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;GAChC;;;EAGD,IAAI,cAAc,GAAG;IACnB,OAAO,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,CAAC;GAC9B;;;EAGD,IAAI,aAAa,GAAG;IAClB,OAAO,IAAI,CAAC,aAAa,CAAC,WAAW,EAAE,CAAC;GACzC;;;EAGD,IAAI,cAAc,GAAG;IACnB,OAAO,MAAM,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,CAAC,CAAC;GAC9C;;;EAGD,IAAI,YAAY,GAAG;IACjB,OAAO,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC;GACrC;;;EAGD,IAAI,oBAAoB,GAAG;IACzB,OAAO,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,CAAC;GACnD;;;EAGD,IAAI,kBAAkB,GAAG;IACvB,OAAO,OAAO,CAAC,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC,CAAC;GAC9C;;;EAGD,IAAI,mBAAmB,GAAG;IACxB,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,GAAG,CAAC,EAAE;MAC3B,OAAO,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,UAAU,CAAC;KAC9C,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,KAAK,CAAC,EAAE;MACpC,OAAO,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,GAAG,KAAK,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;KACpE,MAAM,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,KAAK,CAAC,EAAE;MACpC,OAAO,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC;KACjC;GACF;;;EAGD,IAAI,aAAa,GAAG;IAClB,OAAO,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,IAAI;MAChC,OAAO,MAAM,CAAC,QAAQ,GAAG,IAAI,GAAG,MAAM,CAAC,SAAS,CAAC;KAClD,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;GAClB;;;EAGD,IAAI,IAAI,GAAG;IACT,IAAI,IAAI,GAAG,EAAE,CAAC;IACd,IAAI,IAAI,CAAC,OAAO,CAAC,MAAM,EAAE;MACvB,IAAI,IAAI,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC;MAC/C,IAAI,IAAI,IAAI,CAAC,aAAa,CAAC;MAC3B,IAAI,IAAI,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;KAChD;IACD,OAAO,IAAI,IAAI,UAAU,CAAC;GAC3B;;EAED,IAAI,mBAAmB,GAAG;IACxB,OAAO,IAAI,GAAG,CAAC,IAAI,CAAC,SAAS,CAAC,GAAG,EAAE,WAAW,IAAI;MAChD,MAAM,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC;MACjD,OAAO,CAAC,WAAW,EAAE,KAAK,CAAC,CAAC;KAC7B,CAAC,CAAC,CAAC;GACL;;CAEF;;ACxOM,MAAM,QAAQ,GAAG,CAAC,UAAU,KAAK;EACtC,OAAO,cAAc,UAAU,CAAC;;IAE9B,WAAW,GAAG;MACZ,KAAK,EAAE,CAAC;;;MAGR,MAAM,OAAO,GAAG,CAAC,SAAS,EAAE,IAAI,EAAE,aAAa,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;MACtE,MAAM,QAAQ,GAAG,IAAI,gBAAgB,EAAE,MAAM;QAC3C,QAAQ,CAAC,UAAU,EAAE,CAAC;QACtB,IAAI,CAAC,gBAAgB,EAAE,CAAC;QACxB,QAAQ,CAAC,OAAO,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;OACjC,CAAC,CAAC;;;MAGH,QAAQ,CAAC,OAAO,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;KACjC;;IAED,iBAAiB,GAAG;MAClB,KAAK,CAAC,iBAAiB,EAAE,CAAC;;MAE1B,IAAI,CAAC,gBAAgB,EAAE,CAAC;KACzB;;;;IAID,gBAAgB,GAAG;MACjB,IAAI,IAAI,CAAC,WAAW,IAAI,IAAI,CAAC,IAAI,EAAE;QACjC,IAAI,CAAC,aAAa,EAAE,CAAC;OACtB;KACF;;IAED,aAAa,GAAG;MACd,OAAO,CAAC,KAAK,CAAC,CAAC,WAAW,EAAE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,8CAA8C,CAAC,EAAE,CAAC;KACrG;;GAEF,CAAC;CACH,CAAC;;ACrCF;;;;;AAKA,MAAM,aAAa,GAAG,SAAS,SAAS,EAAE,IAAI,EAAE,UAAU,EAAE;;;EAG1D,IAAI,KAAK,GAAG,UAAU,CAAC;EACvB,IAAI,UAAU,GAAG,CAAC,CAAC;;EAEnB,MAAM,WAAW,GAAG,SAAS,CAAC,MAAM,CAAC;;EAErC,OAAO,KAAK,GAAG,IAAI,CAAC,MAAM,EAAE;IAC1B,MAAM,SAAS,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC;;IAE9B,IAAI,UAAU,IAAI,CAAC;MACjB,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,KAAK,GAAG,WAAW,CAAC,KAAK,SAAS,EAAE;MACtD,OAAO,KAAK,CAAC;KACd,MAAM,IAAI,SAAS,KAAK,IAAI,EAAE;MAC7B,KAAK,EAAE,CAAC;KACT,MAAM,IAAI,SAAS,KAAK,GAAG,EAAE;MAC5B,UAAU,EAAE,CAAC;KACd,MAAM,IAAI,SAAS,KAAK,GAAG,EAAE;MAC5B,UAAU,EAAE,CAAC;KACd;;IAED,KAAK,EAAE,CAAC;GACT;;EAED,OAAO,CAAC,CAAC,CAAC;CACX,CAAC;;AAEF,MAAM,iBAAiB,GAAG,SAAS,SAAS,EAAE,SAAS,EAAE,UAAU,EAAE,OAAO,EAAE;EAC5E,MAAM,SAAS,GAAG,EAAE,CAAC;;EAErB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;IACzC,IAAI,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,MAAM,EAAE;MAChC,MAAM,IAAI,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;;MAE/B,IAAI,cAAc,GAAG,IAAI,CAAC;MAC1B,IAAI,SAAS,GAAG,CAAC,CAAC;MAClB,IAAI,SAAS,CAAC;;MAEd,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;MACpC,IAAI,SAAS,KAAK,CAAC,CAAC,EAAE;QACpB,SAAS,GAAG,SAAS,CAAC;QACtB,SAAS,CAAC,IAAI,CAAC;UACb,IAAI,EAAE,MAAM;UACZ,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE,SAAS,CAAC;SAC/B,CAAC,CAAC;QACH,cAAc,GAAG,KAAK,CAAC;OACxB;;MAED,OAAO,IAAI,EAAE;QACX,IAAI,cAAc,EAAE;UAClB,SAAS,GAAG,IAAI,CAAC,OAAO,CAAC,SAAS,EAAE,SAAS,CAAC,CAAC;UAC/C,IAAI,SAAS,KAAK,CAAC,CAAC,EAAE;YACpB,MAAM;WACP;;UAED,SAAS,CAAC,IAAI,CAAC;YACb,IAAI,EAAE,MAAM;YACZ,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,EAAE,SAAS,CAAC;WACvC,CAAC,CAAC;;UAEH,SAAS,GAAG,SAAS,CAAC;SACvB,MAAM;UACL,SAAS,GAAG,aAAa;YACvB,UAAU;YACV,IAAI;YACJ,SAAS,GAAG,SAAS,CAAC,MAAM,CAAC,CAAC;UAChC,IAAI,SAAS,KAAK,CAAC,CAAC,EAAE;YACpB,MAAM;WACP;;UAED,SAAS,CAAC,IAAI,CAAC;YACb,IAAI,EAAE,MAAM;YACZ,IAAI,EAAE,IAAI,CAAC,KAAK;cACd,SAAS,GAAG,SAAS,CAAC,MAAM;cAC5B,SAAS,CAAC;YACZ,OAAO,EAAE,IAAI,CAAC,KAAK;cACjB,SAAS;cACT,SAAS,GAAG,UAAU,CAAC,MAAM,CAAC;YAChC,OAAO,EAAE,OAAO;WACjB,CAAC,CAAC;;UAEH,SAAS,GAAG,SAAS,GAAG,UAAU,CAAC,MAAM,CAAC;SAC3C;;QAED,cAAc,GAAG,CAAC,cAAc,CAAC;OAClC;;MAED,SAAS,CAAC,IAAI,CAAC;QACb,IAAI,EAAE,MAAM;QACZ,IAAI,EAAE,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC;OAC5B,CAAC,CAAC;KACJ,MAAM;MACL,SAAS,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC;KAC9B;GACF;;EAED,OAAO,SAAS,CAAC;CAClB,CAAC;;;AAGF,MAAM,mBAAmB,GAAG,SAAS,IAAI,EAAE,UAAU,EAAE;EACrD,IAAI,IAAI,GAAG,CAAC,CAAC,IAAI,EAAE,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC;EACxC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;IAC1C,MAAM,SAAS,GAAG,UAAU,CAAC,CAAC,CAAC,CAAC;IAChC,IAAI,GAAG,iBAAiB;MACtB,IAAI,EAAE,SAAS,CAAC,IAAI,EAAE,SAAS,CAAC,KAAK;MACrC,SAAS,CAAC,OAAO,IAAI,KAAK,CAAC,CAAC;GAC/B;EACD,OAAO,IAAI,CAAC;CACb,CAAC;;;;;AAKF,MAAM,gBAAgB,GAAG,SAAS,IAAI,EAAE,WAAW,EAAE;EACnD,MAAM,IAAI,GAAG,mBAAmB,CAAC,IAAI,EAAE,WAAW,CAAC,UAAU,CAAC,CAAC;EAC/D,MAAM,QAAQ,GAAG,QAAQ,CAAC,sBAAsB,EAAE,CAAC;;EAEnD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;IACpC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,MAAM,EAAE;MAC3B,QAAQ,CAAC,WAAW,CAAC,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC;KAC7D,MAAM;MACL,MAAM,GAAG,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;MAC7C,MAAM,IAAI,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;;;MAG1B,WAAW,CAAC,WAAW,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;MAC1C,IAAI;QACF,GAAG,CAAC,WAAW,GAAG,IAAI,CAAC;QACvB,IAAI,WAAW,CAAC,WAAW,EAAE;UAC3B,GAAG,CAAC,YAAY,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;SAC/B;OACF,CAAC,OAAO,CAAC,EAAE;QACV,IAAI,EAAE,CAAC,YAAY,KAAK,CAAC,UAAU,CAAC,EAAE;UACpC,MAAM,CAAC,CAAC;SACT;QACD,WAAW,CAAC,aAAa;UACvB,sCAAsC,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI;UACrD,SAAS;UACT,CAAC;SACF,CAAC;QACF,QAAQ,CAAC,WAAW,CAAC,QAAQ,CAAC,cAAc,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC;QAC/D,SAAS;OACV;MACD,QAAQ,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC;KAC3B;GACF;;EAED,OAAO,QAAQ,CAAC;CACjB,CAAC;;AAEF,MAAM,UAAU,GAAG,SAAS,IAAI,EAAE,WAAW,EAAE;EAC7C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;IAC/C,MAAM,SAAS,GAAG,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;IACrC,IAAI,SAAS,CAAC,QAAQ,KAAK,CAAC,EAAE;;MAE5B,MAAM,IAAI,GAAG,gBAAgB,CAAC,SAAS,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;MAClE,CAAC,IAAI,IAAI,CAAC,UAAU,CAAC,MAAM,GAAG,CAAC,CAAC;MAChC,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;KACpC,MAAM,IAAI,SAAS,CAAC,QAAQ,KAAK,CAAC,EAAE;;MAEnC,MAAM,YAAY,GAAG,WAAW,CAAC,WAAW,CAAC,OAAO;QAClD,SAAS,CAAC,QAAQ,CAAC,WAAW,EAAE,CAAC,KAAK,CAAC,CAAC,CAAC;;MAE3C,IAAI,YAAY,EAAE;QAChB,UAAU,CAAC,SAAS,EAAE,WAAW,CAAC,CAAC;OACpC;KACF;;GAEF;CACF,CAAC;;AAEF,MAAM,wBAAwB,GAAG;EAC/B,UAAU,EAAE;IACV,CAAC,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC;IACxC,CAAC,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE,IAAI,CAAC;IAC1C,CAAC,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,OAAO,EAAE,KAAK,CAAC;;;GAG5C;;EAED,WAAW,EAAE;IACX,QAAQ,EAAE,UAAU,EAAE,OAAO,EAAE,UAAU,EAAE,KAAK,EAAE,MAAM,EAAE,KAAK;GAChE;;EAED,aAAa,EAAE,SAAS,GAAG,EAAE,GAAG,EAAE;IAChC,OAAO,CAAC,KAAK,CAAC,GAAG,EAAE,GAAG,CAAC,CAAC;GACzB;CACF,CAAC;;AAEF,AAAO,MAAM,mBAAmB,GAAG,SAAS,IAAI,EAAE,OAAO,EAAE;EACzD,IAAI,CAAC,IAAI,EAAE;IACT,MAAM,IAAI,KAAK,CAAC,+BAA+B,CAAC,CAAC;GAClD;;EAED,MAAM,WAAW,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,EAAE,wBAAwB,EAAE,OAAO,CAAC,CAAC;EACzE,UAAU,CAAC,IAAI,EAAE,WAAW,CAAC,CAAC;CAC/B;;AC3MD;AACA,AAQO,MAAM,UAAU,GAAG,oDAAoD,CAAC;AAC/E,AAAO,MAAM,WAAW,GAAG,4GAA4G,CAAC;;AAExI,MAAMA,GAAC,GAAG,QAAQ,CAAC,QAAQ,EAAE,CAAC;AAC9B,EAAE,WAAW,CAAC;;;;;;;;;;;;AAYd,EAAEC,OAAK,CAAC;;;AAGR,CAAC,CAAC,CAAC;;;AAGH,AAAO,MAAM,KAAK,SAAS,QAAQ,CAACD,GAAC,CAAC,WAAW,CAAC,CAAC,CAAC;;EAElD,WAAW,YAAY,CAAC,OAAO,EAAE;IAC/B,KAAK,CAAC,aAAa,GAAG,OAAO,CAAC;IAC9B,IAAI,KAAK,CAAC,YAAY,CAAC,UAAU,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE;MACtD,KAAK,CAAC,QAAQ,EAAE,CAAC;KAClB;GACF;;EAED,WAAW,YAAY,GAAG;IACxB,IAAI,CAAC,KAAK,CAAC,aAAa,EAAE;MACxB,KAAK,CAAC,aAAa,GAAG;QACpB,UAAU,EAAE,EAAE,EAAE,MAAM,CAAC,GAAG,EAAE,OAAO,CAAC,GAAG,EAAE,SAAS,CAAC,IAAI,EAAE,EAAE;OAC5D,CAAC;KACH;IACD,OAAO,KAAK,CAAC,aAAa,CAAC;GAC5B;;EAED,OAAO,mBAAmB,GAAG;;IAE3B,MAAM,QAAQ,GAAG,QAAQ,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC;IACrD,KAAK,MAAM,OAAO,IAAI,QAAQ,EAAE;MAC9B,OAAO,CAAC,aAAa,EAAE,CAAC;KACzB;;IAED,IAAI,KAAK,CAAC,YAAY,CAAC,UAAU,EAAE;MACjC,MAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC;MACpD,mBAAmB,CAAC,OAAO,EAAE,KAAK,CAAC,YAAY,CAAC,CAAC;KAClD;GACF;;EAED,OAAO,QAAQ,GAAG;;IAEhB,QAAQ,CAAC,IAAI,CAAC,kBAAkB,CAAC,WAAW,EAAE,WAAW,CAAC,CAAC;;IAE3D,MAAM,SAAS,GAAG,QAAQ,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;IACnD,SAAS,CAAC,GAAG,GAAG,UAAU,CAAC;IAC3B,SAAS,CAAC,KAAK,GAAG,IAAI,CAAC;IACvB,SAAS,CAAC,MAAM,GAAG,KAAK,CAAC,mBAAmB,CAAC;IAC7C,SAAS,CAAC,WAAW,GAAG,WAAW,CAAC;IACpC,QAAQ,CAAC,IAAI,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;;IAErC,KAAK,CAAC,UAAU,GAAG,IAAI,CAAC;GACzB;;EAED,IAAI,OAAO,GAAG;IACZ,MAAM,YAAY,GAAG,EAAE,WAAW,EAAE,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,EAAE,CAAC;IACjE,OAAO,MAAM,CAAC,MAAM,CAAC,YAAY,EAAE,KAAK,CAAC,YAAY,CAAC,CAAC;GACxD;;EAED,iBAAiB,GAAG;IAClB,KAAK,CAAC,iBAAiB,EAAE,CAAC;IAC1B,IAAI,CAAC,KAAK,CAAC,UAAU,EAAE;MACrB,KAAK,CAAC,QAAQ,EAAE,CAAC;KAClB;GACF;;EAED,aAAa,GAAG;IACd,IAAI,OAAO,KAAK,KAAK,WAAW,EAAE;MAChC,MAAM,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,CAAC;MAC9D,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,WAAW,EAAE,SAAS,EAAE,IAAI,CAAC,OAAO,CAAC,CAAC;KACzD;GACF;;CAEF;;AAED,KAAK,CAAC,UAAU,GAAG,KAAK,CAAC;AACzB,KAAK,CAAC,kBAAkB,GAAG,KAAK,CAAC;AACjC,MAAM,CAAC,KAAK,GAAG,KAAK,CAAC;;ACtErB,SAAS,aAAa,CAAC,GAAG,EAAE,QAAQ,EAAE,GAAG,EAAE,QAAQ,CAAC;EAClD,IAAI,KAAK,GAAG,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;EACtC,IAAI,YAAY,GAAG,KAAK,CAAC,GAAG,CAAC,IAAI,IAAI;IACnC,IAAI,GAAG,IAAI,CAAC,IAAI,EAAE,CAAC;IACnB,IAAI,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC,CAAC;MAC1B,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;MACrC,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;KACjC,MAAM;MACL,IAAI,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,EAAE,CAAC;MAC/C,IAAI,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;KACpD;IACD,IAAI,QAAQ,GAAG,EAAE,CAAC;IAClB,IAAI,MAAM,IAAI,SAAS,EAAE;MACvB,QAAQ,GAAG,MAAM,CAAC,IAAI,EAAE,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;MAC1D,QAAQ,GAAG,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,GAAG,CAAC;KACnC;IACD,OAAO,QAAQ,CAAC,OAAO,CAAC,MAAM,EAAE,MAAM,CAAC;OACpC,OAAO,CAAC,MAAM,EAAE,IAAI,CAAC;OACrB,OAAO,CAAC,MAAM,EAAE,QAAQ,CAAC,CAAC;GAC9B,CAAC,CAAC;EACH,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;IACpB,IAAI,GAAG,GAAG,YAAY,CAAC,KAAK,CAAC,CAAC,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC1D,GAAG,IAAI,CAAC,QAAQ,IAAI,GAAG,IAAI,YAAY,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC;IACxD,OAAO,GAAG,CAAC;GACZ,MAAM;IACL,OAAO,YAAY,CAAC,CAAC,CAAC,CAAC;GACxB;CACF;;AAED,SAAS,YAAY,CAAC,GAAG,EAAE;EACzB,IAAI,IAAI,IAAI,GAAG,CAAC,OAAO,IAAI,GAAG,CAAC,SAAS,IAAI,EAAE,CAAC,CAAC;EAChD,IAAI,QAAQ,IAAI,GAAG,CAAC;IAClB,IAAI,KAAK,GAAG,GAAG,CAAC,KAAK,IAAI,GAAG,CAAC,MAAM,CAAC;IACpC,KAAK,GAAG,CAAC,KAAK,IAAI,SAAS,GAAG,GAAG,CAAC,KAAK,CAAC,GAAG,GAAG,EAAE,CAAC;IACjD,IAAI,IAAI,QAAQ,GAAG,GAAG,CAAC,MAAM,GAAG,KAAK,CAAC;GACvC;EACD,IAAI,OAAO,IAAI,GAAG,CAAC;IACjB,IAAI,IAAI,QAAQ,GAAG,GAAG,CAAC,KAAK,CAAC;GAC9B;EACD,IAAI,IAAI,IAAI,EAAE,EAAE,EAAA,IAAI,IAAI,IAAI,CAAC,EAAA;EAC7B,IAAI,WAAW,IAAI,GAAG,CAAC;IACrB,IAAI,IAAI,GAAG,CAAC,SAAS,CAAC;IACtB,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC,IAAI,GAAG,EAAE,EAAA,IAAI,IAAI,GAAG,CAAC,EAAA;GAC7C;EACD,OAAO,IAAI,CAAC;CACb;;AAED,SAAS,WAAW,CAAC,GAAG,CAAC;EACvB,IAAI,KAAK,IAAI,GAAG,CAAC;IACf,IAAI,GAAG,GAAG,GAAG,CAAC,GAAG,CAAC;IAClB,IAAI,WAAW,GAAG,CAAC,6BAA6B,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;IAC5D,IAAI,WAAW,IAAI,IAAI,CAAC;MACtB,GAAG,GAAG,CAAC,qBAAqB,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC;KACpD;;IAED,IAAI,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,MAAM,CAAC;MAC1B,IAAI,KAAK,GAAG,KAAK,CAAC;KACnB,MAAM,IAAI,GAAG,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,IAAI,OAAO,EAAE;MACnC,IAAI,KAAK,GAAG,MAAM,CAAC;KACpB;IACD,OAAO,CAAC,gBAAgB,EAAE,GAAG,CAAC,GAAG,EAAE,KAAK,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC;GACzD;;WAEQ;IACP,OAAO,EAAE,CAAC;GACX;CACF;AACD,SAAS,UAAU,CAAC,GAAG,EAAE,QAAQ,CAAC;EAChC,IAAI,KAAK,IAAI,GAAG,EAAE;IAChB,OAAO,CAAC,EAAE,QAAQ,CAAC,MAAM,CAAC,EAAE,CAAC,0BAA0B,EAAE,GAAG,CAAC,GAAG,CAAC,wCAAwC,EAAE,GAAG,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;GAC1H,MAAM;IACL,OAAO,EAAE,CAAC;GACX;CACF;;AAED,AAAO,SAAS,iBAAiB,CAAC,GAAG,EAAE,KAAK,CAAC;EAC3C,IAAI,GAAG,CAAC;IACN,IAAI,IAAI,IAAI,KAAK,GAAG,GAAG,CAAC,KAAK,GAAG,OAAO,CAAC;IACxC,IAAI,IAAI,WAAW,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC;IAClC,IAAI,IAAI,aAAa,CAAC,GAAG,EAAE,YAAY,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;IACxD,IAAI,GAAG,CAAC,IAAI,IAAI,GAAG,CAAC,IAAI,CAAC;MACvB,IAAI,IAAI,IAAI,IAAI,GAAG,CAAC,IAAI,IAAI,GAAG,CAAC,IAAI,CAAC,GAAG,IAAI,CAAC;KAC9C,MAAM;MACL,IAAI,IAAI,IAAI,CAAC;KACd;IACD,IAAI,IAAI,YAAY,CAAC,GAAG,CAAC,CAAC;IAC1B,IAAI,IAAI,UAAU,CAAC,GAAG,CAAC,CAAC;IACxB,OAAO,IAAI,CAAC;;;;;;;;;;;;GAYb,MAAM;IACL,OAAO,GAAG,CAAC;GACZ;CACF;;AAED,AAAO,SAAS,UAAU,CAAC,GAAG,CAAC;EAC7B,IAAI,GAAG,CAAC;IACN,IAAI,IAAI,GAAG,EAAE,CAAC;IACd,IAAI,IAAI,KAAK,GAAG,GAAG,CAAC,KAAK,GAAG,MAAM,CAAC;IACnC,IAAI,IAAI,WAAW,CAAC,GAAG,CAAC,CAAC;IACzB,IAAI,IAAI,MAAM,CAAC;;IAEf,IAAI,KAAK,GAAG,aAAa,CAAC,GAAG,EAAE,WAAW,EAAE,IAAI,CAAC,GAAG,GAAG,CAAC;IACxD,IAAI,KAAK,GAAG,YAAY,CAAC,GAAG,CAAC,CAAC,IAAI,EAAE,GAAG,GAAG,GAAG,GAAG,CAAC,IAAI,GAAG,IAAI,GAAG,UAAU,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;;IAErF,IAAI,CAAC,KAAK,CAAC,KAAK,EAAE,MAAM,GAAG,IAAI,CAAC,GAAG,CAAC,EAAE,EAAE,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,EAAE;MACzD,IAAI,IAAI,KAAK,GAAG,GAAG,GAAG,KAAK,CAAC;KAC7B,MAAM;MACL,IAAI,IAAI,KAAK,GAAG,MAAM,GAAG,KAAK,CAAC;KAChC;IACD,OAAO,IAAI,CAAC;GACb,MAAM;IACL,OAAO,GAAG,CAAC;GACZ;CACF;;;;;ACxJD,SAAS,cAAc,CAAC,GAAG,EAAE,GAAG,EAAE;EAChC,MAAM,MAAM,GAAG,MAAM,CAAC,UAAU,GAAG,GAAG,CAAC;EACvC,MAAM,OAAO,GAAG,MAAM,EAAE,EAAE,GAAG,EAAE,CAAC;EAChC,MAAM,aAAa,GAAG,MAAM,GAAG,EAAE,GAAG,CAAC,CAAC;;EAEtC,MAAM,IAAI,GAAG,GAAG,CAAC,YAAY,CAAC,qBAAqB,EAAE,CAAC;EACtD,IAAI,IAAI,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,IAAI,EAAE,GAAG,GAAG,GAAG,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC,GAAG,CAAC;EACvD,IAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC,aAAa,EAAE,GAAG,CAAC,CAAC;EAC7D,IAAI,GAAG,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,MAAM,CAAC,UAAU,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;EAC7D,KAAK,GAAG,KAAK,GAAG,CAAC,GAAG,OAAO,CAAC;EAC5B,QAAQ,CAAC;;;gBAGK,EAAE,KAAK,CAAC;UACd,EAAE,GAAG,CAAC;WACL,EAAE,IAAI,CAAC;;cAEJ,EAAE,OAAO,CAAC;oBACJ,EAAE,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC;;cAEtB,EAAE,GAAG,CAAC,CAAC,CAAC,EAAE;CACvB;;AAED,MAAM,eAAe,GAAG,KAAK,CAAC;;AAE9B,AAAO,MAAM,QAAQ,CAAC;;EAEpB,WAAW,CAAC,WAAW,EAAE,cAAc,EAAE;IACvC,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;;IAErB,IAAI,CAAC,GAAG,GAAG,WAAW,CAAC;IACvB,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;;IAE7B,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;IACrC,IAAI,CAAC,iBAAiB,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;IAC5C,IAAI,CAAC,IAAI,EAAE,CAAC;GACb;;EAED,aAAa,CAAC,IAAI,EAAE;;IAElB,IAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC,WAAW,EAAE,MAAM;MAC3C,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE,EAAA,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC,EAAA;MACzC,IAAI,CAAC,WAAW,EAAE,CAAC;KACpB,CAAC,CAAC;IACH,IAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC,UAAU,EAAE,MAAM;MAC1C,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC;KACrC,CAAC,CAAC;;IAEH,IAAI,CAAC,GAAG,CAAC,gBAAgB,CAAC,YAAY,EAAE,CAAC,KAAK,KAAK;MACjD,KAAK,CAAC,eAAe,EAAE,CAAC;KACzB,EAAE,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC;;IAEpB,QAAQ,CAAC,IAAI,CAAC,gBAAgB,CAAC,YAAY,EAAE,MAAM;MACjD,IAAI,CAAC,IAAI,EAAE,CAAC;KACb,EAAE,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC;GACrB;;EAED,iBAAiB,CAAC,IAAI,EAAE;IACtB,IAAI,CAAC,gBAAgB,CAAC,WAAW,EAAE,MAAM;MACvC,IAAI,CAAC,IAAI,CAAC,OAAO,EAAE;QACjB,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;OACvB;MACD,IAAI,CAAC,WAAW,EAAE,CAAC;KACpB,CAAC,CAAC;;IAEH,IAAI,CAAC,gBAAgB,CAAC,UAAU,EAAE,MAAM;MACtC,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC;KACrC,CAAC,CAAC;;IAEH,IAAI,CAAC,gBAAgB,CAAC,YAAY,EAAE,CAAC,KAAK,KAAK;MAC7C,IAAI,IAAI,CAAC,OAAO,EAAE;QAChB,IAAI,CAAC,IAAI,EAAE,CAAC;OACb,MAAM;QACL,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;OACvB;;MAED,KAAK,CAAC,eAAe,EAAE,CAAC;KACzB,EAAE,CAAC,OAAO,EAAE,IAAI,CAAC,CAAC,CAAC;GACrB;;EAED,IAAI,CAAC,QAAQ,EAAE;IACb,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;IACpB,MAAM,GAAG,GAAG,cAAc,CAAC,QAAQ,EAAE,IAAI,CAAC,cAAc,CAAC,CAAC;IAC1D,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,EAAE,GAAG,EAAE,CAAC;GACtC;;EAED,UAAU,CAAC,IAAI,EAAE;IACf,MAAM,IAAI,GAAG,IAAI,CAAC,qBAAqB,EAAE,CAAC;IAC1C,IAAI,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;GACtC;;EAED,IAAI,GAAG;IACL,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;IACrB,IAAI,CAAC,GAAG,CAAC,YAAY,CAAC,OAAO,EAAE,cAAc,CAAC,CAAC;IAC/C,IAAI,CAAC,WAAW,EAAE,CAAC;GACpB;;EAED,WAAW,GAAG;IACZ,IAAI,IAAI,CAAC,OAAO,EAAE;MAChB,YAAY,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;KAC5B;GACF;;EAED,aAAa,CAAC,IAAI,EAAE;IAClB,IAAI,CAAC,WAAW,EAAE,CAAC;IACnB,IAAI,CAAC,OAAO,GAAG,UAAU,CAAC,MAAM;MAC9B,IAAI,CAAC,IAAI,EAAE,CAAC;KACb,EAAE,IAAI,CAAC,CAAC;GACV;;CAEF;;AC1GD,MAAMA,GAAC,GAAG,QAAQ,CAAC,QAAQ,EAAE,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiC9B,CAAC,CAAC,CAAC;;AAEH,AAAO,SAAS,gBAAgB,CAAC,GAAG,CAAC,QAAQ,EAAE;EAC7C,MAAM,SAAS,GAAG,IAAI,GAAG,EAAE,CAAC;EAC5B,MAAM,QAAQ,GAAG,GAAG,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC;EAChD,KAAK,MAAM,GAAG,IAAI,QAAQ,EAAE;IAC1B,MAAM,IAAI,GAAG,GAAG,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IAChD,KAAK,MAAM,GAAG,IAAI,IAAI,EAAE;MACtB,SAAS,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;KACpB;GACF;EACD,OAAO,CAAC,GAAG,SAAS,CAAC,CAAC;CACvB;;AAED,AAAO,MAAM,IAAI,SAASA,GAAC,CAAC,WAAW,CAAC,CAAC;;;;;;;;;;EAUvC,iBAAiB,GAAG;;;IAGlB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC;IACzD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;IACvD,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,CAAC;;;;IAI7D,IAAI,CAAC,QAAQ,GAAG,IAAI,QAAQ,CAAC,IAAI,CAAC,QAAQ,EAAE,IAAI,CAAC,SAAS,CAAC,CAAC;GAC7D;;EAED,oBAAoB,GAAG;IACrB,MAAM,OAAO,GAAG,EAAE,MAAM,EAAE,CAAC,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;IAC7D,MAAM,KAAK,GAAG,IAAI,WAAW,CAAC,kBAAkB,EAAE,OAAO,CAAC,CAAC;IAC3D,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;GAC/B;;;;;;;;;;;;;;;;;EAiBD,WAAW,kBAAkB,GAAG;IAC9B,OAAO,CAAC,KAAK,CAAC,CAAC;GAChB;;EAED,wBAAwB,CAAC,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE;IACjD,MAAM,SAAS,GAAG,QAAQ,GAAG,kBAAkB,GAAG,kBAAkB,CAAC;IACrE,MAAM,IAAI,GAAG,QAAQ,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;IACjC,MAAM,OAAO,GAAG,EAAE,MAAM,EAAE,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;IACxD,MAAM,KAAK,GAAG,IAAI,WAAW,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;IAClD,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;GAC/B;;EAED,IAAI,GAAG,CAAC,KAAK,EAAE;IACb,IAAI,CAAC,YAAY,CAAC,KAAK,EAAE,KAAK,CAAC,CAAC;GACjC;;EAED,IAAI,GAAG,GAAG;IACR,OAAO,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC;GACjC;;EAED,IAAI,IAAI,GAAG;IACT,OAAO,IAAI,CAAC,YAAY,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;GAC5C;;;;EAID,IAAI,OAAO,CAAC,OAAO,EAAE;IACnB,MAAM,aAAa,GAAG,OAAO,CAAC,GAAG,EAAE,KAAK,IAAI;MAC1C,OAAO,KAAK,IAAI,CAAC,CAAC,GAAG,GAAG,GAAG,KAAK,GAAG,CAAC,GAAG,EAAE,CAAC;KAC3C,CAAC,CAAC;IACH,MAAM,WAAW,GAAG,GAAG,GAAG,aAAa,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,GAAG,CAAC;IACzD,MAAM,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,CAAC;IAC9D,SAAS,CAAC,WAAW,GAAG,WAAW,CAAC;GACrC;;EAED,IAAI,OAAO,CAAC,OAAO,EAAE;IACnB,MAAM,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;IAClD,GAAG,CAAC,SAAS,GAAG,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC;GAC1D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CA6BF;;ACjKM,SAAS,gBAAgB,CAAC,OAAO,EAAE;EACxC,MAAM,SAAS,GAAG,OAAO,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;EAClD,IAAI,SAAS,EAAE;IACb,MAAM,IAAI,GAAG,SAAS,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC;IAC5C,IAAI,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,MAAM,EAAE;MAChC,MAAM,OAAO,GAAG,SAAS,CAAC,WAAW,CAAC;MACtC,OAAO,IAAI,CAAC,KAAK,CAAC,OAAO,CAAC,CAAC;KAC5B,MAAM;MACL,OAAO,CAAC,KAAK,CAAC,oEAAoE,CAAC,CAAC;KACrF;GACF,MAAM;IACL,OAAO,CAAC,KAAK,CAAC,iIAAiI,CAAC,CAAC;GAClJ;EACD,OAAO,EAAE,CAAC;CACX;;AAED,AAAO,MAAME,aAAW,SAAS,WAAW,CAAC;;EAE3C,WAAW,EAAE,GAAG,EAAE,OAAO,gBAAgB,CAAC,EAAE;;EAE5C,WAAW,GAAG;IACZ,KAAK,EAAE,CAAC;;IAER,MAAM,OAAO,GAAG,CAAC,SAAS,EAAE,IAAI,EAAE,aAAa,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;IACtE,MAAM,QAAQ,GAAG,IAAI,gBAAgB,EAAE,CAAC,OAAO,KAAK;MAClD,KAAK,MAAM,KAAK,IAAI,OAAO,EAAE;QAC3B,IAAI,KAAK,CAAC,MAAM,CAAC,QAAQ,KAAK,QAAQ,IAAI,KAAK,CAAC,IAAI,KAAK,eAAe,EAAE;UACxE,MAAM,IAAI,GAAG,gBAAgB,CAAC,IAAI,CAAC,CAAC;UACpC,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;SACnB;OACF;KACF,CAAC,CAAC;IACH,QAAQ,CAAC,OAAO,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;GACjC;;EAED,MAAM,CAAC,IAAI,EAAE;IACX,MAAM,OAAO,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;IAChD,MAAM,KAAK,GAAG,IAAI,WAAW,CAAC,sBAAsB,EAAE,OAAO,CAAC,CAAC;IAC/D,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;GAC/B;;CAEF;;ACzCD,WAAe,SAAS,GAAG,EAAE;;EAE3B,MAAM,IAAI,GAAG,GAAG,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;;;EAGvC,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,YAAY,CAAC,MAAM,CAAC,EAAE;IACnD,GAAG,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC,YAAY,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;GACtD;;;EAGD,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,eAAe,CAAC,EAAE;IACvC,MAAM,IAAI,GAAG,GAAG,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;IACvC,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,OAAO,CAAC,CAAC;IACtC,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;GACxB;;;EAGD,IAAI,CAAC,GAAG,CAAC,aAAa,CAAC,qBAAqB,CAAC,EAAE;IAC7C,MAAM,IAAI,GAAG,GAAG,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;IACvC,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,UAAU,CAAC,CAAC;IACtC,IAAI,CAAC,YAAY,CAAC,SAAS,EAAE,qCAAqC,CAAC,CAAC;IACpE,IAAI,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;GACxB;CACF;;ACvBD;;;;;;;;;AASA,yBAAe,SAAS,GAAG,EAAE,IAAI,EAAE;EACjC,MAAM,OAAO,GAAG,GAAG,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC;;EAE/C,IAAI,YAAY,GAAG,GAAG,CAAC,aAAa,CAAC,gBAAgB,CAAC,CAAC;EACvD,IAAI,CAAC,YAAY,IAAI,IAAI,CAAC,QAAQ,EAAE;IAClC,YAAY,GAAG,GAAG,CAAC,aAAa,CAAC,gBAAgB,CAAC,CAAC;IACnD,YAAY,CAAC,QAAQ,GAAG,IAAI,CAAC,QAAQ,CAAC;IACtC,GAAG,CAAC,IAAI,CAAC,YAAY,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC;GAC9C;;EAED,IAAI,EAAE,GAAG,GAAG,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;EACjC,IAAI,EAAE,EAAE;IACN,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE;MACf,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC,WAAW,CAAC;KAC7B;GACF,MAAM;IACL,IAAI,IAAI,CAAC,KAAK,EAAE;MACd,EAAE,GAAG,GAAG,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;MAC7B,EAAE,CAAC,WAAW,GAAG,IAAI,CAAC,KAAK,CAAC;MAC5B,OAAO,CAAC,YAAY,CAAC,EAAE,EAAE,OAAO,CAAC,UAAU,CAAC,CAAC;KAC9C;IACD,IAAI,IAAI,CAAC,WAAW,EAAE;MACpB,MAAM,EAAE,GAAG,GAAG,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;MACnC,EAAE,CAAC,WAAW,GAAG,IAAI,CAAC,WAAW,CAAC;MAClC,OAAO,CAAC,YAAY,CAAC,EAAE,EAAE,EAAE,CAAC,WAAW,CAAC,CAAC;KAC1C;GACF;;EAED,IAAI,MAAM,GAAG,GAAG,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;EAC3C,IAAI,CAAC,MAAM,IAAI,IAAI,CAAC,OAAO,EAAE;IAC3B,MAAM,GAAG,GAAG,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;IACvC,MAAM,QAAQ,GAAG,CAAC,IAAI,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC;IACxC,IAAI,SAAS,GAAG,EAAE,CAAC;IACnB,OAAO,QAAQ,CAAC,OAAO,CAAC,SAAS,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC,EAAE;MACjD,SAAS,GAAG,SAAS,CAAC,WAAW,CAAC;KACnC;IACD,OAAO,CAAC,YAAY,CAAC,MAAM,EAAE,SAAS,CAAC,CAAC;GACzC;;EAED,IAAI,QAAQ,GAAG,GAAG,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;EAC/C,IAAI,CAAC,QAAQ,EAAE;IACb,QAAQ,GAAG,GAAG,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;IAC3C,GAAG,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;GAChC;;EAED,IAAI,YAAY,GAAG,GAAG,CAAC,aAAa,CAAC,iBAAiB,CAAC,CAAC;EACxD,IAAI,CAAC,YAAY,EAAE;IACjB,YAAY,GAAG,GAAG,CAAC,aAAa,CAAC,iBAAiB,CAAC,CAAC;IACpD,QAAQ,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;GACpC;;EAED,IAAI,YAAY,GAAG,GAAG,CAAC,aAAa,CAAC,iBAAiB,CAAC,CAAC;EACxD,IAAI,CAAC,YAAY,EAAE;IACjB,YAAY,GAAG,GAAG,CAAC,aAAa,CAAC,iBAAiB,CAAC,CAAC;IACpD,QAAQ,CAAC,WAAW,CAAC,YAAY,CAAC,CAAC;GACpC;;CAEF;;AC3DD,MAAM,WAAW,GAAG,IAAI,WAAW,EAAE,CAAC;;AAEtC,AAAO,MAAM,UAAU,GAAG;;EAExB,WAAW,EAAE,WAAW;EACxB,SAAS,EAAE;IACT,YAAY,EAAE,EAAE;IAChB,SAAS,EAAE,EAAE;GACd;EACD,SAAS,EAAE;;IAET,gBAAgB,CAAC,KAAK,EAAE;MACtB,MAAM,CAAC,OAAO,EAAE,IAAI,CAAC,GAAG,KAAK,CAAC,MAAM,CAAC;;;MAGrC,IAAI,CAAC,WAAW,CAAC,kBAAkB,EAAE;;QAEnC,UAAU,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,CAAC,MAAM,UAAU,CAAC,SAAS,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,CAAC;QACxF,OAAO;OACR;;;MAGD,IAAI,CAAC,WAAW,CAAC,kBAAkB,EAAE;;QAEnC,UAAU,CAAC,SAAS,CAAC,YAAY,CAAC,IAAI,CAAC,MAAM,UAAU,CAAC,SAAS,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC,CAAC;QAC3F,OAAO;OACR;;MAED,MAAM,OAAO,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,IAAI,WAAW,CAAC,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC;MACtE,OAAO,CAAC,OAAO,GAAG,OAAO,CAAC;MAC1B,MAAM,OAAO,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,IAAI,WAAW,CAAC,YAAY,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC;MACrE,OAAO,CAAC,OAAO,GAAG,OAAO,CAAC;KAC3B;;IAED,gBAAgB,CAAC,KAAK,EAAE;;;;MAItB,WAAW,CAAC,SAAS,GAAG,gBAAgB,EAAE,CAAC;MAC3C,WAAW,CAAC,kBAAkB,GAAG,IAAI,CAAC;MACtC,KAAK,MAAM,eAAe,IAAI,UAAU,CAAC,SAAS,CAAC,SAAS,CAAC,KAAK,EAAE,EAAE;QACpE,eAAe,EAAE,CAAC;OACnB;;;MAGD,MAAM,eAAe,GAAG,QAAQ,CAAC,aAAa,CAAC,iBAAiB,CAAC,CAAC;MAClE,MAAM,mBAAmB,GAAG,IAAI,GAAG,CAAC,WAAW,CAAC,SAAS,CAAC,GAAG,EAAE,WAAW,IAAI;QAC5E,OAAO,CAAC,WAAW,EAAE,WAAW,CAAC,YAAY,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC;OACjE,CAAC,CAAC,CAAC;MACJ,eAAe,CAAC,SAAS,GAAG,mBAAmB,CAAC;;MAEhD,MAAM,QAAQ,GAAG,QAAQ,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC;MACrD,KAAK,MAAM,OAAO,IAAI,QAAQ,EAAE;QAC9B,MAAM,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC;QAC1B,MAAM,OAAO,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,IAAI,WAAW,CAAC,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC;QACtE,OAAO,CAAC,OAAO,GAAG,OAAO,CAAC;QAC1B,MAAM,OAAO,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,IAAI,WAAW,CAAC,YAAY,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC;QACrE,OAAO,CAAC,OAAO,GAAG,OAAO,CAAC;OAC3B;;KAEF;;IAED,gBAAgB,CAAC,KAAK,EAAE;MACtB,UAAU,CAAC,SAAS,CAAC,gBAAgB,CAAC,KAAK,CAAC,CAAC;KAC9C;;IAED,qBAAqB,CAAC,KAAK,EAAE;MAC3B,MAAM,eAAe,GAAG,QAAQ,CAAC,aAAa,CAAC,iBAAiB,CAAC,CAAC;MAClE,MAAM,YAAY,GAAG,KAAK,CAAC,MAAM,CAAC;;MAElC,WAAW,CAAC,YAAY,GAAG,YAAY,CAAC;MACxC,WAAW,CAAC,kBAAkB,GAAG,IAAI,CAAC;MACtC,KAAK,MAAM,eAAe,IAAI,UAAU,CAAC,SAAS,CAAC,YAAY,CAAC,KAAK,EAAE,EAAE;QACvE,eAAe,EAAE,CAAC;OACnB;;;MAGD,IAAI,CAAC,WAAW,CAAC,kBAAkB,EAAE;QACnC,UAAU,CAAC,SAAS,CAAC,SAAS,CAAC,IAAI,EAAE,WAAW;UAC9C,UAAU,CAAC,SAAS,CAAC,qBAAqB,CAAC,CAAC,MAAM,EAAE,KAAK,CAAC,MAAM,EAAE,MAAM,EAAE,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;SAC1F,CAAC,CAAC;QACH,OAAO;OACR;;MAED,MAAM,OAAO,GAAG,IAAI,GAAG,CAAC,WAAW,CAAC,SAAS,CAAC,GAAG,EAAE,WAAW,IAAI;QAChE,OAAO,CAAC,WAAW,EAAE,WAAW,CAAC,YAAY,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC;OACjE,CAAC,CAAC,CAAC;;MAEJ,eAAe,CAAC,SAAS,GAAG,OAAO,CAAC;KACrC;;IAED,iBAAiB,GAAG;;;MAGlB,MAAM,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,iBAAiB,CAAC,CAAC;MAChE,IAAI,aAAa,EAAE;QACjB,MAAM,SAAS,GAAG,QAAQ,CAAC,gBAAgB,CAAC,YAAY,CAAC,CAAC;QAC1D,aAAa,CAAC,SAAS,GAAG,SAAS,CAAC;OACrC;KACF;;IAED,oBAAoB,CAAC,KAAK,EAAE;MAC1B,MAAM,IAAI,GAAG,KAAK,CAAC,MAAM,CAAC;MAC1B,WAAW,CAAC,uBAAuB,CAAC,IAAI,CAAC,CAAC;;MAE1C,MAAM,YAAY,GAAG,QAAQ,CAAC,aAAa,CAAC,gBAAgB,CAAC,CAAC;MAC9D,IAAI,YAAY,EAAE;QAChB,YAAY,CAAC,QAAQ,GAAG,WAAW,CAAC,QAAQ,CAAC;OAC9C;;MAED,MAAM,WAAW,GAAG,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,qBAAqB,CAAC,CAAC;MACtE,IAAI,CAAC,WAAW,EAAE;QAChB,kBAAkB,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC;QAC1C,IAAI,CAAC,QAAQ,EAAE,WAAW,CAAC,CAAC;;QAE5B,MAAM,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,kBAAkB,CAAC,CAAC;QAC5D,IAAI,QAAQ,EAAE;UACZ,QAAQ,CAAC,WAAW,GAAG,WAAW,CAAC;SACpC;;QAED,MAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;QAClD,IAAI,MAAM,EAAE;UACV,MAAM,CAAC,WAAW,GAAG,WAAW,CAAC;SAClC;;QAED,IAAI,IAAI,CAAC,KAAK,EAAE;UACd,KAAK,CAAC,YAAY,GAAG,IAAI,CAAC,KAAK,CAAC;SACjC;OACF;;KAEF;;IAED,gBAAgB,GAAG;;;MAGjB,MAAM,cAAc,GAAG,QAAQ,CAAC,aAAa,CAAC,gBAAgB,CAAC,CAAC;MAChE,MAAM,IAAI,GAAG,gBAAgB,CAAC,cAAc,CAAC,CAAC;MAC9C,UAAU,CAAC,SAAS,CAAC,oBAAoB,CAAC,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC,CAAC;;;MAG1D,WAAW,CAAC,SAAS,GAAG,gBAAgB,EAAE,CAAC;MAC3C,WAAW,CAAC,kBAAkB,GAAG,IAAI,CAAC;MACtC,KAAK,MAAM,eAAe,IAAI,UAAU,CAAC,SAAS,CAAC,SAAS,CAAC,KAAK,EAAE,EAAE;QACpE,eAAe,EAAE,CAAC;OACnB;;MAED,MAAM,aAAa,GAAG,QAAQ,CAAC,aAAa,CAAC,iBAAiB,CAAC,CAAC;MAChE,IAAI,aAAa,EAAE;QACjB,MAAM,SAAS,GAAG,QAAQ,CAAC,gBAAgB,CAAC,YAAY,CAAC,CAAC;QAC1D,aAAa,CAAC,SAAS,GAAG,SAAS,CAAC;OACrC;KACF;;GAEF;;CAEF,CAAC;;AC/JF,MAAMF,GAAC,GAAG,QAAQ,CAAC,WAAW,EAAE,CAAC;;;;;;AAMjC,CAAC,EAAE,KAAK,CAAC,CAAC;;;;;;;;;;AAUV,MAAM,gBAAgB,GAAG,OAAO,CAAC;;AAEjC,AAAO,MAAM,OAAO,SAASA,GAAC,CAAC,WAAW,CAAC,CAAC;;EAE1C,WAAW,GAAG;IACZ,KAAK,EAAE,CAAC;;IAER,IAAI,gBAAgB,EAAE,CAAC,SAAS,KAAK;MACnC,KAAK,MAAM,QAAQ,IAAI,SAAS,EAAE;QAChC,KAAK,MAAM,SAAS,IAAI,QAAQ,CAAC,UAAU,EAAE;UAC3C,QAAQ,SAAS,CAAC,QAAQ;UAC1B,KAAK,IAAI;YACP,OAAO,CAAC,IAAI,CAAC,yIAAyI,CAAC,CAAC;YACxJ,MAAM;UACR,KAAK,OAAO,EAAE;YACZ,MAAM,IAAI,GAAG,SAAS,CAAC,SAAS,CAAC;YACjC,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE;cAChC,OAAO,CAAC,IAAI,CAAC,0JAA0J,GAAG,IAAI,CAAC,CAAC;cAChL,MAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;cAC/C,OAAO,CAAC,SAAS,GAAG,SAAS,CAAC,SAAS,CAAC;cACxC,SAAS,CAAC,UAAU,CAAC,YAAY,CAAC,OAAO,EAAE,SAAS,CAAC,CAAC;cACtD,SAAS,CAAC,UAAU,CAAC,WAAW,CAAC,SAAS,CAAC,CAAC;aAC7C;WACF,CAAC,MAAM;WACP;SACF;OACF;KACF,CAAC,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,SAAS,EAAE,IAAI,CAAC,CAAC,CAAC;GACrC;;EAED,iBAAiB,GAAG;IAClB,KAAK,MAAM,CAAC,YAAY,EAAE,QAAQ,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,UAAU,CAAC,SAAS,CAAC,EAAE;MAC3E,IAAI,OAAO,QAAQ,KAAK,UAAU,EAAE;QAClC,QAAQ,CAAC,gBAAgB,CAAC,YAAY,EAAE,QAAQ,CAAC,CAAC;OACnD,MAAM;QACL,OAAO,CAAC,KAAK,CAAC,4CAA4C,CAAC,CAAC;OAC7D;KACF;GACF;;CAEF;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpCD,CAAC,SAAS,OAAO,EAAE;;IAEf,SAAS,YAAY,GAAG;;QAEpB,IAAI,CAAC,MAAM,GAAG,CAAC,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,KAAK,CAAC,CAAC;QACnG,IAAI,CAAC,MAAM,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;QACpC,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC;QACb,IAAI,CAAC,KAAK,GAAG,EAAE,CAAC;QAChB,IAAI,CAAC,OAAO,GAAG,IAAI,KAAK,EAAE,CAAC;;QAE3B,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;;QAEvB,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC,EAAE;YACxB,IAAI,CAAC,KAAK,GAAG,CAAC,CAAC;SAClB,CAAC;;QAEF,IAAI,CAAC,UAAU,GAAG,WAAW;YACzB,OAAO,IAAI,CAAC,OAAO,CAAC;SACvB,CAAC;;QAEF,IAAI,CAAC,YAAY,GAAG,SAAS,CAAC,EAAE;YAC5B,QAAQ,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,IAAI,IAAI,CAAC,IAAI,IAAI,EAAE;SAC5D,CAAC;;QAEF,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC,EAAE,aAAa,EAAE;YACpC,IAAI,aAAa,IAAI,SAAS,IAAI,aAAa,IAAI,IAAI;gBACnD,EAAA,aAAa,GAAG,IAAI,CAAC,EAAA;YACzB,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;YACnC,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE;gBAC1D,IAAI,CAAC,GAAG,IAAI,CAAC,CAAC,MAAM,CAAC;aACxB,MAAM;gBACH,MAAM,2BAA2B,GAAG,CAAC,GAAG,UAAU;0BACxC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aAC5C,AAAC;YACF,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;SACtC,CAAC;;QAEF,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC,EAAE,aAAa,EAAE;YACvC,IAAI,aAAa,IAAI,SAAS,IAAI,aAAa,IAAI,IAAI;gBACnD,EAAA,aAAa,GAAG,IAAI,CAAC,EAAA;YACzB,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;YACnC,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,EAAE,IAAI,CAAC,GAAG,GAAG,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,EAAE;gBAC1D,OAAO,IAAI,CAAC;aACf,MAAM;gBACH,OAAO,KAAK,CAAC;aAChB,AAAC;YACF,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;SACtC,CAAC;;;QAGF,IAAI,CAAC,OAAO,GAAG,WAAW;YACtB,OAAO,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,GAAG,EAAE;gBAChE,IAAI,CAAC,GAAG,EAAE,CAAC;aACd,AAAC;;YAEF,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,GAAG,EAAE;gBAC7B,OAAO,IAAI,CAAC;aACf,AAAC;YACF,OAAO,KAAK,CAAC;SAChB,CAAC;;QAEF,IAAI,CAAC,cAAc,GAAG,SAAS,aAAa,EAAE;YAC1C,OAAO,IAAI,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,EAAE;gBAC5C,IAAI,CAAC,GAAG,EAAE,CAAC;aACd,AAAC;YACF,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,GAAG,IAAI,aAAa,IAAI,IAAI,EAAE;gBACtD,OAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,IAAI,EAAE;oBACjC,IAAI,CAAC,GAAG,EAAE,CAAC;iBACd,AAAC;gBACF,IAAI,CAAC,cAAc,CAAC,aAAa,CAAC,CAAC;aACtC,AAAC;SACL,CAAC;;QAEF,IAAI,CAAC,YAAY,GAAG,WAAW;YAC3B,IAAI,UAAU,GAAG,CAAC,CAAC;YACnB,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;YACvB,IAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC;YACrB,IAAI,OAAO,GAAG,KAAK,CAAC;YACpB,OAAO,IAAI,EAAE;gBACT,IAAI,CAAC,OAAO,EAAE;oBACV,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,GAAG,EAAE;wBAC7B,IAAI,UAAU,GAAG,CAAC,EAAE;4BAChB,UAAU,EAAE,CAAC;yBAChB,MAAM;4BACH,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;4BACnB,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;4BACvB,OAAO,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;yBAC3C,AAAC;qBACL,MAAM,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,GAAG,EAAE;wBACpC,UAAU,EAAE,CAAC;qBAChB,MAAM,IAAI,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;wBAC1C,MAAM,oBAAoB,CAAC;qBAC9B,AAAC;iBACL,AAAC;gBACF,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,IAAI,IAAI,OAAO,IAAI,KAAK;oBAChD,EAAA,OAAO,GAAG,IAAI,CAAC,EAAA;;oBAEf,EAAA,OAAO,GAAG,KAAK,CAAC,EAAA;gBACpB,IAAI,CAAC,GAAG,EAAE,CAAC;aACd,AAAC;SACL,CAAC;;QAEF,IAAI,CAAC,aAAa,GAAG,WAAW;YAC5B,IAAI,GAAG,GAAG,EAAE,CAAC;YACb,IAAI,QAAQ,GAAG,CAAC,CAAC;YACjB,OAAO,EAAE,IAAI,CAAC,QAAQ,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,QAAQ,IAAI,CAAC,CAAC,EAAE;gBAClD,GAAG,GAAG,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;gBACjC,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,GAAG;oBAC3B,EAAA,QAAQ,EAAE,CAAC,EAAA;gBACf,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,GAAG;oBAC3B,EAAA,QAAQ,EAAE,CAAC,EAAA;gBACf,IAAI,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;oBACnC,MAAM,qBAAqB,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;iBAC7D,AAAC;gBACF,IAAI,CAAC,GAAG,EAAE,CAAC;aACd,AAAC;YACF,OAAO,GAAG,CAAC;SACd,CAAC;;QAEF,IAAI,CAAC,YAAY,GAAG,WAAW;YAC3B,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;YACvB,IAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC;YACrB,IAAI,OAAO,GAAG,KAAK,CAAC;YACpB,OAAO,IAAI,EAAE;gBACT,IAAI,CAAC,OAAO,EAAE;oBACV,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,GAAG,EAAE;wBAC7B,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,CAAC;wBACnB,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,KAAK,CAAC,CAAC;wBACvB,OAAO,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;qBAC3C,MAAM,IAAI,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;wBAC1C,MAAM,qBAAqB,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;qBAC7D,AAAC;iBACL;gBACD,IAAI,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,IAAI,IAAI,OAAO,IAAI,KAAK;oBAChD,EAAA,OAAO,GAAG,IAAI,CAAC,EAAA;;oBAEf,EAAA,OAAO,GAAG,KAAK,CAAC,EAAA;gBACpB,IAAI,CAAC,GAAG,EAAE,CAAC;aACd,AAAC;SACL,CAAC;;QAEF,IAAI,CAAC,YAAY,GAAG,WAAW;YAC3B,IAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC;YACrB,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;gBACpB,OAAO,IAAI,CAAC,YAAY,EAAE,CAAC;aAC9B,MAAM,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;gBAC3B,OAAO,IAAI,CAAC,YAAY,EAAE,CAAC;aAC9B,MAAM;gBACH,IAAI,CAAC,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;gBACnB,IAAI,CAAC,CAAC,KAAK,CAAC,UAAU,CAAC;oBACnB,EAAA,OAAO,CAAC,CAAC,EAAA;qBACR,IAAI,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC,IAAI,CAAC;oBAC9C,EAAA,OAAO,CAAC,CAAC,WAAW,EAAE,CAAC,EAAA;;oBAEvB,EAAA,MAAM,iBAAiB,GAAG,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,GAAG,YAAY,GAAG,CAAC,CAAC,EAAA;;aAEhF,AAAC;SACL,CAAC;;QAEF,IAAI,CAAC,KAAK,GAAG,WAAW;YACpB,IAAI,MAAM,GAAG,EAAE,CAAC;YAChB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC;YACjC,OAAO,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;gBACvB,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBAChB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE,CAAC,CAAC;aACpC,AAAC;YACF,OAAO,MAAM,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;SAC1B,CAAC;;QAEF,IAAI,CAAC,GAAG,GAAG,WAAW;YAClB,IAAI,KAAK,GAAG,IAAI,CAAC,GAAG,CAAC;YACrB,OAAO,IAAI,EAAE;gBACT,IAAI,IAAI,CAAC,GAAG,IAAI,IAAI,CAAC,KAAK,CAAC,MAAM,EAAE;oBAC/B,MAAM,aAAa,CAAC;iBACvB,AAAC;;;gBAGF,IAAI,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAE;oBAChD,OAAO,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,KAAK,EAAE,IAAI,CAAC,GAAG,CAAC,CAAC;iBAChD,MAAM;oBACH,IAAI,CAAC,GAAG,EAAE,CAAC;;iBAEd,AAAC;aACL,AAAC;SACL,CAAC;;QAEF,IAAI,CAAC,gBAAgB,GAAG,WAAW;YAC/B,IAAI,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;YACrB,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;gBACpB,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBAChB,IAAI,GAAG,GAAG,IAAI,CAAC,KAAK,EAAE,CAAC;gBACvB,OAAO,EAAE,GAAG,EAAE,GAAG,EAAE,CAAC;aACvB,MAAM;gBACH,MAAM,4CAA4C;0BACxC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;aAC5C,AAAC;SACL,CAAC;;QAEF,IAAI,CAAC,cAAc,GAAG,WAAW;YAC7B,IAAI,EAAE,GAAG,IAAI,CAAC,gBAAgB,EAAE,CAAC;YACjC,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,GAAG,EAAE,CAAC;YACpC,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;YAC9C,OAAO,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;gBACvB,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;;gBAEhB,IAAI,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE;oBACpB,MAAM;iBACT;gBACD,AAAC;gBACD,EAAE,GAAG,IAAI,CAAC,gBAAgB,EAAE,CAAC;gBAC7B,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC,CAAC;aACjD,AAAC;SACL,CAAC;;QAEF,IAAI,CAAC,UAAU,GAAG,SAAS,CAAC,EAAE;YAC1B,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;YACvB,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;YAC9C,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,CAAC;YAChD,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAChB,IAAI,CAAC,cAAc,EAAE,CAAC;YACtB,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;SACxC,CAAC;;QAEF,IAAI,CAAC,SAAS,GAAG,WAAW;YACxB,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;YAChB,OAAO,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,CAAC;SAC3B,CAAC;;QAEF,IAAI,CAAC,QAAQ,GAAG,WAAW;YACvB,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;YACvB,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,GAAG,UAAU,CAAC;YAC5C,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;YAClD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;SACxC,CAAC;;QAEF,IAAI,CAAC,OAAO,GAAG,WAAW;YACtB,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;YACvB,IAAI,CAAC,YAAY,CAAC,WAAW,CAAC,GAAG,SAAS,CAAC;YAC3C,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,GAAG,IAAI,CAAC,aAAa,EAAE,CAAC;YAClD,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;SACxC,CAAC;;QAEF,IAAI,CAAC,KAAK,GAAG,SAAS,CAAC,EAAE;YACrB,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;SACtB,CAAC;;QAEF,IAAI,CAAC,MAAM,GAAG,WAAW;YACrB,OAAO,IAAI,CAAC,OAAO,EAAE,EAAE;gBACnB,IAAI,CAAC,GAAG,IAAI,CAAC,SAAS,EAAE,CAAC;gBACzB,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;gBAChB,IAAI,CAAC,IAAI,SAAS,EAAE;oBAChB,IAAI,CAAC,MAAM,EAAE,CAAC;iBACjB,MAAM,IAAI,CAAC,IAAI,WAAW,EAAE;oBACzB,IAAI,CAAC,QAAQ,EAAE,CAAC;iBACnB,MAAM,IAAI,CAAC,IAAI,UAAU,EAAE;oBACxB,IAAI,CAAC,OAAO,EAAE,CAAC;iBAClB,MAAM;oBACH,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC;iBACjB;gBACD,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC;aACnB,AAAC;SACL,CAAC;KACL,AAAC;;IAEF,OAAO,CAAC,MAAM,GAAG,SAAS,MAAM,EAAE;QAC9B,IAAI,CAAC,GAAG,IAAI,YAAY,EAAE,CAAC;QAC3B,CAAC,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACnB,CAAC,CAAC,MAAM,EAAE,CAAC;QACX,OAAO,CAAC,CAAC,OAAO,CAAC;KACpB,CAAC;;;IAGF,OAAO,CAAC,QAAQ,GAAG,SAAS,IAAI,EAAE;QAC9B,IAAI,GAAG,GAAG,EAAE,CAAC;QACb,MAAM,IAAI,CAAC,IAAI,IAAI,EAAE;YACjB,GAAG,IAAI,GAAG,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC;YAC/B,GAAG,IAAI,GAAG,CAAC;YACX,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,WAAW;gBACnB,EAAA,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,WAAW,GAAG,IAAI,CAAC,EAAA;YACtC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK;gBACb,EAAA,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,EAAE,EAAA;YAC1B,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE;gBACnB,IAAI,IAAI,GAAG,EAAE,CAAC;gBACd,KAAK,IAAI,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,EAAE;oBAC/B,IAAI,IAAI,CAAC,MAAM,IAAI,CAAC;wBAChB,EAAA,IAAI,IAAI,IAAI,CAAC,EAAA;oBACjB,IAAI,IAAI,GAAG,GAAG,KAAK,GAAG,IAAI,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;iBACtD;gBACD,GAAG,IAAI,IAAI,CAAC;aACf;YACD,GAAG,IAAI,OAAO,CAAC;SAClB;QACD,OAAO,GAAG,CAAC;;KAEd,CAAC;;CAEL,EAAE,AAA4D,OAAO,CAAC,CAAC;;;;;AC7TxE,SAAS,YAAY,CAAC,MAAM,EAAE;EAC5B,OAAO,MAAM;KACV,OAAO,CAAC,WAAW,EAAE,GAAG,CAAC;KACzB,OAAO,CAAC,mCAAmC,EAAE,CAAC,IAAI,EAAE,CAAC,EAAE,IAAI,KAAK,IAAI,CAAC;KACrE,OAAO,CAAC,iBAAiB,EAAE,CAAC,IAAI,EAAE,IAAI,KAAK,IAAI,CAAC,CAAC;CACrD;;AAED,AAAO,SAAS,WAAW,CAAC,MAAM,EAAE;EAClC,MAAM,YAAY,GAAG,IAAI,GAAG,EAAE,CAAC;EAC/B,MAAM,aAAa,GAAG,WAAW,CAAC,MAAM,CAAC,MAAM,CAAC,CAAC;EACjD,KAAK,MAAM,KAAK,IAAI,aAAa,EAAE;;IAEjC,KAAK,MAAM,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,SAAS,CAAC,EAAE;MAC1D,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,GAAG,YAAY,CAAC,KAAK,CAAC,CAAC;KAC5C;IACD,KAAK,CAAC,SAAS,CAAC,IAAI,GAAG,KAAK,CAAC,SAAS,CAAC;;IAEvC,YAAY,CAAC,GAAG,CAAC,KAAK,CAAC,WAAW,EAAE,KAAK,CAAC,SAAS,CAAC,CAAC;GACtD;EACD,OAAO,YAAY,CAAC;CACrB;;AAED,AAAO,SAAS,4BAA4B,CAAC,WAAW,EAAE;EACxD,OAAO,CAAC,SAAS,EAAE,WAAW,CAAC,IAAI,CAAC;YAC1B,EAAE,WAAW,CAAC,aAAa,CAAC;WAC7B,EAAE,WAAW,CAAC,KAAK,CAAC;aAClB,EAAE,WAAW,CAAC,OAAO,CAAC,KAAK,CAAC;UAC/B,EAAE,WAAW,CAAC,aAAa,CAAC;UAC5B,EAAE,WAAW,CAAC,GAAG,CAAC;CAC3B,CAAC,CAAC;CACF;;ACvBM,MAAM,YAAY,SAAS,WAAW,CAAC;;EAE5C,WAAW,EAAE,GAAG,EAAE,OAAO,gBAAgB,CAAC,EAAE;;EAE5C,WAAW,GAAG;IACZ,KAAK,EAAE,CAAC;;;IAGR,MAAM,OAAO,GAAG,CAAC,SAAS,EAAE,IAAI,EAAE,aAAa,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;IACtE,MAAM,QAAQ,GAAG,IAAI,gBAAgB,EAAE,CAAC,OAAO,KAAK;MAClD,KAAK,MAAM,KAAK,IAAI,OAAO,EAAE;QAC3B,IAAI,KAAK,CAAC,MAAM,CAAC,QAAQ,KAAK,QAAQ,IAAI,KAAK,CAAC,IAAI,KAAK,eAAe,EAAE;UACxE,IAAI,CAAC,eAAe,EAAE,CAAC;SACxB;OACF;KACF,CAAC,CAAC;IACH,QAAQ,CAAC,OAAO,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;GACjC;;EAED,eAAe,GAAG;IAChB,MAAM,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;IAC/C,IAAI,CAAC,SAAS,EAAE,EAAA,OAAO,EAAA;IACvB,IAAI,SAAS,CAAC,IAAI,IAAI,aAAa,EAAE;MACnC,MAAM,SAAS,GAAG,SAAS,CAAC,WAAW,CAAC;MACxC,IAAI,IAAI,CAAC,MAAM,KAAK,SAAS,EAAE;QAC7B,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC;QACxB,MAAM,YAAY,GAAG,WAAW,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;QAC9C,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;OAC3B;KACF,MAAM,IAAI,SAAS,CAAC,IAAI,IAAI,WAAW,EAAE;MACxC,MAAM,YAAY,GAAG,IAAI,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,WAAW,CAAC,CAAC,CAAC;MAChE,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;KAC3B,MAAM;MACL,OAAO,CAAC,IAAI,CAAC,4CAA4C,GAAG,SAAS,CAAC,IAAI,CAAC,CAAC;KAC7E;GACF;;EAED,MAAM,CAAC,YAAY,EAAE;IACnB,MAAM,OAAO,GAAG,EAAE,MAAM,EAAE,YAAY,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;IACxD,MAAM,KAAK,GAAG,IAAI,WAAW,CAAC,uBAAuB,EAAE,OAAO,CAAC,CAAC;IAChE,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;GAC3B;;;;EAID,WAAW,kBAAkB,GAAG;IAC9B,OAAO,CAAC,KAAK,CAAC,CAAC;GAChB;;EAED,cAAc,CAAC,KAAK,EAAE;IACpB,MAAM,YAAY,GAAG,WAAW,CAAC,KAAK,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC;IACxD,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,CAAC;GAC3B;;EAED,wBAAwB,CAAC,IAAI,EAAE,QAAQ,EAAE,QAAQ,EAAE;IACjD,IAAI,IAAI,GAAG,IAAI,cAAc,EAAE,CAAC;IAChC,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,KAAK,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC;IAC5C,IAAI,CAAC,OAAO,GAAG,MAAM,OAAO,CAAC,IAAI,CAAC,CAAC,8BAA8B,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC;IAChF,IAAI,CAAC,YAAY,GAAG,MAAM,CAAC;IAC3B,IAAI,CAAC,IAAI,CAAC,KAAK,EAAE,QAAQ,EAAE,IAAI,CAAC,CAAC;IACjC,IAAI,CAAC,IAAI,EAAE,CAAC;GACb;;;CAGF;;ACtED,MAAMA,GAAC,GAAG,QAAQ,CAAC,iBAAiB,EAAE,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCvC,CAAC,CAAC,CAAC;;AAEH,AAAO,SAAS,kBAAkB,CAAC,OAAO,EAAE,OAAO,EAAE;EACnD,IAAI,OAAO,CAAC,IAAI,GAAG,CAAC,EAAE;IACpB,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,SAAS,CAAC;IACvC,MAAM,IAAI,GAAG,OAAO,CAAC,aAAa,CAAC,kBAAkB,CAAC,CAAC;IACvD,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;;IAEpB,KAAK,MAAM,CAAC,GAAG,EAAE,KAAK,CAAC,IAAI,OAAO,EAAE;MAClC,MAAM,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;MAC9C,QAAQ,CAAC,EAAE,GAAG,GAAG,CAAC;MAClB,QAAQ,CAAC,SAAS,GAAG,iBAAiB,CAAC,KAAK,CAAC,CAAC;MAC9C,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;KAC5B;GACF,MAAM;IACL,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;GACrC;CACF;;AAED,AAAO,MAAM,YAAY,SAASA,GAAC,CAAC,WAAW,CAAC,CAAC;;EAE/C,iBAAiB,GAAG;IAClB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;GACvC;;EAED,IAAI,SAAS,CAAC,SAAS,EAAE;IACvB,kBAAkB,CAAC,IAAI,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC;GAC1C;;CAEF;;;;;;;AC9DD,IAAI,KAAK,GAAG,CAAC,OAAO,MAAM,KAAK,WAAW;GACvC,MAAM;;EAEP,CAAC,OAAO,iBAAiB,KAAK,WAAW,IAAI,IAAI,YAAY,iBAAiB;IAC5E,IAAI;IACJ,EAAE;EACJ,CAAC;;;;;;;;AAQH,IAAI,KAAK,GAAG,CAAC,UAAU;;;AAGvB,IAAI,IAAI,GAAG,0BAA0B,CAAC;AACtC,IAAI,QAAQ,GAAG,CAAC,CAAC;;AAEjB,IAAI,CAAC,GAAG,KAAK,CAAC,KAAK,GAAG;CACrB,IAAI,EAAE;EACL,MAAM,EAAE,UAAU,MAAM,EAAE;GACzB,IAAI,MAAM,YAAY,KAAK,EAAE;IAC5B,OAAO,IAAI,KAAK,CAAC,MAAM,CAAC,IAAI,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,MAAM,CAAC,KAAK,CAAC,CAAC;IAC3E,MAAM,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,KAAK,OAAO,EAAE;IAC3C,OAAO,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACjC,MAAM;IACN,OAAO,MAAM,CAAC,OAAO,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC,OAAO,CAAC,IAAI,EAAE,MAAM,CAAC,CAAC,OAAO,CAAC,SAAS,EAAE,GAAG,CAAC,CAAC;IACnF;GACD;;EAED,IAAI,EAAE,UAAU,CAAC,EAAE;GAClB,OAAO,MAAM,CAAC,SAAS,CAAC,QAAQ,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,kBAAkB,CAAC,CAAC,CAAC,CAAC,CAAC;GACtE;;EAED,KAAK,EAAE,UAAU,GAAG,EAAE;GACrB,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,EAAE;IACjB,MAAM,CAAC,cAAc,CAAC,GAAG,EAAE,MAAM,EAAE,EAAE,KAAK,EAAE,EAAE,QAAQ,EAAE,CAAC,CAAC;IAC1D;GACD,OAAO,GAAG,CAAC,MAAM,CAAC,CAAC;GACnB;;;EAGD,KAAK,EAAE,UAAU,CAAC,EAAE;GACnB,IAAI,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;;GAE1B,QAAQ,IAAI;IACX,KAAK,QAAQ;KACZ,IAAI,KAAK,GAAG,EAAE,CAAC;;KAEf,KAAK,IAAI,GAAG,IAAI,CAAC,EAAE;MAClB,IAAI,CAAC,CAAC,cAAc,CAAC,GAAG,CAAC,EAAE;OAC1B,KAAK,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;OAClC;MACD;;KAED,OAAO,KAAK,CAAC;;IAEd,KAAK,OAAO;;KAEX,OAAO,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC,GAAG,CAAC,SAAS,CAAC,EAAE,EAAE,OAAO,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC;IAChE;;GAED,OAAO,CAAC,CAAC;GACT;EACD;;CAED,SAAS,EAAE;EACV,MAAM,EAAE,UAAU,EAAE,EAAE,KAAK,EAAE;GAC5B,IAAI,IAAI,GAAG,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC;;GAEzC,KAAK,IAAI,GAAG,IAAI,KAAK,EAAE;IACtB,IAAI,CAAC,GAAG,CAAC,GAAG,KAAK,CAAC,GAAG,CAAC,CAAC;IACvB;;GAED,OAAO,IAAI,CAAC;GACZ;;;;;;;;;;;EAWD,YAAY,EAAE,UAAU,MAAM,EAAE,MAAM,EAAE,MAAM,EAAE,IAAI,EAAE;GACrD,IAAI,GAAG,IAAI,IAAI,CAAC,CAAC,SAAS,CAAC;GAC3B,IAAI,OAAO,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC;;GAE3B,IAAI,SAAS,CAAC,MAAM,IAAI,CAAC,EAAE;IAC1B,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC;;IAEtB,KAAK,IAAI,QAAQ,IAAI,MAAM,EAAE;KAC5B,IAAI,MAAM,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAE;MACpC,OAAO,CAAC,QAAQ,CAAC,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC;MACrC;KACD;;IAED,OAAO,OAAO,CAAC;IACf;;GAED,IAAI,GAAG,GAAG,EAAE,CAAC;;GAEb,KAAK,IAAI,KAAK,IAAI,OAAO,EAAE;;IAE1B,IAAI,OAAO,CAAC,cAAc,CAAC,KAAK,CAAC,EAAE;;KAElC,IAAI,KAAK,IAAI,MAAM,EAAE;;MAEpB,KAAK,IAAI,QAAQ,IAAI,MAAM,EAAE;;OAE5B,IAAI,MAAM,CAAC,cAAc,CAAC,QAAQ,CAAC,EAAE;QACpC,GAAG,CAAC,QAAQ,CAAC,GAAG,MAAM,CAAC,QAAQ,CAAC,CAAC;QACjC;OACD;MACD;;KAED,GAAG,CAAC,KAAK,CAAC,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC;KAC5B;IACD;;;GAGD,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,SAAS,EAAE,SAAS,GAAG,EAAE,KAAK,EAAE;IACjD,IAAI,KAAK,KAAK,IAAI,CAAC,MAAM,CAAC,IAAI,GAAG,IAAI,MAAM,EAAE;KAC5C,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,CAAC;KAChB;IACD,CAAC,CAAC;;GAEH,OAAO,IAAI,CAAC,MAAM,CAAC,GAAG,GAAG,CAAC;GAC1B;;;EAGD,GAAG,EAAE,SAAS,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,EAAE;GACzC,OAAO,GAAG,OAAO,IAAI,EAAE,CAAC;GACxB,KAAK,IAAI,CAAC,IAAI,CAAC,EAAE;IAChB,IAAI,CAAC,CAAC,cAAc,CAAC,CAAC,CAAC,EAAE;KACxB,QAAQ,CAAC,IAAI,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,IAAI,IAAI,CAAC,CAAC,CAAC;;KAErC,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,QAAQ,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACnE,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;MACnC,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,OAAO,CAAC,CAAC;MAC/C;UACI,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,OAAO,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACvE,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,GAAG,IAAI,CAAC;MACnC,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,QAAQ,EAAE,CAAC,EAAE,OAAO,CAAC,CAAC;MAC5C;KACD;IACD;GACD;EACD;CACD,OAAO,EAAE,EAAE;;CAEX,YAAY,EAAE,SAAS,KAAK,EAAE,QAAQ,EAAE;EACvC,IAAI,GAAG,GAAG;GACT,QAAQ,EAAE,QAAQ;GAClB,QAAQ,EAAE,kGAAkG;GAC5G,CAAC;;EAEF,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,qBAAqB,EAAE,GAAG,CAAC,CAAC;;EAExC,IAAI,QAAQ,GAAG,GAAG,CAAC,QAAQ,IAAI,QAAQ,CAAC,gBAAgB,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC;;EAEvE,KAAK,IAAI,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,OAAO,GAAG,QAAQ,CAAC,CAAC,EAAE,CAAC,GAAG;GAChD,CAAC,CAAC,gBAAgB,CAAC,OAAO,EAAE,KAAK,KAAK,IAAI,EAAE,GAAG,CAAC,QAAQ,CAAC,CAAC;GAC1D;EACD;;CAED,gBAAgB,EAAE,SAAS,OAAO,EAAE,KAAK,EAAE,QAAQ,EAAE;;EAEpD,IAAI,QAAQ,EAAE,OAAO,EAAE,MAAM,GAAG,OAAO,CAAC;;EAExC,OAAO,MAAM,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,EAAE;GAC9C,MAAM,GAAG,MAAM,CAAC,UAAU,CAAC;GAC3B;;EAED,IAAI,MAAM,EAAE;GACX,QAAQ,GAAG,CAAC,MAAM,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,WAAW,EAAE,CAAC;GACpE,OAAO,GAAG,CAAC,CAAC,SAAS,CAAC,QAAQ,CAAC,CAAC;GAChC;;;EAGD,OAAO,CAAC,SAAS,GAAG,OAAO,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,YAAY,GAAG,QAAQ,CAAC;;;EAGvG,MAAM,GAAG,OAAO,CAAC,UAAU,CAAC;;EAE5B,IAAI,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,EAAE;GACjC,MAAM,CAAC,SAAS,GAAG,MAAM,CAAC,SAAS,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC,OAAO,CAAC,MAAM,EAAE,GAAG,CAAC,GAAG,YAAY,GAAG,QAAQ,CAAC;GACrG;;EAED,IAAI,IAAI,GAAG,OAAO,CAAC,WAAW,CAAC;;EAE/B,IAAI,GAAG,GAAG;GACT,OAAO,EAAE,OAAO;GAChB,QAAQ,EAAE,QAAQ;GAClB,OAAO,EAAE,OAAO;GAChB,IAAI,EAAE,IAAI;GACV,CAAC;;EAEF,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,qBAAqB,EAAE,GAAG,CAAC,CAAC;;EAExC,IAAI,CAAC,GAAG,CAAC,IAAI,IAAI,CAAC,GAAG,CAAC,OAAO,EAAE;GAC9B,IAAI,GAAG,CAAC,IAAI,EAAE;IACb,GAAG,CAAC,OAAO,CAAC,WAAW,GAAG,GAAG,CAAC,IAAI,CAAC;IACnC;GACD,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC;GAC7B,OAAO;GACP;;EAED,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,kBAAkB,EAAE,GAAG,CAAC,CAAC;;EAErC,IAAI,KAAK,IAAI,KAAK,CAAC,MAAM,EAAE;GAC1B,IAAI,MAAM,GAAG,IAAI,MAAM,CAAC,CAAC,CAAC,QAAQ,CAAC,CAAC;;GAEpC,MAAM,CAAC,SAAS,GAAG,SAAS,GAAG,EAAE;IAChC,GAAG,CAAC,eAAe,GAAG,GAAG,CAAC,IAAI,CAAC;;IAE/B,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,eAAe,EAAE,GAAG,CAAC,CAAC;;IAElC,GAAG,CAAC,OAAO,CAAC,SAAS,GAAG,GAAG,CAAC,eAAe,CAAC;;IAE5C,QAAQ,IAAI,QAAQ,CAAC,IAAI,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;IACvC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,iBAAiB,EAAE,GAAG,CAAC,CAAC;IACpC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC;IAC7B,CAAC;;GAEF,MAAM,CAAC,WAAW,CAAC,IAAI,CAAC,SAAS,CAAC;IACjC,QAAQ,EAAE,GAAG,CAAC,QAAQ;IACtB,IAAI,EAAE,GAAG,CAAC,IAAI;IACd,cAAc,EAAE,IAAI;IACpB,CAAC,CAAC,CAAC;GACJ;OACI;GACJ,GAAG,CAAC,eAAe,GAAG,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,OAAO,EAAE,GAAG,CAAC,QAAQ,CAAC,CAAC;;GAEvE,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,eAAe,EAAE,GAAG,CAAC,CAAC;;GAElC,GAAG,CAAC,OAAO,CAAC,SAAS,GAAG,GAAG,CAAC,eAAe,CAAC;;GAE5C,QAAQ,IAAI,QAAQ,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;;GAEnC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,iBAAiB,EAAE,GAAG,CAAC,CAAC;GACpC,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,UAAU,EAAE,GAAG,CAAC,CAAC;GAC7B;EACD;;CAED,SAAS,EAAE,UAAU,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE;EAC7C,IAAI,MAAM,GAAG,CAAC,CAAC,QAAQ,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;EACvC,OAAO,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,MAAM,CAAC,EAAE,QAAQ,CAAC,CAAC;EACxD;;CAED,QAAQ,EAAE,SAAS,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE;EAC3C,IAAI,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC;;EAEpB,IAAI,MAAM,GAAG,CAAC,IAAI,CAAC,CAAC;;EAEpB,IAAI,IAAI,GAAG,OAAO,CAAC,IAAI,CAAC;;EAExB,IAAI,IAAI,EAAE;GACT,KAAK,IAAI,KAAK,IAAI,IAAI,EAAE;IACvB,OAAO,CAAC,KAAK,CAAC,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC;IAC7B;;GAED,OAAO,OAAO,CAAC,IAAI,CAAC;GACpB;;EAED,SAAS,EAAE,KAAK,IAAI,KAAK,IAAI,OAAO,EAAE;GACrC,GAAG,CAAC,OAAO,CAAC,cAAc,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,KAAK,CAAC,EAAE;IACrD,SAAS;IACT;;GAED,IAAI,QAAQ,GAAG,OAAO,CAAC,KAAK,CAAC,CAAC;GAC9B,QAAQ,GAAG,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,OAAO,IAAI,QAAQ,GAAG,CAAC,QAAQ,CAAC,CAAC;;GAEvE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;IACzC,IAAI,OAAO,GAAG,QAAQ,CAAC,CAAC,CAAC;KACxB,MAAM,GAAG,OAAO,CAAC,MAAM;KACvB,UAAU,GAAG,CAAC,CAAC,OAAO,CAAC,UAAU;KACjC,MAAM,GAAG,CAAC,CAAC,OAAO,CAAC,MAAM;KACzB,gBAAgB,GAAG,CAAC;KACpB,KAAK,GAAG,OAAO,CAAC,KAAK,CAAC;;IAEvB,IAAI,MAAM,IAAI,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE;;KAEtC,IAAI,KAAK,GAAG,OAAO,CAAC,OAAO,CAAC,QAAQ,EAAE,CAAC,KAAK,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC,CAAC;KAC5D,OAAO,CAAC,OAAO,GAAG,MAAM,CAAC,OAAO,CAAC,OAAO,CAAC,MAAM,EAAE,KAAK,GAAG,GAAG,CAAC,CAAC;KAC9D;;IAED,OAAO,GAAG,OAAO,CAAC,OAAO,IAAI,OAAO,CAAC;;;IAGrC,KAAK,IAAI,CAAC,CAAC,CAAC,EAAE,GAAG,GAAG,CAAC,EAAE,CAAC,CAAC,MAAM,CAAC,MAAM,EAAE,GAAG,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,EAAE,EAAE,CAAC,EAAE;;KAErE,IAAI,GAAG,GAAG,MAAM,CAAC,CAAC,CAAC,CAAC;;KAEpB,IAAI,MAAM,CAAC,MAAM,GAAG,IAAI,CAAC,MAAM,EAAE;;MAEhC,MAAM,SAAS,CAAC;MAChB;;KAED,IAAI,GAAG,YAAY,KAAK,EAAE;MACzB,SAAS;MACT;;KAED,OAAO,CAAC,SAAS,GAAG,CAAC,CAAC;;KAEtB,IAAI,KAAK,GAAG,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC;SACzB,MAAM,GAAG,CAAC,CAAC;;;KAGf,IAAI,CAAC,KAAK,IAAI,MAAM,IAAI,CAAC,IAAI,MAAM,CAAC,MAAM,GAAG,CAAC,EAAE;MAC/C,OAAO,CAAC,SAAS,GAAG,GAAG,CAAC;MACxB,KAAK,GAAG,OAAO,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;MAC3B,IAAI,CAAC,KAAK,EAAE;OACX,MAAM;OACN;;MAED,IAAI,IAAI,GAAG,KAAK,CAAC,KAAK,IAAI,UAAU,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,GAAG,CAAC,CAAC;UACvD,EAAE,GAAG,KAAK,CAAC,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM;UAClC,CAAC,GAAG,CAAC;UACL,CAAC,GAAG,GAAG,CAAC;;MAEZ,KAAK,IAAI,GAAG,GAAG,MAAM,CAAC,MAAM,EAAE,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,EAAE,EAAE,CAAC,EAAE;OACrD,CAAC,IAAI,MAAM,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;;OAEtB,IAAI,IAAI,IAAI,CAAC,EAAE;QACd,EAAE,CAAC,CAAC;QACJ,GAAG,GAAG,CAAC,CAAC;QACR;OACD;;;;;;MAMD,IAAI,MAAM,CAAC,CAAC,CAAC,YAAY,KAAK,IAAI,MAAM,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,MAAM,EAAE;OACvD,SAAS;OACT;;;MAGD,MAAM,GAAG,CAAC,GAAG,CAAC,CAAC;MACf,GAAG,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,EAAE,CAAC,CAAC,CAAC;MACzB,KAAK,CAAC,KAAK,IAAI,GAAG,CAAC;MACnB;;KAED,IAAI,CAAC,KAAK,EAAE;MACX,SAAS;MACT;;KAED,GAAG,UAAU,EAAE;MACd,gBAAgB,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;MACnC;;KAED,IAAI,IAAI,GAAG,KAAK,CAAC,KAAK,GAAG,gBAAgB;SACrC,KAAK,GAAG,KAAK,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,gBAAgB,CAAC;SACxC,EAAE,GAAG,IAAI,GAAG,KAAK,CAAC,MAAM;SACxB,MAAM,GAAG,GAAG,CAAC,KAAK,CAAC,CAAC,EAAE,IAAI,CAAC;SAC3B,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,CAAC;;KAE1B,IAAI,IAAI,GAAG,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC;;KAEvB,IAAI,MAAM,EAAE;MACX,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;MAClB;;KAED,IAAI,OAAO,GAAG,IAAI,KAAK,CAAC,KAAK,EAAE,MAAM,EAAE,CAAC,CAAC,QAAQ,CAAC,KAAK,EAAE,MAAM,CAAC,GAAG,KAAK,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,CAAC,CAAC;;KAEhG,IAAI,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;;KAEnB,IAAI,KAAK,EAAE;MACV,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;MACjB;;KAED,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,EAAE,IAAI,CAAC,CAAC;KAC3C;IACD;GACD;;EAED,OAAO,MAAM,CAAC;EACd;;CAED,KAAK,EAAE;EACN,GAAG,EAAE,EAAE;;EAEP,GAAG,EAAE,UAAU,IAAI,EAAE,QAAQ,EAAE;GAC9B,IAAI,KAAK,GAAG,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC;;GAExB,KAAK,CAAC,IAAI,CAAC,GAAG,KAAK,CAAC,IAAI,CAAC,IAAI,EAAE,CAAC;;GAEhC,KAAK,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;GAC3B;;EAED,GAAG,EAAE,UAAU,IAAI,EAAE,GAAG,EAAE;GACzB,IAAI,SAAS,GAAG,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;;GAElC,IAAI,CAAC,SAAS,IAAI,CAAC,SAAS,CAAC,MAAM,EAAE;IACpC,OAAO;IACP;;GAED,KAAK,IAAI,CAAC,CAAC,CAAC,EAAE,QAAQ,EAAE,QAAQ,GAAG,SAAS,CAAC,CAAC,EAAE,CAAC,GAAG;IACnD,QAAQ,CAAC,GAAG,CAAC,CAAC;IACd;GACD;EACD;CACD,CAAC;;AAEF,IAAI,KAAK,GAAG,CAAC,CAAC,KAAK,GAAG,SAAS,IAAI,EAAE,OAAO,EAAE,KAAK,EAAE,UAAU,EAAE,MAAM,EAAE;CACxE,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;CACjB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;CACvB,IAAI,CAAC,KAAK,GAAG,KAAK,CAAC;;CAEnB,IAAI,CAAC,MAAM,GAAG,CAAC,UAAU,IAAI,EAAE,EAAE,MAAM,CAAC,CAAC,CAAC;CAC1C,IAAI,CAAC,MAAM,GAAG,CAAC,CAAC,MAAM,CAAC;CACvB,CAAC;;AAEF,KAAK,CAAC,SAAS,GAAG,SAAS,CAAC,EAAE,QAAQ,EAAE,MAAM,EAAE;CAC/C,IAAI,OAAO,CAAC,IAAI,QAAQ,EAAE;EACzB,OAAO,CAAC,CAAC;EACT;;CAED,IAAI,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,OAAO,EAAE;EAC/B,OAAO,CAAC,CAAC,GAAG,CAAC,SAAS,OAAO,EAAE;GAC9B,OAAO,KAAK,CAAC,SAAS,CAAC,OAAO,EAAE,QAAQ,EAAE,CAAC,CAAC,CAAC;GAC7C,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;EACZ;;CAED,IAAI,GAAG,GAAG;EACT,IAAI,EAAE,CAAC,CAAC,IAAI;EACZ,OAAO,EAAE,KAAK,CAAC,SAAS,CAAC,CAAC,CAAC,OAAO,EAAE,QAAQ,EAAE,MAAM,CAAC;EACrD,GAAG,EAAE,MAAM;EACX,OAAO,EAAE,CAAC,OAAO,EAAE,CAAC,CAAC,IAAI,CAAC;EAC1B,UAAU,EAAE,EAAE;EACd,QAAQ,EAAE,QAAQ;EAClB,MAAM,EAAE,MAAM;EACd,CAAC;;CAEF,IAAI,GAAG,CAAC,IAAI,IAAI,SAAS,EAAE;EAC1B,GAAG,CAAC,UAAU,CAAC,YAAY,CAAC,GAAG,MAAM,CAAC;EACtC;;CAED,IAAI,CAAC,CAAC,KAAK,EAAE;EACZ,IAAI,OAAO,GAAG,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,KAAK,CAAC,KAAK,OAAO,GAAG,CAAC,CAAC,KAAK,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;EACrE,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,OAAO,EAAE,OAAO,CAAC,CAAC;EACjD;;CAED,CAAC,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,EAAE,GAAG,CAAC,CAAC;;CAEzB,IAAI,UAAU,GAAG,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,GAAG,CAAC,SAAS,IAAI,EAAE;EAC/D,OAAO,IAAI,GAAG,IAAI,GAAG,CAAC,GAAG,CAAC,UAAU,CAAC,IAAI,CAAC,IAAI,EAAE,EAAE,OAAO,CAAC,IAAI,EAAE,QAAQ,CAAC,GAAG,GAAG,CAAC;EAChF,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;;CAEb,OAAO,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,UAAU,GAAG,GAAG,CAAC,OAAO,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,GAAG,IAAI,UAAU,GAAG,GAAG,GAAG,UAAU,GAAG,EAAE,CAAC,GAAG,GAAG,GAAG,GAAG,CAAC,OAAO,GAAG,IAAI,GAAG,GAAG,CAAC,GAAG,GAAG,GAAG,CAAC;;CAElJ,CAAC;;AAEF,IAAI,CAAC,KAAK,CAAC,QAAQ,EAAE;CACpB,IAAI,CAAC,KAAK,CAAC,gBAAgB,EAAE;;EAE5B,OAAO,KAAK,CAAC,KAAK,CAAC;EACnB;;CAED,KAAK,CAAC,gBAAgB,CAAC,SAAS,EAAE,SAAS,GAAG,EAAE;EAC/C,IAAI,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC;MAC9B,IAAI,GAAG,OAAO,CAAC,QAAQ;MACvB,IAAI,GAAG,OAAO,CAAC,IAAI;MACnB,cAAc,GAAG,OAAO,CAAC,cAAc,CAAC;;EAE5C,KAAK,CAAC,WAAW,CAAC,CAAC,CAAC,SAAS,CAAC,IAAI,EAAE,CAAC,CAAC,SAAS,CAAC,IAAI,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC;EAC9D,IAAI,cAAc,EAAE;GACnB,KAAK,CAAC,KAAK,EAAE,CAAC;GACd;EACD,EAAE,KAAK,CAAC,CAAC;;CAEV,OAAO,KAAK,CAAC,KAAK,CAAC;CACnB;;;AAGD,IAAI,MAAM,GAAG,QAAQ,CAAC,aAAa,IAAI,EAAE,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,oBAAoB,CAAC,QAAQ,CAAC,CAAC,CAAC,GAAG,EAAE,CAAC;;AAEpG,IAAI,MAAM,EAAE;CACX,CAAC,CAAC,QAAQ,GAAG,MAAM,CAAC,GAAG,CAAC;;CAExB,IAAI,QAAQ,CAAC,gBAAgB,IAAI,CAAC,MAAM,CAAC,YAAY,CAAC,aAAa,CAAC,EAAE;EACrE,GAAG,QAAQ,CAAC,UAAU,KAAK,SAAS,EAAE;GACrC,IAAI,MAAM,CAAC,qBAAqB,EAAE;IACjC,MAAM,CAAC,qBAAqB,CAAC,CAAC,CAAC,YAAY,CAAC,CAAC;IAC7C,MAAM;IACN,MAAM,CAAC,UAAU,CAAC,CAAC,CAAC,YAAY,EAAE,EAAE,CAAC,CAAC;IACtC;GACD;OACI;GACJ,QAAQ,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,CAAC,CAAC,YAAY,CAAC,CAAC;GAC9D;EACD;CACD;;AAED,OAAO,KAAK,CAAC,KAAK,CAAC;;CAElB,GAAG,CAAC;;AAEL,IAAI,QAAa,KAAK,WAAW,IAAI,MAAM,CAAC,OAAO,EAAE;CACpD,cAAc,GAAG,KAAK,CAAC;CACvB;;;AAGD,IAAI,OAAOG,cAAM,KAAK,WAAW,EAAE;CAClCA,cAAM,CAAC,KAAK,GAAG,KAAK,CAAC;CACrB;;;;;;;AAOD,KAAK,CAAC,SAAS,CAAC,MAAM,GAAG;CACxB,SAAS,EAAE,iBAAiB;CAC5B,QAAQ,EAAE,gBAAgB;CAC1B,SAAS,EAAE,qBAAqB;CAChC,OAAO,EAAE,yBAAyB;CAClC,KAAK,EAAE;EACN,OAAO,EAAE,uGAAuG;EAChH,MAAM,EAAE;GACP,KAAK,EAAE;IACN,OAAO,EAAE,iBAAiB;IAC1B,MAAM,EAAE;KACP,aAAa,EAAE,OAAO;KACtB,WAAW,EAAE,cAAc;KAC3B;IACD;GACD,YAAY,EAAE;IACb,OAAO,EAAE,iCAAiC;IAC1C,MAAM,EAAE;KACP,aAAa,EAAE,QAAQ;KACvB;IACD;GACD,aAAa,EAAE,MAAM;GACrB,WAAW,EAAE;IACZ,OAAO,EAAE,WAAW;IACpB,MAAM,EAAE;KACP,WAAW,EAAE,cAAc;KAC3B;IACD;;GAED;EACD;CACD,QAAQ,EAAE,mBAAmB;CAC7B,CAAC;;;AAGF,KAAK,CAAC,KAAK,CAAC,GAAG,CAAC,MAAM,EAAE,SAAS,GAAG,EAAE;;CAErC,IAAI,GAAG,CAAC,IAAI,KAAK,QAAQ,EAAE;EAC1B,GAAG,CAAC,UAAU,CAAC,OAAO,CAAC,GAAG,GAAG,CAAC,OAAO,CAAC,OAAO,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC;EAC5D;CACD,CAAC,CAAC;;AAEH,KAAK,CAAC,SAAS,CAAC,GAAG,GAAG,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC;AAC7C,KAAK,CAAC,SAAS,CAAC,IAAI,GAAG,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC;AAC9C,KAAK,CAAC,SAAS,CAAC,MAAM,GAAG,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC;AAChD,KAAK,CAAC,SAAS,CAAC,GAAG,GAAG,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC;;;;;;;AAO7C,KAAK,CAAC,SAAS,CAAC,GAAG,GAAG;CACrB,SAAS,EAAE,kBAAkB;CAC7B,QAAQ,EAAE;EACT,OAAO,EAAE,2BAA2B;EACpC,MAAM,EAAE;GACP,MAAM,EAAE,SAAS;;GAEjB;EACD;CACD,KAAK,EAAE,8DAA8D;CACrE,UAAU,EAAE,8BAA8B;CAC1C,QAAQ,EAAE;EACT,OAAO,EAAE,6CAA6C;EACtD,MAAM,EAAE,IAAI;EACZ;CACD,UAAU,EAAE,wBAAwB;CACpC,WAAW,EAAE,iBAAiB;CAC9B,UAAU,EAAE,mBAAmB;CAC/B,aAAa,EAAE,UAAU;CACzB,CAAC;;AAEF,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,QAAQ,CAAC,CAAC,MAAM,CAAC,IAAI,GAAG,KAAK,CAAC,IAAI,CAAC,KAAK,CAAC,KAAK,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;;AAElF,IAAI,KAAK,CAAC,SAAS,CAAC,MAAM,EAAE;CAC3B,KAAK,CAAC,SAAS,CAAC,YAAY,CAAC,QAAQ,EAAE,KAAK,EAAE;EAC7C,OAAO,EAAE;GACR,OAAO,EAAE,yCAAyC;GAClD,UAAU,EAAE,IAAI;GAChB,MAAM,EAAE,KAAK,CAAC,SAAS,CAAC,GAAG;GAC3B,KAAK,EAAE,cAAc;GACrB;EACD,CAAC,CAAC;;CAEH,KAAK,CAAC,SAAS,CAAC,YAAY,CAAC,QAAQ,EAAE,YAAY,EAAE;EACpD,YAAY,EAAE;GACb,OAAO,EAAE,sBAAsB;GAC/B,MAAM,EAAE;IACP,WAAW,EAAE;KACZ,OAAO,EAAE,YAAY;KACrB,MAAM,EAAE,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,MAAM;KACzC;IACD,aAAa,EAAE,uBAAuB;IACtC,YAAY,EAAE;KACb,OAAO,EAAE,KAAK;KACd,MAAM,EAAE,KAAK,CAAC,SAAS,CAAC,GAAG;KAC3B;IACD;GACD,KAAK,EAAE,cAAc;GACrB;EACD,EAAE,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC;CAC/B;;;;;;AAMD,KAAK,CAAC,SAAS,CAAC,KAAK,GAAG;CACvB,SAAS,EAAE;EACV;GACC,OAAO,EAAE,2BAA2B;GACpC,UAAU,EAAE,IAAI;GAChB;EACD;GACC,OAAO,EAAE,kBAAkB;GAC3B,UAAU,EAAE,IAAI;GAChB;EACD;CACD,QAAQ,EAAE;EACT,OAAO,EAAE,8CAA8C;EACvD,MAAM,EAAE,IAAI;EACZ;CACD,YAAY,EAAE;EACb,OAAO,EAAE,sGAAsG;EAC/G,UAAU,EAAE,IAAI;EAChB,MAAM,EAAE;GACP,WAAW,EAAE,SAAS;GACtB;EACD;CACD,SAAS,EAAE,0GAA0G;CACrH,SAAS,EAAE,kBAAkB;CAC7B,UAAU,EAAE,mBAAmB;CAC/B,QAAQ,EAAE,+CAA+C;CACzD,UAAU,EAAE,yDAAyD;CACrE,aAAa,EAAE,eAAe;CAC9B,CAAC;;;;;;;AAOF,KAAK,CAAC,SAAS,CAAC,UAAU,GAAG,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC,OAAO,EAAE;CAC5D,SAAS,EAAE,2TAA2T;CACtU,QAAQ,EAAE,8EAA8E;;CAExF,UAAU,EAAE,uDAAuD;CACnE,UAAU,EAAE,kEAAkE;CAC9E,CAAC,CAAC;;AAEH,KAAK,CAAC,SAAS,CAAC,YAAY,CAAC,YAAY,EAAE,SAAS,EAAE;CACrD,OAAO,EAAE;EACR,OAAO,EAAE,8EAA8E;EACvF,UAAU,EAAE,IAAI;EAChB,MAAM,EAAE,IAAI;EACZ;CACD,CAAC,CAAC;;AAEH,KAAK,CAAC,SAAS,CAAC,YAAY,CAAC,YAAY,EAAE,QAAQ,EAAE;CACpD,iBAAiB,EAAE;EAClB,OAAO,EAAE,uBAAuB;EAChC,MAAM,EAAE,IAAI;EACZ,MAAM,EAAE;GACP,eAAe,EAAE;IAChB,OAAO,EAAE,aAAa;IACtB,MAAM,EAAE;KACP,2BAA2B,EAAE;MAC5B,OAAO,EAAE,WAAW;MACpB,KAAK,EAAE,aAAa;MACpB;KACD,IAAI,EAAE,KAAK,CAAC,SAAS,CAAC,UAAU;KAChC;IACD;GACD,QAAQ,EAAE,SAAS;GACnB;EACD;CACD,CAAC,CAAC;;AAEH,IAAI,KAAK,CAAC,SAAS,CAAC,MAAM,EAAE;CAC3B,KAAK,CAAC,SAAS,CAAC,YAAY,CAAC,QAAQ,EAAE,KAAK,EAAE;EAC7C,QAAQ,EAAE;GACT,OAAO,EAAE,2CAA2C;GACpD,UAAU,EAAE,IAAI;GAChB,MAAM,EAAE,KAAK,CAAC,SAAS,CAAC,UAAU;GAClC,KAAK,EAAE,qBAAqB;GAC5B;EACD,CAAC,CAAC;CACH;;AAED,KAAK,CAAC,SAAS,CAAC,EAAE,GAAG,KAAK,CAAC,SAAS,CAAC,UAAU,CAAC;;;;;;AAMhD,CAAC,YAAY;CACZ,IAAI,OAAO,IAAI,KAAK,WAAW,IAAI,CAAC,IAAI,CAAC,KAAK,IAAI,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,QAAQ,CAAC,aAAa,EAAE;EAC5F,OAAO;EACP;;CAED,IAAI,CAAC,KAAK,CAAC,aAAa,GAAG,WAAW;;EAErC,IAAI,UAAU,GAAG;GAChB,IAAI,EAAE,YAAY;GAClB,IAAI,EAAE,QAAQ;GACd,IAAI,EAAE,MAAM;GACZ,KAAK,EAAE,YAAY;GACnB,MAAM,EAAE,YAAY;GACpB,IAAI,EAAE,MAAM;GACZ,KAAK,EAAE,OAAO;GACd,GAAG,EAAE,GAAG;GACR,KAAK,EAAE,OAAO;GACd,CAAC;;EAEF,GAAG,KAAK,CAAC,SAAS,CAAC,OAAO,EAAE;GAC3B,KAAK,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,QAAQ,CAAC,gBAAgB,CAAC,eAAe,CAAC,CAAC,CAAC,OAAO,CAAC,UAAU,GAAG,EAAE;IAC7F,IAAI,GAAG,GAAG,GAAG,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC;;IAEvC,IAAI,QAAQ,EAAE,MAAM,GAAG,GAAG,CAAC;IAC3B,IAAI,IAAI,GAAG,gCAAgC,CAAC;IAC5C,OAAO,MAAM,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,EAAE;KAC9C,MAAM,GAAG,MAAM,CAAC,UAAU,CAAC;KAC3B;;IAED,IAAI,MAAM,EAAE;KACX,QAAQ,GAAG,CAAC,GAAG,CAAC,SAAS,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;KACpD;;IAED,IAAI,CAAC,QAAQ,EAAE;KACd,IAAI,SAAS,GAAG,CAAC,GAAG,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,GAAG,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC;KACrD,QAAQ,GAAG,UAAU,CAAC,SAAS,CAAC,IAAI,SAAS,CAAC;KAC9C;;IAED,IAAI,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;IAC1C,IAAI,CAAC,SAAS,GAAG,WAAW,GAAG,QAAQ,CAAC;;IAExC,GAAG,CAAC,WAAW,GAAG,EAAE,CAAC;;IAErB,IAAI,CAAC,WAAW,GAAG,UAAU,CAAC;;IAE9B,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;;IAEtB,IAAI,GAAG,GAAG,IAAI,cAAc,EAAE,CAAC;;IAE/B,GAAG,CAAC,IAAI,CAAC,KAAK,EAAE,GAAG,EAAE,IAAI,CAAC,CAAC;;IAE3B,GAAG,CAAC,kBAAkB,GAAG,YAAY;KACpC,IAAI,GAAG,CAAC,UAAU,IAAI,CAAC,EAAE;;MAExB,IAAI,GAAG,CAAC,MAAM,GAAG,GAAG,IAAI,GAAG,CAAC,YAAY,EAAE;OACzC,IAAI,CAAC,WAAW,GAAG,GAAG,CAAC,YAAY,CAAC;;OAEpC,KAAK,CAAC,gBAAgB,CAAC,IAAI,CAAC,CAAC;OAC7B;WACI,IAAI,GAAG,CAAC,MAAM,IAAI,GAAG,EAAE;OAC3B,IAAI,CAAC,WAAW,GAAG,UAAU,GAAG,GAAG,CAAC,MAAM,GAAG,wBAAwB,GAAG,GAAG,CAAC,UAAU,CAAC;OACvF;WACI;OACJ,IAAI,CAAC,WAAW,GAAG,0CAA0C,CAAC;OAC9D;MACD;KACD,CAAC;;IAEF,GAAG,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;IACf,CAAC,CAAC;GACH;;EAED,CAAC;;CAEF,QAAQ,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,IAAI,CAAC,KAAK,CAAC,aAAa,CAAC,CAAC;;CAExE,GAAG,CAAC;;;AC1xBL,KAAK,CAAC,SAAS,CAAC,MAAM,EAAE;CACvB,sBAAsB,EAAE;EACvB,OAAO,EAAE,+BAA+B;EACxC,KAAK,EAAE,QAAQ;EACf;CACD,SAAS,EAAE;EACV,OAAO,EAAE,cAAc;EACvB,UAAU,EAAE,IAAI;EAChB;CACD,QAAQ,EAAE;EACT,OAAO,EAAE,gCAAgC;EACzC,MAAM,EAAE,IAAI;EACZ;CACD,UAAU,GAAG;EACZ,OAAO,EAAE,kDAAkD;EAC3D,UAAU,EAAE,IAAI;EAChB;CACD,YAAY,EAAE;EACb,OAAO,EAAE,yBAAyB;EAClC,UAAU,EAAE,IAAI;EAChB;CACD,SAAS,GAAG,8KAA8K;CAC1L,SAAS,GAAG,oBAAoB;CAChC,QAAQ,GAAG,2EAA2E;CACtF,UAAU,GAAG,sEAAsE;CACnF,aAAa,GAAG,eAAe;CAC/B,CAAC;;AC1BF,KAAK,CAAC,SAAS,CAAC,KAAK,GAAG;CACvB,SAAS,EAAE;EACV;GACC,OAAO,EAAE,2BAA2B;GACpC,UAAU,EAAE,IAAI;GAChB;EACD;GACC,OAAO,EAAE,kBAAkB;GAC3B,UAAU,EAAE,IAAI;GAChB;EACD;CACD,QAAQ,EAAE;EACT,OAAO,EAAE,8CAA8C;EACvD,MAAM,EAAE,IAAI;EACZ;CACD,YAAY,EAAE;EACb,OAAO,EAAE,sGAAsG;EAC/G,UAAU,EAAE,IAAI;EAChB,MAAM,EAAE;GACP,WAAW,EAAE,SAAS;GACtB;EACD;CACD,SAAS,EAAE,0GAA0G;CACrH,SAAS,EAAE,kBAAkB;CAC7B,UAAU,EAAE,mBAAmB;CAC/B,QAAQ,EAAE,+CAA+C;CACzD,UAAU,EAAE,yDAAyD;CACrE,aAAa,EAAE,eAAe;CAC9B,CAAC;;;;ACpBF,MAAMH,GAAC,GAAG,QAAQ,CAAC,QAAQ,EAAE,CAAC;;;;;;;;;;;;;;;;;;AAkB9B,EAAE,GAAG,CAAC;;;;;AAKN,CAAC,CAAC,CAAC;;AAEH,AAAO,MAAM,IAAI,SAAS,QAAQ,CAACA,GAAC,CAAC,WAAW,CAAC,CAAC,CAAC;;EAEjD,aAAa,GAAG;;;IAGd,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,YAAY,CAAC,UAAU,CAAC,CAAC;IAClD,IAAI,CAAC,IAAI,CAAC,YAAY,EAAE;MACtB,OAAO,CAAC,IAAI,CAAC,gLAAgL,CAAC,CAAC;MAC/L,OAAO;KACR;IACD,MAAM,QAAQ,GAAGI,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC,YAAY,CAAC,CAAC;IACpD,IAAI,QAAQ,IAAI,SAAS,EAAE;MACzB,OAAO,CAAC,IAAI,CAAC,CAAC,8DAA8D,EAAE,IAAI,CAAC,YAAY,CAAC,EAAE,CAAC,CAAC,CAAC;MACrG,OAAO;KACR;;IAED,IAAI,OAAO,GAAG,IAAI,CAAC,WAAW,CAAC;IAC/B,MAAM,OAAO,GAAG,IAAI,CAAC,UAAU,CAAC,aAAa,CAAC,iBAAiB,CAAC,CAAC;;IAEjE,IAAI,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,EAAE;;MAE9B,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC,IAAI,EAAE,EAAE,CAAC,CAAC;MACpC,MAAM,IAAI,GAAG,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC;MAClC,OAAO,GAAG,OAAO,CAAC,OAAO,CAAC,IAAI,MAAM,CAAC,IAAI,GAAG,IAAI,EAAE,GAAG,CAAC,EAAE,IAAI,CAAC,CAAC;MAC9D,OAAO,GAAG,OAAO,CAAC,IAAI,EAAE,CAAC;;MAEzB,IAAI,OAAO,CAAC,UAAU,YAAY,UAAU,EAAE;QAC5C,MAAM,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;QAC7C,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;QACrC,MAAM,CAAC,WAAW,CAAC,OAAO,CAAC,CAAC;QAC5B,IAAI,CAAC,UAAU,CAAC,WAAW,CAAC,MAAM,CAAC,CAAC;OACrC;;KAEF;;IAED,OAAO,CAAC,SAAS,GAAG,CAAC,SAAS,EAAE,IAAI,CAAC,YAAY,CAAC,CAAC,CAAC;IACpD,OAAO,CAAC,SAAS,GAAGA,KAAK,CAAC,SAAS,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;GACxD;;CAEF;;ACrED,MAAMJ,GAAC,GAAG,QAAQ,CAAC,YAAY,EAAE,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8BlC,CAAC,CAAC,CAAC;;AAEH,AAAO,MAAM,QAAQ,SAASA,GAAC,CAAC,WAAW,CAAC,CAAC;;EAE3C,WAAW,GAAG;IACZ,KAAK,EAAE,CAAC;;IAER,MAAM,OAAO,GAAG,CAAC,SAAS,EAAE,IAAI,EAAE,aAAa,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC;IACtE,MAAM,QAAQ,GAAG,IAAI,gBAAgB,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;IACnD,QAAQ,CAAC,OAAO,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;GACjC;;EAED,MAAM,GAAG;IACP,MAAM,OAAO,GAAG,EAAE,MAAM,EAAE,IAAI,EAAE,OAAO,EAAE,IAAI,EAAE,CAAC;IAChD,MAAM,KAAK,GAAG,IAAI,WAAW,CAAC,mBAAmB,EAAE,OAAO,CAAC,CAAC;IAC5D,QAAQ,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;GAC/B;;EAED,iBAAiB,GAAG;;;;;;IAMlB,QAAQ,CAAC,iBAAiB,IAAI,CAAC,CAAC;IAChC,MAAM,QAAQ,GAAG,QAAQ,CAAC,iBAAiB,CAAC,QAAQ,EAAE,CAAC;IACvD,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,GAAG,aAAa,GAAG,QAAQ,CAAC;;;IAG7C,MAAM,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC;IACrD,GAAG,CAAC,EAAE,GAAG,kBAAkB,GAAG,QAAQ,CAAC;;;IAGvC,MAAM,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;IAC7C,IAAI,CAAC,YAAY,CAAC,IAAI,EAAE,KAAK,GAAG,QAAQ,CAAC,CAAC;IAC1C,IAAI,CAAC,YAAY,CAAC,gBAAgB,EAAE,GAAG,CAAC,EAAE,CAAC,CAAC;IAC5C,IAAI,CAAC,WAAW,GAAG,QAAQ,CAAC;;IAE5B,IAAI,CAAC,QAAQ,GAAG,IAAI,QAAQ,CAAC,GAAG,EAAE,IAAI,CAAC,CAAC;GACzC;;CAEF;;AAED,QAAQ,CAAC,iBAAiB,GAAG,CAAC,CAAC;;AC1E/B,MAAMA,GAAC,GAAG,QAAQ,CAAC,iBAAiB,EAAE,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCvC,CAAC,CAAC,CAAC;;AAEH,AAAO,MAAM,YAAY,SAASA,GAAC,CAAC,WAAW,CAAC,CAAC;;EAE/C,iBAAiB,GAAG;IAClB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;;IAE1C,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;;;;;GAKvC;;;EAGD,IAAI,SAAS,CAAC,SAAS,EAAE;IACvB,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,EAAE,CAAC;IACzB,IAAI,SAAS,CAAC,MAAM,EAAE;;MAEpB,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,SAAS,CAAC;;MAEzC,KAAK,MAAM,QAAQ,IAAI,SAAS,EAAE;;QAEhC,MAAM,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,IAAI,CAAC,CAAC;QAC9C,QAAQ,CAAC,EAAE,GAAG,QAAQ,CAAC,EAAE,GAAG,UAAU,CAAC;QACvC,QAAQ,CAAC,SAAS,GAAG,QAAQ,CAAC,SAAS,CAAC;;QAExC,MAAM,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;QAC7C,QAAQ,CAAC,YAAY,CAAC,OAAO,EAAE,mBAAmB,CAAC,CAAC;QACpD,QAAQ,CAAC,WAAW,GAAG,KAAK,CAAC;QAC7B,QAAQ,CAAC,IAAI,GAAG,GAAG,GAAG,QAAQ,CAAC,EAAE,CAAC;;QAElC,QAAQ,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;QAC/B,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC,QAAQ,CAAC,CAAC;OACjC;KACF,MAAM;;MAEL,IAAI,CAAC,UAAU,CAAC,IAAI,CAAC,KAAK,CAAC,OAAO,GAAG,MAAM,CAAC;KAC7C;GACF;;CAEF;;AC3ED,MAAMA,GAAC,GAAG,QAAQ,CAAC,cAAc,EAAE,CAAC;;;;;;AAMpC,CAAC,EAAE,KAAK,CAAC,CAAC;;AAEV,AAAQ,MAAM,UAAU,SAASA,GAAC,CAAC,WAAW,CAAC,CAAC;;CAE/C;;ACZM,MAAM,GAAG,SAAS,WAAW,CAAC;;EAEnC,WAAW,EAAE,GAAG,EAAE,OAAO,OAAO,CAAC,EAAE;;EAEnC,iBAAiB,GAAG;IAClB,IAAI,CAAC,IAAI,CAAC,YAAY,CAAC,aAAa,CAAC,EAAE;MACrC,MAAM,CAAC,MAAM,GAAG,MAAM;QACpB,MAAM,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC;QACpD,MAAM,QAAQ,GAAG,OAAO,CAAC,gBAAgB,CAAC,QAAQ,CAAC,CAAC;QACpD,SAAS,CAAC,IAAI,EAAE,QAAQ,CAAC,CAAC;OAC3B,CAAC;KACH;GACF;;CAEF;;AAED,AAAO,SAAS,SAAS,CAAC,OAAO,EAAE,QAAQ,EAAE;;EAE3C,IAAI,GAAG,EAAE,CAAC;;;;;;;;;;;;;;;;;;;;;;;;MAwBN,CAAC,CAAC;;EAEN,KAAK,MAAM,EAAE,IAAI,QAAQ,EAAE;;IAEzB,MAAM,SAAS,GAAG,EAAE,CAAC,aAAa,CAAC,OAAO,IAAI,SAAS,CAAC;IACxD,MAAM,WAAW,GAAG,EAAE,CAAC,YAAY,CAAC,QAAQ,CAAC,CAAC;IAC9C,IAAI,SAAS,IAAI,WAAW,EAAE,EAAA,SAAS,EAAA;;IAEvC,MAAM,KAAK,GAAG,EAAE,CAAC,WAAW,CAAC;IAC7B,MAAM,IAAI,GAAG,GAAG,GAAG,EAAE,CAAC,YAAY,CAAC,IAAI,CAAC,CAAC;;IAEzC,IAAI,OAAO,GAAG,MAAM,GAAG,WAAW,GAAG,IAAI,GAAG,IAAI,GAAG,KAAK,GAAG,MAAM,GAAG,OAAO,CAAC;IAC5E,IAAI,EAAE,CAAC,OAAO,IAAI,IAAI,EAAE;MACtB,OAAO,GAAG,MAAM,GAAG,OAAO,GAAG,OAAO,CAAC;KACtC,MAAM;MACL,OAAO,IAAI,MAAM,CAAC;KACnB;IACD,GAAG,IAAI,OAAO,CAAC;;GAEhB;;EAED,GAAG,IAAI,aAAa,CAAC;EACrB,OAAO,CAAC,SAAS,GAAG,GAAG,CAAC;CACzB;;ACjED;;;;;;;;;;;;;;;AAeA,AAAO,MAAM,MAAM,SAAS,WAAW,CAAC;;EAEtC,WAAW,EAAE,GAAG,EAAE,OAAO,UAAU,CAAC,EAAE;;EAEtC,WAAW,UAAU,GAAG;IACtB,IAAI,CAAC,MAAM,CAAC,WAAW,EAAE;MACvB,MAAM,CAAC,WAAW,GAAG,EAAE,CAAC;KACzB;IACD,OAAO,MAAM,CAAC,WAAW,CAAC;GAC3B;;EAED,OAAO,eAAe,CAAC,MAAM,EAAE;IAC7B,IAAI,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,EAAE;MAC5C,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;MAC/B,MAAM,CAAC,aAAa,EAAE,CAAC;KACxB;GACF;;EAED,OAAO,aAAa,GAAG;;;;;IAKrB,MAAM,MAAM,GAAG,MAAM,CAAC,UAAU;OAC7B,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,aAAa,GAAG,CAAC,CAAC,aAAa,EAAE;OACjD,MAAM,CAAC,CAAC,MAAM,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC;OAClC,GAAG,EAAE,CAAC;IACT,IAAI,MAAM,EAAE;MACV,MAAM,CAAC,KAAK,EAAE,CAAC;MACf,qBAAqB,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;KAC7C;;GAEF;;EAED,WAAW,GAAG;IACZ,KAAK,EAAE,CAAC;;IAER,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IACpB,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;IACvB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;GACxB;;EAED,iBAAiB,GAAG;IAClB,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;IACpC,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC;GACrC;;EAED,oBAAoB,GAAG;IACrB,MAAM,CAAC,cAAc,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;IACtC,MAAM,CAAC,cAAc,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;GACvC;;;;;;EAMD,WAAW,cAAc,GAAG;IAC1B,IAAI,CAAC,MAAM,CAAC,eAAe,EAAE;MAC3B,MAAM,cAAc,GAAG,MAAM,CAAC,WAAW,CAAC;MAC1C,MAAM,MAAM,GAAG,IAAI,CAAC,KAAK,CAAC,CAAC,GAAG,cAAc,CAAC,CAAC;MAC9C,MAAM,CAAC,eAAe,GAAG,IAAI,oBAAoB;QAC/C,MAAM,CAAC,4BAA4B,EAAE;UACnC,UAAU,EAAE,MAAM,GAAG,SAAS,GAAG,MAAM,GAAG,QAAQ,EAAE,SAAS,EAAE,IAAI;SACpE,CAAC,CAAC;KACN;IACD,OAAO,MAAM,CAAC,eAAe,CAAC;GAC/B;;EAED,OAAO,4BAA4B,CAAC,OAAO,EAAE;IAC3C,KAAK,MAAM,KAAK,IAAI,OAAO,EAAE;MAC3B,MAAM,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;MAC5B,IAAI,KAAK,CAAC,cAAc,IAAI,CAAC,MAAM,CAAC,MAAM,EAAE;QAC1C,MAAM,CAAC,eAAe,CAAC,MAAM,CAAC,CAAC;OAChC;KACF;GACF;;EAED,WAAW,cAAc,GAAG;IAC1B,IAAI,CAAC,MAAM,CAAC,eAAe,EAAE;MAC3B,MAAM,CAAC,eAAe,GAAG,IAAI,oBAAoB;QAC/C,MAAM,CAAC,4BAA4B,EAAE;UACnC,UAAU,EAAE,KAAK,EAAE,SAAS,EAAE,CAAC,CAAC,EAAE,GAAG,CAAC;SACvC;OACF,CAAC;KACH;IACD,OAAO,MAAM,CAAC,eAAe,CAAC;GAC/B;;EAED,OAAO,4BAA4B,CAAC,OAAO,EAAE;IAC3C,KAAK,MAAM,KAAK,IAAI,OAAO,EAAE;MAC3B,MAAM,MAAM,GAAG,KAAK,CAAC,MAAM,CAAC;MAC5B,IAAI,KAAK,CAAC,cAAc,EAAE;QACxB,MAAM,CAAC,aAAa,GAAG,IAAI,IAAI,EAAE,CAAC;;QAElC,IAAI,MAAM,CAAC,UAAU,EAAE,EAAE,MAAM,CAAC,QAAQ,EAAE,CAAC,EAAE;OAC9C,MAAM;QACL,IAAI,MAAM,CAAC,SAAS,EAAE,EAAE,MAAM,CAAC,SAAS,EAAE,CAAC,EAAE;OAC9C;KACF;GACF;;;;EAID,gBAAgB,CAAC,SAAS,EAAE,QAAQ,EAAE;IACpC,KAAK,CAAC,gBAAgB,CAAC,SAAS,EAAE,QAAQ,CAAC,CAAC;;;IAG5C,IAAI,SAAS,KAAK,OAAO,EAAE;MACzB,IAAI,MAAM,CAAC,UAAU,CAAC,OAAO,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC,EAAE;QAC1C,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;QACpB,MAAM,CAAC,aAAa,EAAE,CAAC;OACxB;KACF;IACD,IAAI,SAAS,KAAK,UAAU,EAAE;MAC5B,IAAI,CAAC,QAAQ,EAAE,CAAC;KACjB;GACF;;;;EAID,KAAK,GAAG;;IAEN,IAAI,CAAC,MAAM,GAAG,IAAI,CAAC;IACnB,MAAM,CAAC,cAAc,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;IACtC,MAAM,KAAK,GAAG,IAAI,WAAW,CAAC,OAAO,CAAC,CAAC;IACvC,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;GAC3B;;EAED,QAAQ,GAAG;IACT,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;IACtB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;IACxB,MAAM,KAAK,GAAG,IAAI,WAAW,CAAC,UAAU,CAAC,CAAC;IAC1C,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;GAC3B;;EAED,SAAS,GAAG;IACV,IAAI,CAAC,SAAS,GAAG,KAAK,CAAC;IACvB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;IACvB,MAAM,KAAK,GAAG,IAAI,WAAW,CAAC,WAAW,CAAC,CAAC;IAC3C,IAAI,CAAC,aAAa,CAAC,KAAK,CAAC,CAAC;GAC3B;;CAEF;;AAED,IAAI,OAAO,MAAM,KAAK,WAAW,EAAE;;EAEjC,MAAM,CAAC,WAAW,GAAG,KAAK,CAAC;EAC3B,IAAI,OAAO,CAAC;EACZ,MAAM,UAAU,GAAG,MAAM;IACvB,MAAM,CAAC,WAAW,GAAG,IAAI,CAAC;IAC1B,YAAY,CAAC,OAAO,CAAC,CAAC;IACtB,OAAO,GAAG,UAAU,CAAC,MAAM;MACzB,MAAM,CAAC,WAAW,GAAG,KAAK,CAAC;MAC3B,MAAM,CAAC,aAAa,EAAE,CAAC;KACxB,EAAE,GAAG,CAAC,CAAC;GACT,CAAC;EACF,MAAM,CAAC,gBAAgB,CAAC,QAAQ,EAAE,UAAU,EAAE,IAAI,CAAC,CAAC;;CAErD;;ACxKD,MAAMA,IAAC,GAAG,QAAQ,CAAC,gBAAgB,EAAE,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmFtC,CAAC,CAAC,CAAC;;AAEH,AAAO,MAAM,YAAY,SAASA,IAAC,CAAC,WAAW,CAAC,CAAC;;EAE/C,iBAAiB,GAAG;IAClB,MAAM,aAAa,GAAG,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,8BAA8B,CAAC,CAAC;IAC9E,aAAa,CAAC,OAAO,GAAG,CAAC,KAAK,KAAK,IAAI,CAAC,eAAe,CAAC,KAAK,CAAC,CAAC;IAC/D,UAAU,CAAC,MAAM;MACf,IAAI,CAAC,OAAO,GAAG,QAAQ,CAAC,aAAa,CAAC,WAAW,CAAC,CAAC;MACnD,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,oBAAoB,CAAC;MAC1C,MAAM,OAAO,GAAG,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC,UAAU,CAAC,CAAC;MACpD,OAAO,CAAC,SAAS,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;KACtC,EAAE,GAAG,CAAC,CAAC;GACT;;EAED,eAAe,CAAC,KAAK,EAAE;IACrB,MAAM,OAAO,GAAG,KAAK,CAAC,MAAM,CAAC,KAAK,CAAC;IACnC,IAAI,OAAO,KAAK,IAAI,CAAC,QAAQ,EAAE;MAC7B,OAAO,CAAC,GAAG,CAAC,2BAA2B,CAAC,CAAC;MACzC,KAAK,CAAC,MAAM,CAAC,SAAS,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;MACpC,IAAI,CAAC,OAAO,CAAC,KAAK,GAAG,EAAE,CAAC;MACxB,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,IAAI,CAAC,CAAC;KACtC;GACF;;CAEF;;;;AC7GD,MAAMA,IAAC,GAAG,QAAQ,CAAC,gBAAgB,EAAE,CAAC;;;;;;;;;;WAU3B,EAAE,GAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAmFb,EAAE,IAAI,CAAC;;;;;;AAMX,CAAC,CAAC,CAAC;;;;;;;;AAQH,AAAO,MAAM,aAAa,SAASA,IAAC,CAAC,WAAW,CAAC,CAAC;;CAEjD;;AC/GD,MAAMK,QAAM,GAAG,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoChB,CAAC,CAAC;;AAEF,AAAO,SAAS,gBAAgB,CAAC,WAAW,EAAE;EAC5C,OAAO,CAAC;EACR,EAAEA,QAAM,CAAC;;;mJAGwI,EAAE,WAAW,CAAC,SAAS,GAAG,aAAa,CAAC;;;6KAGd,EAAE,WAAW,CAAC,SAAS,CAAC;;;;8BAIvK,EAAE,WAAW,CAAC,mBAAmB,CAAC,GAAG,EAAE,WAAW,CAAC,KAAK,CAAC,YAAY,EAAE,WAAW,CAAC,aAAa,CAAC;;6BAElG,EAAE,4BAA4B,CAAC,WAAW,CAAC,CAAC;EACvE,CAAC,CAAC;CACH;;AAED,AAAO,MAAM,eAAe,SAAS,WAAW,CAAC;;EAE/C,WAAW,EAAE,GAAG,EAAE,OAAO,kBAAkB,CAAC,EAAE;;EAE9C,IAAI,WAAW,CAAC,WAAW,EAAE;IAC3B,IAAI,CAAC,SAAS,GAAG,gBAAgB,CAAC,WAAW,CAAC,CAAC;GAChD;;CAEF;;AC/DD,MAAML,IAAC,GAAG,QAAQ,CAAC,gBAAgB,EAAE,CAAC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;EA2CpC,EAAE,IAAI,CAAC;;;;AAIT,CAAC,CAAC,CAAC;;AAEH,AAAO,MAAM,aAAa,SAASA,IAAC,CAAC,WAAW,CAAC,CAAC;;CAEjD;;ACtDD;AACA,AACA,YAAY,CAAC,QAAQ,CAAC,CAAC;;;AAGvB,AAiBA,MAAM,UAAU,GAAG;EACjB,QAAQ,EAAE,QAAQ,EAAE,OAAO,EAAE,YAAY,EAAE,MAAM,EAAE,IAAI,EAAE,YAAY,EAAE,IAAI;EAC3E,QAAQ,EAAE,YAAY,EAAEE,aAAW,EAAE,KAAK,EAAE,UAAU,EAAE,GAAG,EAAE,MAAM;EACnE,YAAY;CACb,CAAC;;;AAGF,AAIA,MAAM,iBAAiB,GAAG;EACxB,aAAa,EAAE,eAAe,EAAE,aAAa;CAC9C,CAAC;;AAEF,SAAS,gBAAgB,GAAG;EAC1B,MAAM,aAAa,GAAG,UAAU,CAAC,MAAM,CAAC,iBAAiB,CAAC,CAAC;EAC3D,KAAK,MAAM,SAAS,IAAI,aAAa,EAAE;IACrC,cAAc,CAAC,MAAM,CAAC,SAAS,CAAC,EAAE,EAAE,SAAS,CAAC,CAAC;GAChD;CACF;;AAED,gBAAgB,EAAE,CAAC;;;;"}